(function(){var e={5303:function(e,t,n){"use strict";n.r(t);var o=n(8081),a=n.n(o),i=n(3645),r=n.n(i),l=r()(a());l.push([e.id,".block[data-v-51e0c2c4]{padding:8px 14px;border-bottom:solid #cdd8e4;border-width:1px 0;-webkit-transition:all .3s;transition:all .3s;background-color:#e4edf6;opacity:.5;min-height:34px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:-webkit-grab;cursor:grab}.block .copytextbtn[data-v-51e0c2c4]:hover{margin-left:0;margin-right:-16px}.block .copytextbtn[data-v-51e0c2c4]{margin:3px 0}.block .name[data-v-51e0c2c4]{margin:3px 0;margin-right:5px}.block .actions[data-v-51e0c2c4]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:auto}.block .actions>div[data-v-51e0c2c4]{margin-bottom:2px}.block .inner[data-v-51e0c2c4]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden}.block.original[data-v-51e0c2c4]{opacity:1}.block.original .description[data-v-51e0c2c4]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-right:5px}.block.original .name[data-v-51e0c2c4]{margin:0}.block.active[data-v-51e0c2c4]{opacity:1}.block[data-v-51e0c2c4]:last-child{border-bottom:none}.block .small[data-v-51e0c2c4]{font-size:12px}.block .description[data-v-51e0c2c4]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.block .delete[data-v-51e0c2c4],.block .settings[data-v-51e0c2c4]{padding:0 2px;cursor:pointer;font-size:16px}.block .icon[data-v-51e0c2c4]:before{margin-top:-2px}",""]),t["default"]=l},1654:function(e,t,n){"use strict";n.r(t);var o=n(8081),a=n.n(o),i=n(3645),r=n.n(i),l=r()(a());l.push([e.id,"#toolbar{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:end}",""]),t["default"]=l},4799:function(e,t,n){"use strict";n.r(t);var o=n(8081),a=n.n(o),i=n(3645),r=n.n(i),l=r()(a());l.push([e.id,'.blocks[data-v-94cbf7aa]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;border-radius:3px;background-color:#f3f7fc;overflow:hidden;border:1px solid rgba(96,125,159,.25);-webkit-box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2)}.blocks .spinner-wrapper[data-v-94cbf7aa]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1000}.blocks .spinner-wrapper .spinner[data-v-94cbf7aa]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.blocks .block-sidebar[data-v-94cbf7aa],.blocks .options[data-v-94cbf7aa],.blocks .regions[data-v-94cbf7aa]{-webkit-box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2)}.blocks[data-v-94cbf7aa]:after{position:absolute;display:block;top:0;left:0;width:100%;height:100%;content:"";-webkit-box-shadow:inset 0 1px 3px -1px #acbed2;box-shadow:inset 0 1px 3px -1px #acbed2;pointer-events:none}.blocks .regions[data-v-94cbf7aa]{width:60%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;background:#fff}.blocks .regions *[data-v-94cbf7aa]{-webkit-box-sizing:border-box;box-sizing:border-box}.blocks .region-list[data-v-94cbf7aa]{padding:15px 15px 5px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.blocks .blocks-sidebar[data-v-94cbf7aa],.blocks .options[data-v-94cbf7aa],.blocks .regions[data-v-94cbf7aa]{min-height:calc(100vh - 320px);overflow-y:auto}.blocks .blocks-sidebar[data-v-94cbf7aa]{width:30%;max-width:300px}.blocks h5.sub-heading[data-v-94cbf7aa]{padding:7px 15px;margin:0;position:relative;cursor:pointer}.blocks .heading[data-v-94cbf7aa],.blocks h5.sub-heading[data-v-94cbf7aa]{border-bottom:1px solid rgba(96,125,159,.25)}.blocks .heading[data-v-94cbf7aa]{padding:7px 14px 6px;background-color:#f3f7fc;background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(51,64,77,0)),to(rgba(51,64,77,.05)));background-image:linear-gradient(rgba(51,64,77,0),rgba(51,64,77,.05))}.blocks h5.slide[data-v-94cbf7aa]{position:relative}.blocks h5.slide[data-v-94cbf7aa]:before{position:absolute;right:10px}',""]),t["default"]=l},5408:function(e,t,n){"use strict";n.r(t);var o=n(8081),a=n.n(o),i=n(3645),r=n.n(i),l=r()(a());l.push([e.id,".heading[data-v-70376e3d]{margin:0 24px 14px 24px}",""]),t["default"]=l},5481:function(e,t,n){"use strict";n.r(t);var o=n(8081),a=n.n(o),i=n(3645),r=n.n(i),l=r()(a());l.push([e.id,".btn[disabled][data-v-4b0f83d2]{opacity:.5}",""]),t["default"]=l},5382:function(e,t,n){"use strict";n.r(t);var o=n(8081),a=n.n(o),i=n(3645),r=n.n(i),l=r()(a());l.push([e.id,"input[disabled][data-v-93b24d3a]{background:hsla(0,0%,90%,.7)}.modal[data-v-93b24d3a]{padding-bottom:62px;max-height:307px!important;max-width:300px!important;min-height:unset!important;min-width:unset!important}.modal .body[data-v-93b24d3a]{height:calc(100% - 65px)}",""]),t["default"]=l},5247:function(e,t,n){"use strict";n.r(t);var o=n(8081),a=n.n(o),i=n(3645),r=n.n(i),l=r()(a());l.push([e.id,".region[data-v-34c00527]{margin-bottom:10px}.region-title[data-v-34c00527]{font-weight:700;font-size:16px;margin-right:10px}.region-blocks[data-v-34c00527]{min-height:42px;margin-top:5px;-webkit-box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);border-radius:3px}.region-blocks.drop-active[data-v-34c00527]{padding-bottom:58px}.region-heading[data-v-34c00527]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.region-heading .copytextbtn[data-v-34c00527]:hover{margin-left:0;margin-right:-16px}",""]),t["default"]=l},7309:function(e,t,n){"use strict";n.r(t);var o=n(5082),a=(n(7941),n(894));t["default"]={props:{block:{type:Object,default:null},original:Boolean},emits:["remove"],computed:(0,o["default"])({fullName:function(){return this.block.provider+"-"+this.block.handle},hasErrors:function(){return Object.keys(this.block.errors).length>0}},(0,a.mapState)(["blocks","blockOptionId","showFieldHandles"])),mounted:function(){Craft.initUiElements(this.$el)},methods:(0,o["default"])({copyValue:function(e){var t=e.target;t.select(),document.execCommand("copy"),Craft.cp.displayNotice(this.t("Copied to clipboard.","app")),t.setSelectionRange(0,0)}},(0,a.mapMutations)(["updateBlock","setShowOptionsModal"]))}},9802:function(e,t,n){"use strict";n.r(t);var o=n(5082),a=n(894),i=n(1982),r=n(5134),l=n(3927),s=n(9980),c=n.n(s),d=n(6486);t["default"]={components:{Region:l["default"],Block:i["default"],OptionsModal:r["default"],Draggable:c()},data:function(){return{slideStates:{}}},computed:(0,o["default"])({isLoading:function(){return(0,d.reduce)(this.isFetching,(function(e,t){return e||t}),this.isSaving)}},(0,a.mapState)(["blocks","regions","isFetching","isSaving","blockOptionId","providers","layouts"])),watch:{providers:{deep:!0,handler:function(e){var t=!0;for(var n in e)this.slideStates[n]=t,t=!1}}},created:function(){this.fetchProviders()},methods:(0,o["default"])({},(0,a.mapActions)(["checkChanges","fetchProviders"]))}},3866:function(e,t,n){"use strict";n.r(t);var o=n(5082),a=(n(9653),n(4916),n(3123),n(4553),n(894));t["default"]={props:{initialTheme:{type:String,default:null},initialLayout:{type:Number,default:null},themes:{type:Object,default:null},availableLayouts:{type:Object,default:null},allLayouts:{type:Object,default:null},allStrategies:{type:Object,default:null},showFieldHandles:{type:Number,default:null}},computed:(0,o["default"])({},(0,a.mapState)(["layouts","layout","theme"])),created:function(){var e=this;if(this.setShowFieldHandles(this.showFieldHandles),this.setCacheStrategies(this.allStrategies),this.setThemes(this.themes),this.setAllLayouts(this.allLayouts),this.initialTheme&&this.setTheme(this.initialTheme),this.initialLayout){var t=this.getLayout(this.initialLayout);t.hasBlocks?this.setLayoutAndFetch(this.initialLayout):(t=this.getDefaultLayout(),this.setLayoutAndFetch(t.id))}window.addEventListener("popstate",(function(){var t=document.location.pathname.split("/"),n=t.findIndex((function(e){return"blocks"==e}));-1!==n&&e.setTheme(t[n+1]),"undefined"!=typeof t[n+2]?e.setLayoutAndFetch(t[n+2]):(layout=e.getDefaultLayout(),e.setLayoutAndFetch(layout.id))}))},methods:(0,o["default"])((0,o["default"])({getLayout:function(e){for(var t in this.layouts)if(this.layouts[t].id==e)return this.layouts[t]},getDefaultLayout:function(){for(var e in this.layouts)if("default"==this.layouts[e].type)return this.layouts[e]},checkAndSetTheme:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.setThemeAndFetch(e)}},(0,a.mapMutations)(["setThemes","setAllLayouts","setAvailableLayouts","setTheme","setCacheStrategies","setShowFieldHandles"])),(0,a.mapActions)(["setLayoutAndFetch","setThemeAndFetch"]))}},1523:function(e,t,n){"use strict";n.r(t);var o=n(5082),a=(n(7327),n(2526),n(1817),n(894));t["default"]={computed:(0,o["default"])({layoutsWithBlocks:function(){return this.layouts.filter((function(e){return e.hasBlocks}))}},(0,a.mapState)(["layout","layouts"])),watch:{layout:function(){$("#selected-sidebar-item-label").html(this.layout.description)}},created:function(){var e=this;this.$nextTick((function(){Craft.cp.addListener($("#sidebar-toggle"),"click","toggleSidebar"),e.layout&&$("#selected-sidebar-item-label").html(e.layout.description)}))},methods:(0,o["default"])((0,o["default"])({confirmAndChangeLayout:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.setLayoutAndFetch(e)}},(0,a.mapMutations)([])),(0,a.mapActions)(["setLayoutAndFetch"]))}},7161:function(e,t,n){"use strict";n.r(t);var o=n(5082),a=(n(7327),n(894)),i=n(6486);t["default"]={computed:(0,o["default"])({isLoading:function(){return(0,i.reduce)(this.isFetching,(function(e,t){return e||t}),!1)},canCopy:function(){return!this.isSaving&&!this.isLoading&&this.layout.id},layoutsWithoutBlocks:function(){return this.layouts.filter((function(e){return!e.hasBlocks}))},canSave:function(){return!this.isSaving&&!this.isLoading}},(0,a.mapState)(["isSaving","isFetching","availableLayouts","layouts","isCopying","layout"])),methods:(0,o["default"])((0,o["default"])({checkAndCopy:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.copy(e)},copy:function(e){this.copyLayout(e),Craft.cp.displayNotice(this.t("Blocks are copied, make your changes and save"))},checkAndDelete:function(){confirm(this.t("Are you sure you want to delete this layout ?"))&&this.deleteLayout()}},(0,a.mapMutations)(["setShowLayoutModal"])),(0,a.mapActions)(["save","copyLayout","deleteLayout"]))}},1248:function(e,t,n){"use strict";n.r(t);var o=n(5082),a=(n(8309),n(3210),n(894)),i=n(6486),r=n(8422),l=n(4914);t["default"]={data:function(){return{modal:null,name:"",handle:"",nameError:!1,handleError:!1,handleGenerator:null}},computed:(0,o["default"])({editedLayout:function(){for(var e in this.layouts)if(this.layouts[e].uid==this.editedLayoutUid)return this.layouts[e];return null},customLayouts:function(){return(0,i.filter)(this.layouts,(function(e){return"custom"==e.type}))},hasError:function(){return this.handleError||this.nameError}},(0,a.mapState)(["layouts","showLayoutModal","editedLayoutUid","theme"])),watch:{showLayoutModal:function(){this.showLayoutModal?this.modal.show():this.modal.hide(),this.updategenerator(),this.editedLayoutUid&&(this.name=this.editedLayout.name,this.handle=this.editedLayout.elementUid)}},mounted:function(){this.createModal()},beforeUnmount:function(){this.modal.destroy()},methods:(0,o["default"])((0,o["default"])({createModal:function(){var e=this;this.modal=new Garnish.Modal(this.$refs.modal,{hideOnEsc:!1,hideOnShadeClick:!1,autoShow:!1}),this.handleGenerator=new l.HandleGenerator(".modal-layout #name",".modal-layout #handle"),this.handleGenerator.callback=function(t){e.handle=t},this.updategenerator()},updategenerator:function(){null===this.editedLayoutUid?this.handleGenerator.startListening():this.handleGenerator.stopListening()},removeErrors:function(){this.nameError=!1,this.handleError=!1},closeModal:function(){this.setShowLayoutModal({show:!1}),this.name="",this.handle="",this.removeErrors()},validateModal:function(){for(var e in this.removeErrors(),this.name.trim()||(this.nameError=this.t("Name is required")),this.handle.trim()||(this.handleError=this.t("Handle is required")),this.customLayouts)this.customLayouts[e].uid!=this.editedLayoutUid&&this.customLayouts[e].elementUid==this.handle.trim()&&(this.handleError=this.t("This handle is already defined"))},save:function(){this.validateModal(),this.hasError||(null!==this.editedLayoutUid?this.updateCustomLayout({name:this.name,elementUid:this.handle}):(this.createLayout({id:null,type:"custom",themeHandle:this.theme,uid:(0,r.v4)(),name:this.name,elementUid:this.handle,hasBlocks:!0,description:this.t("Custom : {name}",{name:this.name})}),Craft.cp.displayNotice(this.t("Custom layout is created, make your changes and save"))),this.closeModal())}},(0,a.mapMutations)(["setShowLayoutModal","updateCustomLayout"])),(0,a.mapActions)(["createLayout"]))}},392:function(e,t,n){"use strict";n.r(t);var o=n(5082),a=(n(2526),n(1817),n(7941),n(894)),i=n(6486);t["default"]={data:function(){return{modal:null,options:{},errors:{},active:null,cacheStrategy:null}},computed:(0,o["default"])({machineName:function(){return this.editedBlock.provider+"_"+this.editedBlock.handle},isContentBlock:function(){return"system_content"==this.machineName},strategyDescription:function(){var e=this.getStrategy(this.cacheStrategy.handle);return e?e.description:""},strategyFieldsDefinitions:function(){var e=this.getStrategy(this.cacheStrategy.handle);return e?e.options.definitions:""}},(0,a.mapState)(["cacheStrategies","showOptionsModal","editedBlock"])),watch:{showOptionsModal:function(){this.showOptionsModal?(this.options=(0,i.merge)({},this.editedBlock.options),this.active=this.editedBlock.active,this.errors=this.editedBlock.errors,this.cacheStrategy=this.editedBlock.cacheStrategy,this.modal.show()):this.modal.hide()}},beforeUnmount:function(){this.modal.destroy()},mounted:function(){this.createModal()},methods:(0,o["default"])((0,o["default"])({formFieldComponent:function(e){return"formfield-"+e},getStrategy:function(e){var t;return null!==(t=this.cacheStrategies[e])&&void 0!==t?t:null},createModal:function(){this.modal=new Garnish.Modal(this.$refs.modal,{hideOnEsc:!1,hideOnShadeClick:!1,autoShow:!1})},closeModal:function(){this.options={},this.errors={},this.active=null,this.setShowOptionsModal({show:!1})},updateStrategyOption:function(e,t){this.cacheStrategy.options[e]=t},updateOption:function(e,t){this.options[e]=t},updateCacheStrategy:function(e){e?(this.cacheStrategy.handle=e,this.cacheStrategy.options=this.getStrategy(e).options.defaultValues):(this.cacheStrategy.handle="",this.cacheStrategy.options={})},getCacheStrategyErrors:function(e){var t;return this.errors.cacheStrategy&&null!==(t=this.errors.cacheStrategy[e])&&void 0!==t?t:[]},getOptionErrors:function(e){var t;return this.errors.options&&null!==(t=this.errors.options[e])&&void 0!==t?t:[]},save:function(){var e=this,t={blockHandle:this.editedBlock.handle,provider:this.editedBlock.provider,options:this.options,cacheStrategy:this.cacheStrategy};axios({method:"post",url:Craft.getActionUrl("themes/cp-blocks-ajax/validate-block-options"),data:t,headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((function(t){Object.keys(t.data.errors).length>0?e.errors=t.data.errors:(e.editedBlock.active=e.active,e.editedBlock.options=e.options,e.editedBlock.cacheStrategy=e.cacheStrategy,e.updateBlock(e.editedBlock),e.closeModal())})).catch((function(t){e.handleError(t)}))}},(0,a.mapMutations)(["updateBlock","setShowOptionsModal"])),(0,a.mapActions)([]))}},2129:function(e,t,n){"use strict";n.r(t);var o=n(1372),a=n(5082),i=n(894),r=n(6486),l=n(1982),s=n(9980),c=n.n(s);t["default"]={components:{Block:l["default"],Draggable:c()},props:{region:{type:Object,default:null}},computed:(0,a["default"])({regionBlocks:function(){var e=this;return(0,r.sortBy)((0,r.filter)(this.blocks,(function(t){return e.region.handle==t.region})),"order")}},(0,i.mapState)(["blocks","showFieldHandles"])),methods:(0,a["default"])((0,a["default"])({changed:function(e){var t,n,i;e.added?(t=e.added.newIndex,n=(0,a["default"])({},e.added.element),n.region=this.region.handle,n.order=t,void 0===n.index?(n.active=!0,this.addBlock(n)):this.updateBlock(n),i=(0,o["default"])(this.regionBlocks)):e.moved?(t=e.moved.newIndex,n=e.moved.element,i=(0,o["default"])(this.regionBlocks)):i=(0,r.filter)(this.regionBlocks,(function(t){return t.index!==e.removed.element.index}));var l=0;for(var s in i){var c=i[s];s!==t&&(c.order=l),l++,this.updateBlock(c)}n&&(n.order=t,this.updateBlock(n))},copyValue:function(e){var t=e.target;t.select(),document.execCommand("copy"),Craft.cp.displayNotice(this.t("Copied to clipboard.","app")),t.setSelectionRange(0,0)}},(0,i.mapMutations)(["addBlock","removeBlock","updateBlock"])),(0,i.mapActions)([]))}},2661:function(e,t,n){"use strict";n.r(t),n.d(t,{render:function(){return h}});n(8309);var o=n(8253),a=function(e){return(0,o.pushScopeId)("data-v-51e0c2c4"),e=e(),(0,o.popScopeId)(),e},i={class:"inner"},r={class:"description"},l={class:"name"},s={key:0,class:"error","data-icon":"alert","aria-label":"Error"},c={key:0,class:"small"},d=["value","size"],u=a((function(){return(0,o.createElementVNode)("span",{"data-icon":"clipboard","aria-hidden":"true"},null,-1)})),f={key:0,class:"info"},p={class:"actions"};function h(e,t,n,a,h,m){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)({block:!0,original:n.original,active:n.block.active&&!n.original})},[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",l,[(0,o.createTextVNode)((0,o.toDisplayString)(n.block.name)+" ",1),m.hasErrors?((0,o.openBlock)(),(0,o.createElementBlock)("span",s)):(0,o.createCommentVNode)("",!0)]),n.original?((0,o.openBlock)(),(0,o.createElementBlock)("div",c,(0,o.toDisplayString)(n.block.smallDescription),1)):(0,o.createCommentVNode)("",!0),!n.original&&e.showFieldHandles?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"code small light copytextbtn",title:"Copy to clipboard",role:"button",onClick:t[0]||(t[0]=function(){return m.copyValue&&m.copyValue.apply(m,arguments)})},[(0,o.createElementVNode)("input",{type:"text",value:m.fullName,readonly:"",size:m.fullName.length},null,8,d),u])):(0,o.createCommentVNode)("",!0)]),n.original&&n.block.longDescription?((0,o.openBlock)(),(0,o.createElementBlock)("span",f,(0,o.toDisplayString)(n.block.longDescription),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",p,[n.original?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:0,class:(0,o.normalizeClass)({settings:!0,icon:!0,active:e.blockOptionId==n.block.index,error:m.hasErrors}),onClick:t[1]||(t[1]=(0,o.withModifiers)((function(t){return e.setShowOptionsModal({show:!0,block:n.block})}),["prevent"]))},null,2)),n.original?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:1,class:"delete icon",onClick:t[2]||(t[2]=(0,o.withModifiers)((function(t){return e.$emit("remove",n.block)}),["prevent"]))}))])])],2)}},6322:function(e,t,n){"use strict";n.r(t),n.d(t,{render:function(){return y}});n(8309);var o=n(8253),a=function(e){return(0,o.pushScopeId)("data-v-94cbf7aa"),e=e(),(0,o.popScopeId)(),e},i={class:"blocks"},r={key:0,class:"spinner-wrapper"},l=a((function(){return(0,o.createElementVNode)("div",{class:"spinner"},null,-1)})),s=[l],c={class:"blocks-sidebar"},d={class:"heading"},u=["onClick"],f={class:"regions"},p={class:"heading"},h={key:0,class:"region-list"},m={key:0},v={key:1,class:"region-list"};function y(e,t,n,a,l,y){var g=(0,o.resolveComponent)("block"),b=(0,o.resolveComponent)("draggable"),k=(0,o.resolveComponent)("region"),x=(0,o.resolveComponent)("layout-modal"),w=(0,o.resolveComponent)("options-modal");return(0,o.openBlock)(),(0,o.createElementBlock)("div",i,[y.isLoading?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,s)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("Blocks")),1)]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.providers,(function(t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.handle},[(0,o.createElementVNode)("h5",{class:(0,o.normalizeClass)(["sub-heading slide",{icon:!0,expand:!e.slideStates[t.handle],collapse:e.slideStates[t.handle]}]),onClick:function(n){return e.slideStates[t.handle]=!e.slideStates[t.handle]}},(0,o.toDisplayString)(t.name),11,u),(0,o.createVNode)(o.Transition,{name:"slide"},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",null,[e.slideStates[t.handle]?((0,o.openBlock)(),(0,o.createBlock)(b,{key:0,"item-key":"vueid",list:t.blocks,group:{name:"blocks",pull:"clone",put:!1},sort:!1,handle:".block"},{item:(0,o.withCtx)((function(e){var t=e.element;return[(0,o.createVNode)(g,{block:t,original:!0},null,8,["block"])]})),_:2},1032,["list"])):(0,o.createCommentVNode)("",!0)])]})),_:2},1024)])})),128))]),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("Regions")),1)]),e.layouts.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",h,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.regions,(function(e){return(0,o.openBlock)(),(0,o.createBlock)(k,{key:e.handle,region:e},null,8,["region"])})),128)),e.regions.length?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("p",m,(0,o.toDisplayString)(e.t("No regions are defined for this theme")),1))])):(0,o.createCommentVNode)("",!0),e.layouts.length?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.t("No layouts available, you should reinstall the themes data in the settings")),1)]))]),(0,o.createVNode)(x),(0,o.createVNode)(w)])}},5835:function(e,t,n){"use strict";n.r(t),n.d(t,{render:function(){return c}});n(8309);var o=n(8253),a={class:"btngroup"},i={key:0,type:"button",class:"btn menubtn","data-icon":"brush"},r={key:1,class:"menu"},l={class:"padded"},s=["onClick"];function c(e,t,n,c,d,u){return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[e.theme?((0,o.openBlock)(),(0,o.createElementBlock)("button",i,(0,o.toDisplayString)(n.themes[e.theme].name),1)):(0,o.createCommentVNode)("",!0),e.theme?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("ul",l,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.themes,(function(t){return(0,o.openBlock)(),(0,o.createElementBlock)("li",{key:t.handle},[(0,o.createElementVNode)("a",{class:(0,o.normalizeClass)({sel:e.theme==t.handle}),href:"#",onClick:(0,o.withModifiers)((function(e){return u.checkAndSetTheme(t.handle)}),["prevent"])},(0,o.toDisplayString)(t.name),11,s)])})),128))])])):(0,o.createCommentVNode)("",!0)])}},7111:function(e,t,n){"use strict";n.r(t),n.d(t,{render:function(){return l}});n(2526),n(1817);var o=n(8253),a={id:"notification-nav"},i={class:"heading"},r=["onClick"];function l(e,t,n,l,s,c){return(0,o.openBlock)(),(0,o.createElementBlock)("nav",a,[(0,o.createElementVNode)("ul",null,[(0,o.createElementVNode)("li",i,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.t("Layouts")),1)]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.layoutsWithBlocks,(function(t,n){return(0,o.openBlock)(),(0,o.createElementBlock)("li",{key:n},[(0,o.createElementVNode)("a",{href:"#",class:(0,o.normalizeClass)({sel:e.layout.uid===t.uid}),onClick:(0,o.withModifiers)((function(e){return c.confirmAndChangeLayout(t.id)}),["prevent"])},(0,o.toDisplayString)(t.description),11,r)])})),128))])])}},3331:function(e,t,n){"use strict";n.r(t),n.d(t,{render:function(){return d}});n(2526),n(1817);var o=n(8253),a={key:0,id:"action-buttons",class:"flex"},i={class:"btngroup submit"},r=["disabled"],l={class:"menu","data-align":"right"},s=["onClick"],c=["disabled"];function d(e,t,n,d,u,f){return e.layouts.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createElementVNode)("div",i,[e.isCopying?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,ref:"menu",href:"#",class:"btn submit menubtn",disabled:!f.canCopy,onClick:t[0]||(t[0]=(0,o.withModifiers)((function(){}),["prevent"]))},(0,o.toDisplayString)(e.t("Copy To")),9,r)),(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("ul",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(f.layoutsWithoutBlocks,(function(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("li",{key:t},[(0,o.createElementVNode)("a",{href:"#",onClick:(0,o.withModifiers)((function(t){return f.checkAndCopy(e)}),["prevent"])},(0,o.toDisplayString)(e.description),9,s)])})),128)),(0,o.createElementVNode)("li",null,[(0,o.createElementVNode)("a",{href:"#",onClick:t[1]||(t[1]=(0,o.withModifiers)((function(t){return e.setShowLayoutModal({show:!0})}),["prevent"]))},(0,o.toDisplayString)(e.t("Create custom")),1)])])])]),e.isCopying||"default"==e.layout.type?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,href:"#",class:"btn submit",onClick:t[2]||(t[2]=(0,o.withModifiers)((function(){return f.checkAndDelete&&f.checkAndDelete.apply(f,arguments)}),["prevent"]))},(0,o.toDisplayString)(e.t("Delete",{},"app")),1)),"custom"==e.layout.type&&e.layout.id?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,href:"#",class:"btn submit",onClick:t[3]||(t[3]=(0,o.withModifiers)((function(t){return e.setShowLayoutModal({show:!0,editUid:e.layout.uid})}),["prevent"]))},(0,o.toDisplayString)(e.t("Edit",{},"app")),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("button",{href:"#",class:"btn submit",disabled:!f.canSave,onClick:t[4]||(t[4]=(0,o.withModifiers)((function(){return e.save&&e.save.apply(e,arguments)}),["prevent"]))},(0,o.toDisplayString)(e.t("Save",{},"app")),9,c)])):(0,o.createCommentVNode)("",!0)}},4184:function(e,t,n){"use strict";n.r(t),n.d(t,{render:function(){return x}});n(8309);var o=n(8253),a={ref:"modal",class:"modal elementselectormodal modal-layout",style:{display:"none"}},i={class:"header"},r={class:"body"},l={class:"content"},s={class:"main"},c={class:"field"},d={class:"heading"},u={class:"required",for:"name"},f={class:"input ltr"},p={key:0,class:"errors"},h={class:"field"},m={class:"heading"},v={class:"required",for:"handle"},y={class:"input ltr"},g={key:0,class:"errors"},b={class:"footer"},k={class:"buttons right"};function x(e,t,n,x,w,C){return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.editedLayoutUid?e.t("Edit layout"):e.t("Create layout")),1)]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("form",s,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("label",u,(0,o.toDisplayString)(e.t("Name",{},"app")),1)]),(0,o.createElementVNode)("div",f,[(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=function(e){return w.name=e}),type:"text",class:(0,o.normalizeClass)({text:!0,fullwidth:!0,error:w.nameError}),maxlength:"255",required:""},null,2),[[o.vModelText,w.name]])]),w.nameError?((0,o.openBlock)(),(0,o.createElementBlock)("ul",p,[(0,o.createElementVNode)("li",null,(0,o.toDisplayString)(w.nameError),1)])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("label",v,(0,o.toDisplayString)(e.t("Handle",{},"app")),1)]),(0,o.createElementVNode)("div",y,[(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"handle","onUpdate:modelValue":t[1]||(t[1]=function(e){return w.handle=e}),type:"text",class:(0,o.normalizeClass)({text:!0,fullwidth:!0,error:w.handleError}),maxlength:"255",required:""},null,2),[[o.vModelText,w.handle]])]),w.handleError?((0,o.openBlock)(),(0,o.createElementBlock)("ul",g,[(0,o.createElementVNode)("li",null,(0,o.toDisplayString)(w.handleError),1)])):(0,o.createCommentVNode)("",!0)])])])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("button",{type:"button",class:"btn",onClick:t[2]||(t[2]=function(){return C.closeModal&&C.closeModal.apply(C,arguments)})},(0,o.toDisplayString)(e.t("Close",{},"app")),1),(0,o.createElementVNode)("button",{type:"button",class:"btn submit",onClick:t[3]||(t[3]=function(){return C.save&&C.save.apply(C,arguments)})},(0,o.toDisplayString)(e.t("Save",{},"app")),1)])])],512)}},7786:function(e,t,n){"use strict";n.r(t),n.d(t,{render:function(){return g}});n(8309);var o=n(8253),a={ref:"modal",class:"modal elementselectormodal themes-modal-options",style:{display:"none"}},i={key:0,class:"header"},r={key:1,class:"body"},l={key:0},s={class:"field"},c={class:"heading"},d={class:"instructions"},u={class:"input ltr"},f={class:"select"},p={value:""},h=["value"],m={key:0,class:"warning"},v={class:"footer"},y={class:"buttons right"};function g(e,t,n,g,b,k){var x=(0,o.resolveComponent)("formfield-lightswitch");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[e.editedBlock?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.t("Edit block {block} options",{block:e.editedBlock.name})),1)])):(0,o.createCommentVNode)("",!0),e.editedBlock?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createVNode)(x,{value:!!b.active,definition:{label:e.t("Active",{},"app")},name:"active",onChange:t[0]||(t[0]=function(e){return b.active=e})},null,8,["value","definition"]),e.editedBlock.canBeCached||k.isContentBlock?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(e.t("Caching")),1)]),(0,o.createElementVNode)("div",d,(0,o.toDisplayString)(k.strategyDescription),1),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",f,[(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"type","onUpdate:modelValue":t[1]||(t[1]=function(e){return b.cacheStrategy.handle=e}),onChange:t[2]||(t[2]=function(e){return k.updateCacheStrategy(e.target.value)})},[(0,o.createElementVNode)("option",p,(0,o.toDisplayString)(e.t("No cache")),1),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.cacheStrategies,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.handle,value:e.handle},(0,o.toDisplayString)(e.name),9,h)})),128))],544),[[o.vModelSelect,b.cacheStrategy.handle]])])]),k.isContentBlock&&"global"==b.cacheStrategy.handle?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,(0,o.toDisplayString)(e.t("This is really not recommended, all your pages will display the same content")),1)):(0,o.createCommentVNode)("",!0)]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(k.strategyFieldsDefinitions,(function(e,t){var n;return(0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(k.formFieldComponent(e.field)),{key:t,name:t,definition:e,value:null!==(n=b.cacheStrategy.options[t])&&void 0!==n?n:null,errors:k.getCacheStrategyErrors(t),onChange:function(e){return k.updateStrategyOption(t,e)}},null,8,["name","definition","value","errors","onChange"])})),128))])):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.editedBlock.optionsDefinitions,(function(e,t){var n;return(0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(k.formFieldComponent(e.field)),{key:t,name:t,definition:e,value:null!==(n=b.options[t])&&void 0!==n?n:null,errors:k.getOptionErrors(t),onChange:function(e){return k.updateOption(t,e)}},null,8,["name","definition","value","errors","onChange"])})),128))])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("button",{type:"button",class:"btn",onClick:t[3]||(t[3]=function(){return k.closeModal&&k.closeModal.apply(k,arguments)})},(0,o.toDisplayString)(e.t("Close",{},"app")),1),(0,o.createElementVNode)("button",{type:"button",class:"btn submit",onClick:t[4]||(t[4]=(0,o.withModifiers)((function(){return k.save&&k.save.apply(k,arguments)}),["prevent"]))},(0,o.toDisplayString)(e.t("Save",{},"app")),1)])])],512)}},7729:function(e,t,n){"use strict";n.r(t),n.d(t,{render:function(){return c}});n(8309);var o=n(8253),a=function(e){return(0,o.pushScopeId)("data-v-34c00527"),e=e(),(0,o.popScopeId)(),e},i={class:"region-heading"},r={class:"region-title"},l=["value","size"],s=a((function(){return(0,o.createElementVNode)("span",{"data-icon":"clipboard","aria-hidden":"true"},null,-1)}));function c(e,t,n,a,c,d){var u=(0,o.resolveComponent)("block"),f=(0,o.resolveComponent)("draggable");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"region",style:(0,o.normalizeStyle)("width:"+(n.region.width?n.region.width:"100%"))},[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("h5",r,(0,o.toDisplayString)(n.region.name),1),e.showFieldHandles?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:0,class:"code small light copytextbtn",title:"Copy to clipboard",role:"button",onClick:t[0]||(t[0]=function(){return d.copyValue&&d.copyValue.apply(d,arguments)})},[(0,o.createElementVNode)("input",{type:"text",value:n.region.handle,readonly:"",size:n.region.handle.length},null,8,l),s])):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(f,{"item-key":"index",class:"region-blocks",list:d.regionBlocks,group:"blocks",onChange:d.changed},{item:(0,o.withCtx)((function(t){var n=t.element;return[(0,o.createVNode)(u,{block:n,original:!1,onRemove:e.removeBlock},null,8,["block","onRemove"])]})),_:1},8,["list","onChange"])],4)}},4914:function(e,t,n){"use strict";n.r(t),n.d(t,{Clone:function(){return s},FieldComponent:function(){return c},HandleError:function(){return l},HandleGenerator:function(){return d},SelectInput:function(){return u},Translate:function(){return r}});var o=n(6347),a=(n(9826),n(6699),n(4747),n(8309),n(8422)),i=n(6486),r={install:function(e){e.config.globalProperties.t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"themes";return window.Craft.t(n,e,t)}}},l={install:function(e){e.config.globalProperties.handleError=function(e){var t,n,o=e;e.response&&(null!==(t=e.response.data.message)&&void 0!==t&&t?o=e.response.data.message:null!==(n=e.response.data.error)&&void 0!==n&&n&&(o=e.response.data.error));Craft.cp.displayError(o)}}},s={install:function(e){e.config.globalProperties.cloneDisplay=function(t){var n,o=(0,i.merge)({},t);return n="group"==t.type?e.config.globalProperties.cloneGroup(t.item):e.config.globalProperties.cloneField(t.item),o.item=n,o.id=null,o.uid=(0,a.v4)(),o},e.config.globalProperties.cloneField=function(t){var n;return n="undefined"!=typeof window.CraftThemes.fieldComponents[t.type]?window.CraftThemes.fieldComponents[t.type].clone(t,e):(0,i.merge)({},t),n.id=null,n.uid=(0,a.v4)(),n},e.config.globalProperties.cloneGroup=function(t){var n=(0,i.merge)({},t),o=[];for(var r in t.displays)o.push(e.config.globalProperties.cloneDisplay(t.displays[r]));return n.displays=o,n.id=null,n.uid=(0,a.v4)(),n}}},c={install:function(e){e.config.globalProperties.fieldComponent=function(e){return"undefined"!=typeof window.CraftThemes.fieldComponents[e]?"field-"+e:"field"}}},d=Craft.HandleGenerator.extend({callback:null,updateTarget:function(){if(this.$target.is(":visible")){var e=this.$source.val();if("undefined"!==typeof e){var t=this.generateTargetValue(e);this.$target.val(t),this.$target.trigger("change"),this.$target.trigger("input"),this.$target.is(":focus")&&Craft.selectFullValue(this.$target),this.callback&&this.callback(t)}}}}),u=Craft.BaseElementSelectInput.extend({theme:null,actionUrl:null,createElementCallback:null,initialIds:[],errors:{},init:function(e){var t=this;this.base(e),this.$elementsContainer.html(""),this.initialIds.length&&Craft.postActionRequest(this.actionUrl,{theme:this.theme,id:this.initialIds},(function(e){var n,a=[],i=(0,o["default"])(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;a.push(t.createElementCallback(r))}}catch(l){i.e(l)}finally{i.f()}t.selectElements2(a),t.updateErrors()}))},setSettings:function(){this.base.apply(this,arguments),this.theme=arguments[0].theme,this.actionUrl=arguments[0].actionUrl,this.createElementCallback=arguments[0].createElementCallback,this.initialIds=arguments[0].initialIds,this.errors=arguments[0].errors},createNewElement:function(e){var t=this,n=this.base(e),o=$('<div class="row" style="margin-bottom:5px;display:flex;justify-content:space-between;align-items:center">');return o.append(n),e.viewModes?this.appendViewModes(o,e.viewModes,e.viewMode):this.fetchViewModes(e.id).done((function(n){var a;t.appendViewModes(o,n[0].viewModes,null!==(a=e.viewMode)&&void 0!==a?a:n[0].viewModes[0].uid),t.trigger("viewModesChanged")})),o},updateErrors:function(){for(var e in this.$container.find(".element-error").remove(),this.errors){var t=this.$elements.find(".element[data-id="+e+"]").parent(),n=$('<div class="error element-error">'+this.errors[e]+"</div>");t.find(".select-wrapper").append(n)}},selectElements2:function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];if(!t.includes(o.id)){t.push(o.id);var a=this.createNewElement(o);this.appendElement(a),this.addElements(a),o.$element=a}}this.onSelectElements(e)},fetchViewModes:function(e){var t={theme:this.theme,id:e};return Craft.postActionRequest(this.actionUrl,t)},appendViewModes:function(e,t,n){var o=this,a=$('<div class="select-wrapper"><div class="select"><select><option value="">'+Craft.t("themes","Select a view mode")+"</select></select></div></div>");t.forEach((function(e){a.find("select").append('<option value="'+e.uid+'"'+(e.uid==n?" selected":"")+">"+e.name+"</options>")})),a.find("select").on("change",(function(){o.trigger("viewModesChanged")})),e.append(a)},getSelectedElementIds:function(){for(var e=[],t=0;t<this.getElements().length;t++)e.push(this.$elements.eq(t).find(".element").data("id"));return e},getSelectedElementData:function(){for(var e=[],t=0;t<this.getElements().length;t++){var n=this.getElements().eq(t);e.push({id:n.find(".element").data("id"),viewMode:n.find("select").val()})}return e},removeElements:function(e){if(this.settings.selectable&&this.elementSelect.removeItems(e),this.modal){for(var t=[],n=0;n<e.length;n++){var o=e.find(".element").eq(n).data("id");o&&t.push(o)}t.length&&this.modal.elementIndex.enableElementsById(t)}e.children("input").prop("disabled",!0),this.$elements=this.$elements.not(e),this.updateAddElementsBtn(),this.onRemoveElements()},removeElement:function(e){this.removeElements(e.parent()),this.animateElementAway(e.parent(),(function(){e.parent().remove()}))},initElementSort:function(){var e=this;this.base(),this.elementSort.settings.ignoreHandleSelector=".delete, .select",this.elementSort.settings.onSortChange=function(){e.trigger("orderChanged")}}})},9438:function(e,t,n){"use strict";n.r(t);n(6992),n(8674),n(9601),n(7727);var o=n(8253),a=n(4050),i=n(2909),r=n(8946),l=n(6508),s=n(9599),c=n(8873),d=n(4914),u=(0,o.createApp)({components:{Blocks:s["default"],BlocksContext:i["default"],BlocksToolbar:a["default"],BlocksMenu:r["default"]}});for(var f in u.use(c.store),u.use(d.Translate),u.use(d.HandleError),u.component("layout-modal",l["default"]),window.CraftThemes.formFieldComponents)u.component("formfield-"+f,window.CraftThemes.formFieldComponents[f]);u.mount("#main")},8873:function(e,t,n){"use strict";n.r(t),n.d(t,{store:function(){return c}});var o=n(3336),a=(n(4916),n(3123),n(4553),n(9600),n(1249),n(561),n(1539),n(894)),i=n(6486);function r(e){e.response?Craft.cp.displayError(e.response.data.message):Craft.cp.displayError(e)}function l(e,t){var n=document.location.pathname.split("/"),o=n.findIndex((function(e){return"blocks"==e}));-1!==o&&(n[o+1]==e&&n[o+2]==t||(n[o+1]=e,n[o+2]=t,window.history.pushState({},"",n.join("/"))))}function s(e){for(var t in e=(0,i.cloneDeep)(e),e)delete e[t].index,delete e[t].optionsHtml;return e}var c=(0,a.createStore)({state:function(){return{theme:null,themes:[],providers:{},isSaving:!1,isCopying:!1,isFetching:{},blocks:[],layouts:[],layout:{},allLayouts:{},regions:{},cacheStrategies:{},showLayoutModal:!1,showOptionsModal:!1,editedLayoutUid:null,editedBlock:null,showFieldHandles:!1}},mutations:{setShowFieldHandles:function(e,t){e.showFieldHandles=t},setShowLayoutModal:function(e,t){var n=t.show,o=t.editUid,a=void 0===o?null:o;e.showLayoutModal=n,e.editedLayoutUid=a},setShowOptionsModal:function(e,t){var n=t.show,o=t.block,a=void 0===o?null:o;e.showOptionsModal=n,e.editedBlock=a},setProviders:function(e,t){e.providers=t},setThemes:function(e,t){e.themes=t},setTheme:function(e,t){e.theme=t,e.regions=e.themes[t].regions,e.layouts=e.allLayouts[t],e.isCopying=!1},setIsSaving:function(e,t){e.isSaving=t},setIsCopying:function(e,t){e.isCopying=t},setBlocks:function(e,t){for(var n in t)t[n].index=n;e.blocks=t},addBlock:function(e,t){t.index=e.blocks.length,e.blocks.push(t)},updateBlock:function(e,t){e.blocks=e.blocks.map((function(e){return e.index===t.index?t:e}))},removeBlock:function(e,t){for(var n in e.blocks.splice(t.index,1),e.blocks)e.blocks[n].index=n},addLayout:function(e,t){e.layouts.push(t)},deleteLayout:function(e,t){e.layouts=(0,i.filter)(e.layouts,(function(e){return e.uid!=t}))},updateLayout:function(e,t){for(var n in e.layouts)if(e.layouts[n].uid==t.uid){e.layouts[n]=t;break}},updateCustomLayout:function(e,t){e.layout=(0,i.merge)(e.layout,t)},setLayouts:function(e,t){e.layouts=t},setLayout:function(e,t){if(e.isCopying=!1,"object"!=(0,o["default"])(t)){for(var n in e.layouts)if(e.layouts[n].id==t)return void(e.layout=e.layouts[n])}else e.layout=t},setAllLayouts:function(e,t){e.allLayouts=t},setIsFetching:function(e,t){var n=t.key,o=t.value;e.isFetching[n]=o},setCacheStrategies:function(e,t){e.cacheStrategies=t}},actions:{save:function(e){var t=e.commit,n=e.state;t("setIsSaving",!0);var o={blocks:s(n.blocks),layout:n.layout.id,theme:n.theme},a=!1;"custom"==n.layout.type&&(o.custom=n.layout,a=null==n.layout.id),axios({method:"post",url:Craft.getCpUrl("themes/ajax/blocks/save"),data:o,headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((function(e){t(a?"addLayout":"updateLayout",e.data.layout),l(n.theme,e.data.layout.id),t("setBlocks",e.data.blocks),t("setLayout",e.data.layout),Craft.cp.displayNotice(e.data.message)})).catch((function(e){t("setBlocks",e.response.data.blocks),r(e)})).finally((function(){t("setIsSaving",!1)}))},resetBlocks:function(e,t){var n=e.commit;for(var o in t)t[o].id=null,t[o].layout=null,t[o].uid=null,t[o].dateCreated=null,t[o].dateUpdated=null;n("setBlocks",t)},fetchBlocks:function(e){var t=e.state,n=e.commit,o={};return o[Craft.csrfTokenName]=Craft.csrfTokenValue,n("setIsFetching",{key:"blocks",value:!0}),axios.post(Craft.getCpUrl("themes/ajax/blocks/"+t.layout.id),o).then((function(e){n("setBlocks",e.data.blocks)})).catch((function(e){r(e)})).finally((function(){n("setIsFetching",{key:"blocks",value:!1})}))},fetchProviders:function(e){var t=e.commit,n={};return n[Craft.csrfTokenName]=Craft.csrfTokenValue,t("setIsFetching",{key:"providers",value:!0}),axios.post(Craft.getCpUrl("themes/ajax/block-providers"),n).catch((function(e){r(e)})).then((function(e){t("setProviders",e.data.providers)})).finally((function(){t("setIsFetching",{key:"providers",value:!1})}))},setLayoutAndFetch:function(e,t){var n=e.dispatch,o=e.commit,a=e.state;o("setLayout",t),l(a.theme,t),n("fetchBlocks")},setThemeAndFetch:function(e,t){var n,o=e.state,a=e.commit,i=e.dispatch;for(var r in a("setTheme",t),o.layouts)if(n=o.layouts[r],"default"==n.type)return a("setLayout",n.id),l(o.theme,n.id),void i("fetchBlocks")},copyLayout:function(e,t){var n=e.state,o=e.commit,a=e.dispatch;o("setLayout",t),l(n.theme,t.id),o("setIsCopying",!0),a("resetBlocks",n.blocks)},createLayout:function(e,t){var n=e.state,o=e.commit,a=e.dispatch;o("setLayout",t),o("setIsCopying",!0),a("resetBlocks",n.blocks)},deleteLayout:function(e){var t=e.state,n=e.commit,o=e.dispatch,a={};a[Craft.csrfTokenName]=Craft.csrfTokenValue,n("setIsFetching",{key:"blocks",value:!0});var l="custom"==t.layout.type;return axios.post(Craft.getCpUrl("themes/ajax/layouts/delete/"+t.layout.id),a).then((function(e){Craft.cp.displayNotice(e.data.message),l?n("deleteLayout",t.layout.uid):n("updateLayout",e.data.layout);var a=(0,i.filter)(t.layouts,(function(e){return"default"==e.type}))[0];return o("setLayoutAndFetch",a.id)})).catch((function(e){r(e)}))}}})},1982:function(e,t,n){"use strict";n.r(t);var o=n(660),a=n(3189),i={};for(var r in a)"default"!==r&&(i[r]=function(e){return a[e]}.bind(0,r));n.d(t,i);n(3991);var l=n(3744);const s=(0,l["default"])(a["default"],[["render",o.render],["__scopeId","data-v-51e0c2c4"]]);t["default"]=s},9599:function(e,t,n){"use strict";n.r(t);var o=n(6852),a=n(2268),i={};for(var r in a)"default"!==r&&(i[r]=function(e){return a[e]}.bind(0,r));n.d(t,i);n(8467),n(1305);var l=n(3744);const s=(0,l["default"])(a["default"],[["render",o.render],["__scopeId","data-v-94cbf7aa"]]);t["default"]=s},2909:function(e,t,n){"use strict";n.r(t);var o=n(8425),a=n(3776),i={};for(var r in a)"default"!==r&&(i[r]=function(e){return a[e]}.bind(0,r));n.d(t,i);var l=n(3744);const s=(0,l["default"])(a["default"],[["render",o.render]]);t["default"]=s},8946:function(e,t,n){"use strict";n.r(t);var o=n(513),a=n(9390),i={};for(var r in a)"default"!==r&&(i[r]=function(e){return a[e]}.bind(0,r));n.d(t,i);n(6786);var l=n(3744);const s=(0,l["default"])(a["default"],[["render",o.render],["__scopeId","data-v-70376e3d"]]);t["default"]=s},4050:function(e,t,n){"use strict";n.r(t);var o=n(274),a=n(2612),i={};for(var r in a)"default"!==r&&(i[r]=function(e){return a[e]}.bind(0,r));n.d(t,i);n(7197);var l=n(3744);const s=(0,l["default"])(a["default"],[["render",o.render],["__scopeId","data-v-4b0f83d2"]]);t["default"]=s},6508:function(e,t,n){"use strict";n.r(t);var o=n(608),a=n(2911),i={};for(var r in a)"default"!==r&&(i[r]=function(e){return a[e]}.bind(0,r));n.d(t,i);n(3143);var l=n(3744);const s=(0,l["default"])(a["default"],[["render",o.render],["__scopeId","data-v-93b24d3a"]]);t["default"]=s},5134:function(e,t,n){"use strict";n.r(t);var o=n(2851),a=n(2461),i={};for(var r in a)"default"!==r&&(i[r]=function(e){return a[e]}.bind(0,r));n.d(t,i);var l=n(3744);const s=(0,l["default"])(a["default"],[["render",o.render]]);t["default"]=s},3927:function(e,t,n){"use strict";n.r(t);var o=n(2125),a=n(3356),i={};for(var r in a)"default"!==r&&(i[r]=function(e){return a[e]}.bind(0,r));n.d(t,i);n(5585);var l=n(3744);const s=(0,l["default"])(a["default"],[["render",o.render],["__scopeId","data-v-34c00527"]]);t["default"]=s},3189:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o["default"]}});var o=n(7309),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},2268:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o["default"]}});var o=n(9802),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},3776:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o["default"]}});var o=n(3866),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},9390:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o["default"]}});var o=n(1523),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},2612:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o["default"]}});var o=n(7161),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},2911:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o["default"]}});var o=n(1248),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},2461:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o["default"]}});var o=n(392),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},3356:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o["default"]}});var o=n(2129),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},660:function(e,t,n){"use strict";n.r(t);var o=n(2661),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},6852:function(e,t,n){"use strict";n.r(t);var o=n(6322),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},8425:function(e,t,n){"use strict";n.r(t);var o=n(5835),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},513:function(e,t,n){"use strict";n.r(t);var o=n(7111),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},274:function(e,t,n){"use strict";n.r(t);var o=n(3331),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},608:function(e,t,n){"use strict";n.r(t);var o=n(4184),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},2851:function(e,t,n){"use strict";n.r(t);var o=n(7786),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},2125:function(e,t,n){"use strict";n.r(t);var o=n(7729),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},3991:function(e,t,n){"use strict";n.r(t);var o=n(4102),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},8467:function(e,t,n){"use strict";n.r(t);var o=n(5395),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},1305:function(e,t,n){"use strict";n.r(t);var o=n(2947),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},6786:function(e,t,n){"use strict";n.r(t);var o=n(505),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},7197:function(e,t,n){"use strict";n.r(t);var o=n(9074),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},3143:function(e,t,n){"use strict";n.r(t);var o=n(4145),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},5585:function(e,t,n){"use strict";n.r(t);var o=n(7478),a={};for(var i in o)"default"!==i&&(a[i]=function(e){return o[e]}.bind(0,i));n.d(t,a)},4102:function(e,t,n){var o=n(5303);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(7913)["default"];a("0fc79cbc",o,!0,{sourceMap:!1,shadowMode:!1})},5395:function(e,t,n){var o=n(1654);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(7913)["default"];a("36da5121",o,!0,{sourceMap:!1,shadowMode:!1})},2947:function(e,t,n){var o=n(4799);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(7913)["default"];a("ed92b96a",o,!0,{sourceMap:!1,shadowMode:!1})},505:function(e,t,n){var o=n(5408);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(7913)["default"];a("18c44558",o,!0,{sourceMap:!1,shadowMode:!1})},9074:function(e,t,n){var o=n(5481);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(7913)["default"];a("243e6530",o,!0,{sourceMap:!1,shadowMode:!1})},4145:function(e,t,n){var o=n(5382);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(7913)["default"];a("2cc15763",o,!0,{sourceMap:!1,shadowMode:!1})},7478:function(e,t,n){var o=n(5247);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(7913)["default"];a("4597da0a",o,!0,{sourceMap:!1,shadowMode:!1})}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,i){if(!o){var r=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],i=e[d][2];for(var l=!0,s=0;s<o.length;s++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(l=!1,i<r&&(r=i));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={346:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,i,r=o[0],l=o[1],s=o[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var d=s(n)}for(t&&t(o);c<r.length;c++)i=r[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},o=self["webpackChunk"]=self["webpackChunk"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9438)}));o=n.O(o)})();