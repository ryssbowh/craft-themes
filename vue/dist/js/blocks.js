(function(e){function t(t){for(var o,r,c=t[0],l=t[1],s=t[2],u=0,f=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={blocks:0},i=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var d=l;i.push(["7190","chunk-vendors"]),n()})({"090b":function(e,t,n){"use strict";n.r(t);var o=n("5530"),a=(n("a4d3"),n("e01a"),n("b64b"),n("5502")),i=n("2ef0");t["default"]={computed:Object(o["default"])({machineName:function(){return this.editedBlock.provider+"_"+this.editedBlock.handle},isContentBlock:function(){return"system_content"==this.machineName},strategyDescription:function(){var e=this.getStrategy(this.cacheStrategy.handle);return e?e.description:""},strategyFieldsDefinitions:function(){var e=this.getStrategy(this.cacheStrategy.handle);return e?e.options.definitions:""}},Object(a["mapState"])(["cacheStrategies","showOptionsModal","editedBlock"])),data:function(){return{modal:null,options:{},errors:{},active:null,cacheStrategy:null}},watch:{showOptionsModal:function(){this.showOptionsModal?(this.options=Object(i["merge"])({},this.editedBlock.options),this.active=this.editedBlock.active,this.errors=this.editedBlock.errors,this.cacheStrategy=this.editedBlock.cacheStrategy,this.modal.show()):this.modal.hide()}},beforeUnmount:function(){this.modal.destroy()},mounted:function(){this.createModal()},methods:Object(o["default"])(Object(o["default"])({formFieldComponent:function(e){return"formfield-"+e},getStrategy:function(e){var t;return null!==(t=this.cacheStrategies[e])&&void 0!==t?t:null},createModal:function(){this.modal=new Garnish.Modal(this.$refs.modal,{hideOnEsc:!1,hideOnShadeClick:!1,autoShow:!1})},closeModal:function(){this.options={},this.errors={},this.active=null,this.setShowOptionsModal({show:!1})},updateStrategyOption:function(e,t){this.cacheStrategy.options[e]=t},updateOption:function(e,t){this.options[e]=t},updateCacheStrategy:function(e){e?(this.cacheStrategy.handle=e,this.cacheStrategy.options=this.getStrategy(e).options.defaultValues):(this.cacheStrategy.handle="",this.cacheStrategy.options={})},getCacheStrategyErrors:function(e){var t;return this.errors.cacheStrategy&&null!==(t=this.errors.cacheStrategy[e])&&void 0!==t?t:[]},getOptionErrors:function(e){var t;return this.errors.options&&null!==(t=this.errors.options[e])&&void 0!==t?t:[]},save:function(){var e=this,t={blockHandle:this.editedBlock.handle,provider:this.editedBlock.provider,options:this.options,cacheStrategy:this.cacheStrategy};axios({method:"post",url:Craft.getActionUrl("themes/cp-blocks-ajax/validate-block-options"),data:t,headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((function(t){Object.keys(t.data.errors).length>0?e.errors=t.data.errors:(e.editedBlock.active=e.active,e.editedBlock.options=e.options,e.editedBlock.cacheStrategy=e.cacheStrategy,e.updateBlock(e.editedBlock),e.closeModal())})).catch((function(t){e.handleError(t)}))}},Object(a["mapMutations"])(["updateBlock","setShowOptionsModal"])),Object(a["mapActions"])([]))}},"09be":function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return d}));n("a4d3"),n("e01a");var o=n("f2bf"),a={key:0,id:"action-buttons",class:"flex"},i={class:"btngroup submit"},r=["disabled"],c={class:"menu","data-align":"right"},l=["onClick"],s=["disabled"];function d(e,t,n,d,u,f){return e.layouts.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createElementVNode"])("div",i,[e.isCopying?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,href:"#",class:"btn submit menubtn",ref:"menu",disabled:!f.canCopy,onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(){}),["prevent"]))},Object(o["toDisplayString"])(e.t("Copy To")),9,r)),Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(f.layoutsWithoutBlocks,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t},[Object(o["createElementVNode"])("a",{href:"#",onClick:Object(o["withModifiers"])((function(t){return f.checkAndCopy(e)}),["prevent"])},Object(o["toDisplayString"])(e.description),9,l)])})),128)),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:"#",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(t){return e.setShowLayoutModal({show:!0})}),["prevent"]))},Object(o["toDisplayString"])(e.t("Create custom")),1)])])])]),e.isCopying||"default"==e.layout.type?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,href:"#",class:"btn submit",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(){return f.checkAndDelete&&f.checkAndDelete.apply(f,arguments)}),["prevent"]))},Object(o["toDisplayString"])(e.t("Delete",{},"app")),1)),"custom"==e.layout.type&&e.layout.id?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,href:"#",class:"btn submit",onClick:t[3]||(t[3]=Object(o["withModifiers"])((function(t){return e.setShowLayoutModal({show:!0,editUid:e.layout.uid})}),["prevent"]))},Object(o["toDisplayString"])(e.t("Edit",{},"app")),1)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("button",{href:"#",class:"btn submit",disabled:!f.canSave,onClick:t[4]||(t[4]=Object(o["withModifiers"])((function(){return e.save&&e.save.apply(e,arguments)}),["prevent"]))},Object(o["toDisplayString"])(e.t("Save",{},"app")),9,s)])):Object(o["createCommentVNode"])("",!0)}},1560:function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return s}));n("b0c0");var o=n("f2bf"),a={class:"btngroup"},i={key:0,type:"button",class:"btn menubtn","data-icon":"brush"},r={key:1,class:"menu"},c={class:"padded"},l=["onClick"];function s(e,t,n,s,d,u){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[e.theme?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",i,Object(o["toDisplayString"])(n.themes[e.theme].name),1)):Object(o["createCommentVNode"])("",!0),e.theme?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createElementVNode"])("ul",c,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.themes,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t.handle},[Object(o["createElementVNode"])("a",{class:Object(o["normalizeClass"])({sel:e.theme==t.handle}),href:"#",onClick:Object(o["withModifiers"])((function(e){return u.checkAndSetTheme(t.handle)}),["prevent"])},Object(o["toDisplayString"])(t.name),11,l)])})),128))])])):Object(o["createCommentVNode"])("",!0)])}},"165b":function(e,t,n){"use strict";n.r(t);var o=n("d92b"),a=n("7fe6");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("a54d");var r=n("6b0d"),c=n.n(r);const l=c()(a["default"],[["render",o["render"]],["__scopeId","data-v-6ec8c331"]]);t["default"]=l},"21df":function(e,t,n){var o=n("321e");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("514d460c",o,!0,{sourceMap:!1,shadowMode:!1})},"321e":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".heading[data-v-827a0336]{margin:0 24px 14px 24px}",""]),e.exports=t},"353f":function(e,t,n){"use strict";n.r(t);var o=n("5a50"),a=n("7493");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("3d92");var r=n("6b0d"),c=n.n(r);const l=c()(a["default"],[["render",o["render"]],["__scopeId","data-v-667d1f16"]]);t["default"]=l},"3d92":function(e,t,n){"use strict";n.r(t);var o=n("4e97");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},"4d07":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,"#toolbar{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:end}",""]),e.exports=t},"4e97":function(e,t,n){var o=n("c6cd9");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("6f3a57c3",o,!0,{sourceMap:!1,shadowMode:!1})},"508b":function(e,t,n){"use strict";n.r(t);var o=n("b3e2");for(var a in n.d(t,"default",(function(){return o["default"]})),o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},"50fe":function(e,t,n){"use strict";n.r(t);var o=n("a2bf"),a=n("c4f5");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("fef1");var r=n("6b0d"),c=n.n(r);const l=c()(a["default"],[["render",o["render"]],["__scopeId","data-v-ee9951e4"]]);t["default"]=l},5348:function(e,t,n){var o=n("4d07");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("35cfb09c",o,!0,{sourceMap:!1,shadowMode:!1})},5670:function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return p}));n("b0c0");var o=n("f2bf"),a=function(e){return Object(o["pushScopeId"])("data-v-667d1f16"),e=e(),Object(o["popScopeId"])(),e},i={class:"inner"},r={class:"description"},c={class:"name"},l={key:0,class:"error","data-icon":"alert","aria-label":"Error"},s={key:0,class:"small"},d=["value","size"],u=a((function(){return Object(o["createElementVNode"])("span",{"data-icon":"clipboard","aria-hidden":"true"},null,-1)})),f={key:0,class:"info"},b={class:"actions"};function p(e,t,n,a,p,h){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])({block:!0,original:n.original,active:n.block.active&&!n.original})},[Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",c,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.block.name)+" ",1),h.hasErrors?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",l)):Object(o["createCommentVNode"])("",!0)]),n.original?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,Object(o["toDisplayString"])(n.block.smallDescription),1)):Object(o["createCommentVNode"])("",!0),!n.original&&e.showFieldHandles?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:1,class:"code small light copytextbtn",title:"Copy to clipboard",role:"button",onClick:t[0]||(t[0]=function(){return h.copyValue&&h.copyValue.apply(h,arguments)})},[Object(o["createElementVNode"])("input",{type:"text",value:h.fullName,readonly:"",size:h.fullName.length},null,8,d),u])):Object(o["createCommentVNode"])("",!0)]),n.original&&n.block.longDescription?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",f,Object(o["toDisplayString"])(n.block.longDescription),1)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",b,[n.original?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:0,class:Object(o["normalizeClass"])({settings:!0,icon:!0,active:e.blockOptionId==n.block.index,error:h.hasErrors}),onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(t){return e.setShowOptionsModal({show:!0,block:n.block})}),["prevent"]))},null,2)),n.original?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:1,class:"delete icon",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(t){return e.$emit("remove",n.block)}),["prevent"]))}))])])],2)}},"59d3":function(e,t,n){"use strict";n.r(t);var o=n("e31a");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},"5a50":function(e,t,n){"use strict";n.r(t);var o=n("5670");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},"5ab6":function(e,t,n){"use strict";n.r(t);var o=n("5530"),a=n("5502"),i=n("353f"),r=n("e12e"),c=n("50fe"),l=n("b76a"),s=n.n(l),d=n("2ef0");t["default"]={computed:Object(o["default"])({isLoading:function(){return Object(d["reduce"])(this.isFetching,(function(e,t){return e||t}),this.isSaving)}},Object(a["mapState"])(["blocks","regions","isFetching","isSaving","blockOptionId","providers","layouts"])),props:{},watch:{providers:{deep:!0,handler:function(e){var t=!0;for(var n in e)this.slideStates[n]=t,t=!1}}},data:function(){return{slideStates:{}}},created:function(){this.fetchProviders()},methods:Object(o["default"])({},Object(a["mapActions"])(["checkChanges","fetchProviders"])),components:{Region:c["default"],Block:i["default"],OptionsModal:r["default"],Draggable:s.a}}},"5cd9":function(e,t,n){"use strict";n.r(t);var o=n("5530"),a=(n("b64b"),n("5502"));t["default"]={computed:Object(o["default"])({fullName:function(){return this.block.provider+"-"+this.block.handle},hasErrors:function(){return Object.keys(this.block.errors).length>0}},Object(a["mapState"])(["blocks","blockOptionId","showFieldHandles"])),props:{block:Object,original:Boolean},mounted:function(){Craft.initUiElements(this.$el)},methods:Object(o["default"])({copyValue:function(e){var t=e.target;t.select(),document.execCommand("copy"),Craft.cp.displayNotice(this.t("Copied to clipboard.","app")),t.setSelectionRange(0,0)}},Object(a["mapMutations"])(["updateBlock","setShowOptionsModal"])),emits:["remove"]}},"61e2":function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return s}));n("b0c0");var o=n("f2bf"),a=function(e){return Object(o["pushScopeId"])("data-v-ee9951e4"),e=e(),Object(o["popScopeId"])(),e},i={class:"region-heading"},r={class:"region-title"},c=["value","size"],l=a((function(){return Object(o["createElementVNode"])("span",{"data-icon":"clipboard","aria-hidden":"true"},null,-1)}));function s(e,t,n,a,s,d){var u=Object(o["resolveComponent"])("block"),f=Object(o["resolveComponent"])("draggable");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"region",style:Object(o["normalizeStyle"])("width:"+(n.region.width?n.region.width:"100%"))},[Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("h5",r,Object(o["toDisplayString"])(n.region.name),1),e.showFieldHandles?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:"code small light copytextbtn",title:"Copy to clipboard",role:"button",onClick:t[0]||(t[0]=function(){return d.copyValue&&d.copyValue.apply(d,arguments)})},[Object(o["createElementVNode"])("input",{type:"text",value:n.region.handle,readonly:"",size:n.region.handle.length},null,8,c),l])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(f,{"item-key":"index",class:"region-blocks",list:d.regionBlocks,group:"blocks",onChange:d.changed},{item:Object(o["withCtx"])((function(t){var n=t.element;return[Object(o["createVNode"])(u,{block:n,original:!1,onRemove:e.removeBlock},null,8,["block","onRemove"])]})),_:1},8,["list","onChange"])],4)}},6664:function(e,t,n){var o=n("d9c5");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("daa0ff2e",o,!0,{sourceMap:!1,shadowMode:!1})},7190:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("f2bf"),a=n("165b"),i=n("ced4"),r=n("f547"),c=n("8b69"),l=n("e79c"),s=n("87f7"),d=n("aaa1"),u=Object(o["createApp"])({components:{Blocks:l["default"],BlocksContext:i["default"],BlocksToolbar:a["default"],BlocksMenu:r["default"]}});for(var f in u.use(s["store"]),u.use(d["Translate"]),u.use(d["HandleError"]),u.component("layout-modal",c["default"]),window.CraftThemes.formFieldComponents)u.component("formfield-"+f,window.CraftThemes.formFieldComponents[f]);u.mount("#main")},7270:function(e,t,n){"use strict";n.r(t);var o=n("ae62");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},7282:function(e,t,n){"use strict";n.r(t);var o=n("5348");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},7382:function(e,t,n){"use strict";n.r(t);var o=n("7d73");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},7493:function(e,t,n){"use strict";n.r(t);var o=n("5cd9");for(var a in n.d(t,"default",(function(){return o["default"]})),o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},"7d73":function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return y}));n("b0c0");var o=n("f2bf"),a={class:"modal elementselectormodal themes-modal-options",style:{display:"none"},ref:"modal"},i={key:0,class:"header"},r={key:1,class:"body"},c={key:0},l={class:"field"},s={class:"heading"},d={class:"instructions"},u={class:"input ltr"},f={class:"select"},b={value:""},p=["value"],h={key:0,class:"warning"},m={class:"footer"},v={class:"buttons right"};function y(e,t,n,y,g,O){var k=Object(o["resolveComponent"])("formfield-lightswitch");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[e.editedBlock?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",i,[Object(o["createElementVNode"])("h3",null,Object(o["toDisplayString"])(e.t("Edit block {block} options",{block:this.editedBlock.name})),1)])):Object(o["createCommentVNode"])("",!0),e.editedBlock?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createVNode"])(k,{value:!!g.active,definition:{label:e.t("Active",{},"app")},onChange:t[0]||(t[0]=function(e){return g.active=e}),name:"active"},null,8,["value","definition"]),e.editedBlock.canBeCached||O.isContentBlock?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("label",null,Object(o["toDisplayString"])(e.t("Caching")),1)]),Object(o["createElementVNode"])("div",d,Object(o["toDisplayString"])(O.strategyDescription),1),Object(o["createElementVNode"])("div",u,[Object(o["createElementVNode"])("div",f,[Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{id:"type",onChange:t[1]||(t[1]=function(e){return O.updateCacheStrategy(e.target.value)}),"onUpdate:modelValue":t[2]||(t[2]=function(e){return g.cacheStrategy.handle=e})},[Object(o["createElementVNode"])("option",b,Object(o["toDisplayString"])(e.t("No cache")),1),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.cacheStrategies,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{value:e.handle,key:e.handle},Object(o["toDisplayString"])(e.name),9,p)})),128))],544),[[o["vModelSelect"],g.cacheStrategy.handle]])])]),O.isContentBlock&&"global"==g.cacheStrategy.handle?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",h,Object(o["toDisplayString"])(e.t("This is really not recommended, all your pages will display the same content")),1)):Object(o["createCommentVNode"])("",!0)]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(O.strategyFieldsDefinitions,(function(e,t){var n;return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(O.formFieldComponent(e.field)),{name:t,definition:e,value:null!==(n=g.cacheStrategy.options[t])&&void 0!==n?n:null,errors:O.getCacheStrategyErrors(t),onChange:function(e){return O.updateStrategyOption(t,e)},key:t},null,8,["name","definition","value","errors","onChange"])})),128))])):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.editedBlock.optionsDefinitions,(function(e,t){var n;return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(O.formFieldComponent(e.field)),{name:t,definition:e,value:null!==(n=g.options[t])&&void 0!==n?n:null,errors:O.getOptionErrors(t),onChange:function(e){return O.updateOption(t,e)},key:t},null,8,["name","definition","value","errors","onChange"])})),128))])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",v,[Object(o["createElementVNode"])("button",{type:"button",class:"btn",onClick:t[3]||(t[3]=function(){return O.closeModal&&O.closeModal.apply(O,arguments)})},Object(o["toDisplayString"])(e.t("Close",{},"app")),1),Object(o["createElementVNode"])("button",{type:"button",class:"btn submit",onClick:t[4]||(t[4]=Object(o["withModifiers"])((function(){return O.save&&O.save.apply(O,arguments)}),["prevent"]))},Object(o["toDisplayString"])(e.t("Save",{},"app")),1)])])],512)}},"7fe6":function(e,t,n){"use strict";n.r(t);var o=n("d8a7");for(var a in n.d(t,"default",(function(){return o["default"]})),o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},"87f7":function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return s}));var o=n("53ca"),a=(n("ac1f"),n("1276"),n("c740"),n("a15b"),n("d81d"),n("a434"),n("d3b7"),n("5502")),i=n("2ef0");function r(e){e.response?Craft.cp.displayError(e.response.data.message):Craft.cp.displayError(e)}function c(e,t){var n=document.location.pathname.split("/"),o=n.findIndex((function(e){return"blocks"==e}));-1!==o&&(n[o+1]==e&&n[o+2]==t||(n[o+1]=e,n[o+2]=t,window.history.pushState({},"",n.join("/"))))}function l(e){for(var t in e=Object(i["cloneDeep"])(e),e)delete e[t].index,delete e[t].optionsHtml;return e}var s=Object(a["createStore"])({state:function(){return{theme:null,themes:[],providers:{},isSaving:!1,isCopying:!1,isFetching:{},blocks:[],layouts:[],layout:{},allLayouts:{},regions:{},cacheStrategies:{},showLayoutModal:!1,showOptionsModal:!1,editedLayoutUid:null,editedBlock:null,showFieldHandles:!1}},mutations:{setShowFieldHandles:function(e,t){e.showFieldHandles=t},setShowLayoutModal:function(e,t){var n=t.show,o=t.editUid,a=void 0===o?null:o;e.showLayoutModal=n,e.editedLayoutUid=a},setShowOptionsModal:function(e,t){var n=t.show,o=t.block,a=void 0===o?null:o;e.showOptionsModal=n,e.editedBlock=a},setProviders:function(e,t){e.providers=t},setThemes:function(e,t){e.themes=t},setTheme:function(e,t){e.theme=t,e.regions=e.themes[t].regions,e.layouts=e.allLayouts[t],e.isCopying=!1},setIsSaving:function(e,t){e.isSaving=t},setIsCopying:function(e,t){e.isCopying=t},setBlocks:function(e,t){for(var n in t)t[n].index=n;e.blocks=t},addBlock:function(e,t){t.index=e.blocks.length,e.blocks.push(t)},updateBlock:function(e,t){e.blocks=e.blocks.map((function(e){return e.index===t.index?t:e}))},removeBlock:function(e,t){for(var n in e.blocks.splice(t.index,1),e.blocks)e.blocks[n].index=n},addLayout:function(e,t){e.layouts.push(t)},deleteLayout:function(e,t){e.layouts=Object(i["filter"])(e.layouts,(function(e){return e.uid!=t}))},updateLayout:function(e,t){for(var n in e.layouts)if(e.layouts[n].uid==t.uid){e.layouts[n]=t;break}},updateCustomLayout:function(e,t){e.layout=Object(i["merge"])(e.layout,t)},setLayouts:function(e,t){e.layouts=t},setLayout:function(e,t){if(e.isCopying=!1,"object"!=Object(o["default"])(t)){for(var n in e.layouts)if(e.layouts[n].id==t)return void(e.layout=e.layouts[n])}else e.layout=t},setAllLayouts:function(e,t){e.allLayouts=t},setIsFetching:function(e,t){var n=t.key,o=t.value;e.isFetching[n]=o},setCacheStrategies:function(e,t){e.cacheStrategies=t}},actions:{save:function(e){var t=e.commit,n=e.state;t("setIsSaving",!0);var o={blocks:l(n.blocks),layout:n.layout.id,theme:n.theme},a=!1;"custom"==n.layout.type&&(o.custom=n.layout,a=null==n.layout.id),axios({method:"post",url:Craft.getCpUrl("themes/ajax/blocks/save"),data:o,headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((function(e){t(a?"addLayout":"updateLayout",e.data.layout),c(n.theme,e.data.layout.id),t("setBlocks",e.data.blocks),t("setLayout",e.data.layout),Craft.cp.displayNotice(e.data.message)})).catch((function(e){t("setBlocks",e.response.data.blocks),r(e)})).finally((function(){t("setIsSaving",!1)}))},resetBlocks:function(e,t){var n=e.commit;for(var o in t)t[o].id=null,t[o].layout=null,t[o].uid=null,t[o].dateCreated=null,t[o].dateUpdated=null;n("setBlocks",t)},fetchBlocks:function(e){var t=e.state,n=e.commit,o={};return o[Craft.csrfTokenName]=Craft.csrfTokenValue,n("setIsFetching",{key:"blocks",value:!0}),axios.post(Craft.getCpUrl("themes/ajax/blocks/"+t.layout.id),o).then((function(e){n("setBlocks",e.data.blocks)})).catch((function(e){r(e)})).finally((function(){n("setIsFetching",{key:"blocks",value:!1})}))},fetchProviders:function(e){var t=e.commit,n={};return n[Craft.csrfTokenName]=Craft.csrfTokenValue,t("setIsFetching",{key:"providers",value:!0}),axios.post(Craft.getCpUrl("themes/ajax/block-providers"),n).catch((function(e){r(e)})).then((function(e){t("setProviders",e.data.providers)})).finally((function(){t("setIsFetching",{key:"providers",value:!1})}))},setLayoutAndFetch:function(e,t){var n=e.dispatch,o=e.commit,a=e.state;o("setLayout",t),c(a.theme,t),n("fetchBlocks")},setThemeAndFetch:function(e,t){var n,o=e.state,a=e.commit,i=e.dispatch;for(var r in a("setTheme",t),o.layouts)if(n=o.layouts[r],"default"==n.type)return a("setLayout",n.id),c(o.theme,n.id),void i("fetchBlocks")},copyLayout:function(e,t){var n=e.state,o=e.commit,a=e.dispatch;o("setLayout",t),c(n.theme,t.id),o("setIsCopying",!0),a("resetBlocks",n.blocks)},createLayout:function(e,t){var n=e.state,o=e.commit,a=e.dispatch;o("setLayout",t),o("setIsCopying",!0),a("resetBlocks",n.blocks)},deleteLayout:function(e){var t=e.state,n=e.commit,o=e.dispatch,a={};a[Craft.csrfTokenName]=Craft.csrfTokenValue,n("setIsFetching",{key:"blocks",value:!0});var c="custom"==t.layout.type;return axios.post(Craft.getCpUrl("themes/ajax/layouts/delete/"+t.layout.id),a).then((function(e){Craft.cp.displayNotice(e.data.message),c?n("deleteLayout",t.layout.uid):n("updateLayout",e.data.layout);var a=Object(i["filter"])(t.layouts,(function(e){return"default"==e.type}))[0];return o("setLayoutAndFetch",a.id)})).catch((function(e){r(e)}))}}})},"8b69":function(e,t,n){"use strict";n.r(t);var o=n("59d3"),a=n("8f9f");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("bc35");var r=n("6b0d"),c=n.n(r);const l=c()(a["default"],[["render",o["render"]],["__scopeId","data-v-5777ec6a"]]);t["default"]=l},"8f9f":function(e,t,n){"use strict";n.r(t);var o=n("bcd0");for(var a in n.d(t,"default",(function(){return o["default"]})),o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},"99b2":function(e,t,n){var o=n("ffd8");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("0decbb74",o,!0,{sourceMap:!1,shadowMode:!1})},a2bf:function(e,t,n){"use strict";n.r(t);var o=n("61e2");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},a54d:function(e,t,n){"use strict";n.r(t);var o=n("a7b2");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},a5b6:function(e,t,n){var o=n("b331");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("73970387",o,!0,{sourceMap:!1,shadowMode:!1})},a7b2:function(e,t,n){var o=n("b7b8");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("1605b9a4",o,!0,{sourceMap:!1,shadowMode:!1})},aaa1:function(e,t,n){"use strict";n.r(t),n.d(t,"Translate",(function(){return r})),n.d(t,"HandleError",(function(){return c})),n.d(t,"Clone",(function(){return l})),n.d(t,"FieldComponent",(function(){return s})),n.d(t,"HandleGenerator",(function(){return d})),n.d(t,"SelectInput",(function(){return u}));var o=n("b85c"),a=(n("7db0"),n("caad"),n("159b"),n("b0c0"),n("ec26")),i=n("2ef0"),r={install:function(e){e.config.globalProperties.t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"themes";return window.Craft.t(n,e,t)}}},c={install:function(e){e.config.globalProperties.handleError=function(e){var t,n,o=e;e.response&&(null!==(t=e.response.data.message)&&void 0!==t&&t?o=e.response.data.message:null!==(n=e.response.data.error)&&void 0!==n&&n&&(o=e.response.data.error));Craft.cp.displayError(o)}}},l={install:function(e){e.config.globalProperties.cloneDisplay=function(t){var n,o=Object(i["merge"])({},t);return n="group"==t.type?e.config.globalProperties.cloneGroup(t.item):e.config.globalProperties.cloneField(t.item),o.item=n,o.id=null,o.uid=Object(a["default"])(),o},e.config.globalProperties.cloneField=function(t){var n;return n="undefined"!=typeof window.CraftThemes.fieldComponents[t.type]?window.CraftThemes.fieldComponents[t.type].clone(t,e):Object(i["merge"])({},t),n.id=null,n.uid=Object(a["default"])(),n},e.config.globalProperties.cloneGroup=function(t){var n=Object(i["merge"])({},t),o=[];for(var r in t.displays)o.push(e.config.globalProperties.cloneDisplay(t.displays[r]));return n.displays=o,n.id=null,n.uid=Object(a["default"])(),n}}},s={install:function(e){e.config.globalProperties.fieldComponent=function(e){return"undefined"!=typeof window.CraftThemes.fieldComponents[e]?"field-"+e:"field"}}},d=Craft.HandleGenerator.extend({callback:null,updateTarget:function(){if(this.$target.is(":visible")){var e=this.$source.val();if("undefined"!==typeof e){var t=this.generateTargetValue(e);this.$target.val(t),this.$target.trigger("change"),this.$target.trigger("input"),this.$target.is(":focus")&&Craft.selectFullValue(this.$target),this.callback&&this.callback(t)}}}}),u=Craft.BaseElementSelectInput.extend({theme:null,actionUrl:null,createElementCallback:null,initialIds:[],errors:{},init:function(e){var t=this;this.base(e),this.$elementsContainer.html(""),this.initialIds.length&&Craft.postActionRequest(this.actionUrl,{theme:this.theme,id:this.initialIds},(function(e){var n,a=[],i=Object(o["default"])(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;a.push(t.createElementCallback(r))}}catch(c){i.e(c)}finally{i.f()}t.selectElements2(a),t.updateErrors()}))},setSettings:function(){this.base.apply(this,arguments),this.theme=arguments[0].theme,this.actionUrl=arguments[0].actionUrl,this.createElementCallback=arguments[0].createElementCallback,this.initialIds=arguments[0].initialIds,this.errors=arguments[0].errors},createNewElement:function(e){var t=this,n=this.base(e),o=$('<div class="row" style="margin-bottom:5px;display:flex;justify-content:space-between;align-items:center">');return o.append(n),e.viewModes?this.appendViewModes(o,e.viewModes,e.viewMode):this.fetchViewModes(e.id).done((function(n){var a;t.appendViewModes(o,n[0].viewModes,null!==(a=e.viewMode)&&void 0!==a?a:n[0].viewModes[0].uid),t.trigger("viewModesChanged")})),o},updateErrors:function(){for(var e in this.$container.find(".element-error").remove(),this.errors){var t=this.$elements.find(".element[data-id="+e+"]").parent(),n=$('<div class="error element-error">'+this.errors[e]+"</div>");t.find(".select-wrapper").append(n)}},selectElements2:function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];if(!t.includes(o.id)){t.push(o.id);var a=this.createNewElement(o);this.appendElement(a),this.addElements(a),o.$element=a}}this.onSelectElements(e)},fetchViewModes:function(e){var t={theme:this.theme,id:e};return Craft.postActionRequest(this.actionUrl,t)},appendViewModes:function(e,t,n){var o=this,a=$('<div class="select-wrapper"><div class="select"><select><option value="">'+Craft.t("themes","Select a view mode")+"</select></select></div></div>");t.forEach((function(e){a.find("select").append('<option value="'+e.uid+'"'+(e.uid==n?" selected":"")+">"+e.name+"</options>")})),a.find("select").on("change",(function(){o.trigger("viewModesChanged")})),e.append(a)},getSelectedElementIds:function(){for(var e=[],t=0;t<this.$elements.length;t++)e.push(this.$elements.eq(t).find(".element").data("id"));return e},getSelectedElementData:function(){for(var e=[],t=0;t<this.$elements.length;t++){var n=this.$elements.eq(t);e.push({id:n.find(".element").data("id"),viewMode:n.find("select").val()})}return e},removeElements:function(e){if(this.settings.selectable&&this.elementSelect.removeItems(e),this.modal){for(var t=[],n=0;n<e.length;n++){var o=e.find(".element").eq(n).data("id");o&&t.push(o)}t.length&&this.modal.elementIndex.enableElementsById(t)}e.children("input").prop("disabled",!0),this.$elements=this.$elements.not(e),this.updateAddElementsBtn(),this.onRemoveElements()},removeElement:function(e){this.removeElements(e.parent()),this.animateElementAway(e.parent(),(function(){e.parent().remove()}))},initElementSort:function(){var e=this;this.base(),this.elementSort.settings.ignoreHandleSelector=".delete, .select",this.elementSort.settings.onSortChange=function(){e.trigger("orderChanged")}}})},ae62:function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return v}));n("b0c0");var o=n("f2bf"),a=function(e){return Object(o["pushScopeId"])("data-v-13ca2c22"),e=e(),Object(o["popScopeId"])(),e},i={class:"blocks"},r={key:0,class:"spinner-wrapper"},c=a((function(){return Object(o["createElementVNode"])("div",{class:"spinner"},null,-1)})),l=[c],s={class:"blocks-sidebar"},d={class:"heading"},u=["onClick"],f={class:"regions"},b={class:"heading"},p={key:0,class:"region-list"},h={key:0},m={key:1,class:"region-list"};function v(e,t,n,a,c,v){var y=Object(o["resolveComponent"])("block"),g=Object(o["resolveComponent"])("draggable"),O=Object(o["resolveComponent"])("region"),k=Object(o["resolveComponent"])("layout-modal"),j=Object(o["resolveComponent"])("options-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",i,[v.isLoading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,l)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("h3",null,Object(o["toDisplayString"])(e.t("Blocks")),1)]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.providers,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t.handle},[Object(o["createElementVNode"])("h5",{class:Object(o["normalizeClass"])(["sub-heading slide",{icon:!0,expand:!e.slideStates[t.handle],collapse:e.slideStates[t.handle]}]),onClick:function(n){return e.slideStates[t.handle]=!e.slideStates[t.handle]}},Object(o["toDisplayString"])(t.name),11,u),Object(o["createVNode"])(o["Transition"],{name:"slide"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[e.slideStates[t.handle]?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,"item-key":"vueid",list:t.blocks,group:{name:"blocks",pull:"clone",put:!1},sort:!1,handle:".block"},{item:Object(o["withCtx"])((function(e){var t=e.element;return[Object(o["createVNode"])(y,{block:t,original:!0},null,8,["block"])]})),_:2},1032,["list"])):Object(o["createCommentVNode"])("",!0)])]})),_:2},1024)])})),128))]),Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("h3",null,Object(o["toDisplayString"])(e.t("Regions")),1)]),e.layouts.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.regions,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:e.handle,region:e},null,8,["region"])})),128)),e.regions.length?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",h,Object(o["toDisplayString"])(e.t("No regions are defined for this theme")),1))])):Object(o["createCommentVNode"])("",!0),e.layouts.length?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",m,[Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(e.t("No layouts available, you should reinstall the themes data in the settings")),1)]))]),Object(o["createVNode"])(k),Object(o["createVNode"])(j)])}},b331:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,"input[disabled][data-v-5777ec6a]{background:hsla(0,0%,90.2%,.7)}.modal[data-v-5777ec6a]{padding-bottom:62px;max-height:307px!important;max-width:300px!important;min-height:unset!important;min-width:unset!important}.modal .body[data-v-5777ec6a]{height:calc(100% - 65px)}",""]),e.exports=t},b3e2:function(e,t,n){"use strict";n.r(t);var o=n("5530"),a=(n("a9e3"),n("ac1f"),n("1276"),n("c740"),n("5502"));t["default"]={computed:Object(o["default"])({},Object(a["mapState"])(["layouts","layout","theme"])),props:{initialTheme:String,initialLayout:Number,themes:Object,availableLayouts:Object,allLayouts:Object,allStrategies:Object,showFieldHandles:Number},created:function(){var e=this;if(this.setShowFieldHandles(this.showFieldHandles),this.setCacheStrategies(this.allStrategies),this.setThemes(this.themes),this.setAllLayouts(this.allLayouts),this.initialTheme&&this.setTheme(this.initialTheme),this.initialLayout){var t=this.getLayout(this.initialLayout);t.hasBlocks?this.setLayoutAndFetch(this.initialLayout):(t=this.getDefaultLayout(),this.setLayoutAndFetch(t.id))}window.addEventListener("popstate",(function(){var t=document.location.pathname.split("/"),n=t.findIndex((function(e){return"blocks"==e}));-1!==n&&e.setTheme(t[n+1]),"undefined"!=typeof t[n+2]?e.setLayoutAndFetch(t[n+2]):(layout=e.getDefaultLayout(),e.setLayoutAndFetch(layout.id))}))},methods:Object(o["default"])(Object(o["default"])({getLayout:function(e){for(var t in this.layouts)if(this.layouts[t].id==e)return this.layouts[t]},getDefaultLayout:function(){for(var e in this.layouts)if("default"==this.layouts[e].type)return this.layouts[e]},checkAndSetTheme:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.setThemeAndFetch(e)}},Object(a["mapMutations"])(["setThemes","setAllLayouts","setAvailableLayouts","setTheme","setCacheStrategies","setShowFieldHandles"])),Object(a["mapActions"])(["setLayoutAndFetch","setThemeAndFetch"]))}},b7b8:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".btn[disabled][data-v-6ec8c331]{opacity:.5}",""]),e.exports=t},bc35:function(e,t,n){"use strict";n.r(t);var o=n("a5b6");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},bcd0:function(e,t,n){"use strict";n.r(t);var o=n("5530"),a=(n("b0c0"),n("498a"),n("5502")),i=n("2ef0"),r=n("ec26"),c=n("aaa1");t["default"]={computed:Object(o["default"])({editedLayout:function(){for(var e in this.layouts)if(this.layouts[e].uid==this.editedLayoutUid)return this.layouts[e];return null},customLayouts:function(){return Object(i["filter"])(this.layouts,(function(e){return"custom"==e.type}))},hasError:function(){return this.handleError||this.nameError}},Object(a["mapState"])(["layouts","showLayoutModal","editedLayoutUid","theme"])),data:function(){return{modal:null,name:"",handle:"",nameError:!1,handleError:!1,handleGenerator:null}},watch:{showLayoutModal:function(){this.showLayoutModal?this.modal.show():this.modal.hide(),this.updategenerator(),this.editedLayoutUid&&(this.name=this.editedLayout.name,this.handle=this.editedLayout.elementUid)}},mounted:function(){this.createModal()},beforeUnmount:function(){this.modal.destroy()},methods:Object(o["default"])(Object(o["default"])({createModal:function(){var e=this;this.modal=new Garnish.Modal(this.$refs.modal,{hideOnEsc:!1,hideOnShadeClick:!1,autoShow:!1}),this.handleGenerator=new c["HandleGenerator"](".modal-layout #name",".modal-layout #handle"),this.handleGenerator.callback=function(t){e.handle=t},this.updategenerator()},updategenerator:function(){null===this.editedLayoutUid?this.handleGenerator.startListening():this.handleGenerator.stopListening()},removeErrors:function(){this.nameError=!1,this.handleError=!1},closeModal:function(){this.setShowLayoutModal({show:!1}),this.name="",this.handle="",this.removeErrors()},validateModal:function(){for(var e in this.removeErrors(),this.name.trim()||(this.nameError=this.t("Name is required")),this.handle.trim()||(this.handleError=this.t("Handle is required")),this.customLayouts)this.customLayouts[e].uid!=this.editedLayoutUid&&this.customLayouts[e].elementUid==this.handle.trim()&&(this.handleError=this.t("This handle is already defined"))},save:function(){this.validateModal(),this.hasError||(null!==this.editedLayoutUid?this.updateCustomLayout({name:this.name,elementUid:this.handle}):(this.createLayout({id:null,type:"custom",themeHandle:this.theme,uid:Object(r["default"])(),name:this.name,elementUid:this.handle,hasBlocks:!0,description:this.t("Custom : {name}",{name:this.name})}),Craft.cp.displayNotice(this.t("Custom layout is created, make your changes and save"))),this.closeModal())}},Object(a["mapMutations"])(["setShowLayoutModal","updateCustomLayout"])),Object(a["mapActions"])(["createLayout"]))}},c4f5:function(e,t,n){"use strict";n.r(t);var o=n("ee3c");for(var a in n.d(t,"default",(function(){return o["default"]})),o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},c6cd9:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".block[data-v-667d1f16]{padding:8px 14px;border-bottom:solid #cdd8e4;border-width:1px 0;-webkit-transition:all .3s;transition:all .3s;background-color:#e4edf6;opacity:.5;min-height:34px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:-webkit-grab;cursor:grab}.block .copytextbtn[data-v-667d1f16]:hover{margin-left:0;margin-right:-16px}.block .copytextbtn[data-v-667d1f16]{margin:3px 0}.block .name[data-v-667d1f16]{margin:3px 0;margin-right:5px}.block .actions[data-v-667d1f16]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:auto}.block .actions>div[data-v-667d1f16]{margin-bottom:2px}.block .inner[data-v-667d1f16]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden}.block.original[data-v-667d1f16]{opacity:1}.block.original .description[data-v-667d1f16]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-right:5px}.block.original .name[data-v-667d1f16]{margin:0}.block.active[data-v-667d1f16]{opacity:1}.block[data-v-667d1f16]:last-child{border-bottom:none}.block .small[data-v-667d1f16]{font-size:12px}.block .description[data-v-667d1f16]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.block .delete[data-v-667d1f16],.block .settings[data-v-667d1f16]{padding:0 2px;cursor:pointer;font-size:16px}",""]),e.exports=t},ca0c:function(e,t,n){"use strict";n.r(t);var o=n("1560");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},ced4:function(e,t,n){"use strict";n.r(t);var o=n("ca0c"),a=n("508b");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);var r=n("6b0d"),c=n.n(r);const l=c()(a["default"],[["render",o["render"]]]);t["default"]=l},d5e5:function(e,t,n){"use strict";n.r(t);var o=n("090b");for(var a in n.d(t,"default",(function(){return o["default"]})),o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},d8a7:function(e,t,n){"use strict";n.r(t);var o=n("5530"),a=(n("4de4"),n("5502")),i=n("2ef0");t["default"]={computed:Object(o["default"])({isLoading:function(){return Object(i["reduce"])(this.isFetching,(function(e,t){return e||t}),!1)},canCopy:function(){return!this.isSaving&&!this.isLoading&&this.layout.id},layoutsWithoutBlocks:function(){return this.layouts.filter((function(e){return!e.hasBlocks}))},canSave:function(){return!this.isSaving&&!this.isLoading}},Object(a["mapState"])(["isSaving","isFetching","availableLayouts","layouts","isCopying","layout"])),methods:Object(o["default"])(Object(o["default"])({checkAndCopy:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.copy(e)},copy:function(e){this.copyLayout(e),Craft.cp.displayNotice(this.t("Blocks are copied, make your changes and save"))},checkAndDelete:function(){confirm(this.t("Are you sure you want to delete this layout ?"))&&this.deleteLayout()}},Object(a["mapMutations"])(["setShowLayoutModal"])),Object(a["mapActions"])(["save","copyLayout","deleteLayout"]))}},d8af:function(e,t,n){"use strict";n.r(t);var o=n("5530"),a=(n("4de4"),n("5502"));t["default"]={computed:Object(o["default"])({layoutsWithBlocks:function(){return this.layouts.filter((function(e){return e.hasBlocks}))}},Object(a["mapState"])(["layout","layouts"])),methods:Object(o["default"])(Object(o["default"])({confirmAndChangeLayout:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.setLayoutAndFetch(e)}},Object(a["mapMutations"])([])),Object(a["mapActions"])(["setLayoutAndFetch"]))}},d92b:function(e,t,n){"use strict";n.r(t);var o=n("09be");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},d9c5:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".region[data-v-ee9951e4]{margin-bottom:10px}.region-title[data-v-ee9951e4]{font-weight:700;font-size:16px;margin-right:10px}.region-blocks[data-v-ee9951e4]{min-height:50px;margin-top:5px;-webkit-box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);border-radius:3px}.region-blocks.drop-active[data-v-ee9951e4]{padding-bottom:58px}.region-heading[data-v-ee9951e4]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.region-heading .copytextbtn[data-v-ee9951e4]:hover{margin-left:0;margin-right:-16px}",""]),e.exports=t},dfef:function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return c}));n("a4d3"),n("e01a");var o=n("f2bf"),a={id:"notification-nav"},i={class:"heading"},r=["onClick"];function c(e,t,n,c,l,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("nav",a,[Object(o["createElementVNode"])("ul",null,[Object(o["createElementVNode"])("li",i,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.t("Layouts")),1)]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(s.layoutsWithBlocks,(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:n},[Object(o["createElementVNode"])("a",{href:"#",class:Object(o["normalizeClass"])({sel:e.layout.uid===t.uid}),onClick:Object(o["withModifiers"])((function(e){return s.confirmAndChangeLayout(t.id)}),["prevent"])},Object(o["toDisplayString"])(t.description),11,r)])})),128))])])}},e12e:function(e,t,n){"use strict";n.r(t);var o=n("7382"),a=n("d5e5");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);var r=n("6b0d"),c=n.n(r);const l=c()(a["default"],[["render",o["render"]]]);t["default"]=l},e31a:function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return k}));n("b0c0");var o=n("f2bf"),a={class:"modal elementselectormodal modal-layout",style:{display:"none"},ref:"modal"},i={class:"header"},r={class:"body"},c={class:"content"},l={class:"main"},s={class:"field"},d={class:"heading"},u={class:"required",for:"name"},f={class:"input ltr"},b={key:0,class:"errors"},p={class:"field"},h={class:"heading"},m={class:"required",for:"handle"},v={class:"input ltr"},y={key:0,class:"errors"},g={class:"footer"},O={class:"buttons right"};function k(e,t,n,k,j,x){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("h3",null,Object(o["toDisplayString"])(e.editedLayoutUid?e.t("Edit layout"):e.t("Create layout")),1)]),Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("form",l,[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("label",u,Object(o["toDisplayString"])(e.t("Name",{},"app")),1)]),Object(o["createElementVNode"])("div",f,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",id:"name",class:Object(o["normalizeClass"])({text:!0,fullwidth:!0,error:j.nameError}),"onUpdate:modelValue":t[0]||(t[0]=function(e){return j.name=e}),maxlength:"255",required:""},null,2),[[o["vModelText"],j.name]])]),j.nameError?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",b,[Object(o["createElementVNode"])("li",null,Object(o["toDisplayString"])(j.nameError),1)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("label",m,Object(o["toDisplayString"])(e.t("Handle",{},"app")),1)]),Object(o["createElementVNode"])("div",v,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",id:"handle",class:Object(o["normalizeClass"])({text:!0,fullwidth:!0,error:j.handleError}),"onUpdate:modelValue":t[1]||(t[1]=function(e){return j.handle=e}),maxlength:"255",required:""},null,2),[[o["vModelText"],j.handle]])]),j.handleError?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",y,[Object(o["createElementVNode"])("li",null,Object(o["toDisplayString"])(j.handleError),1)])):Object(o["createCommentVNode"])("",!0)])])])]),Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("button",{type:"button",class:"btn",onClick:t[2]||(t[2]=function(){return x.closeModal&&x.closeModal.apply(x,arguments)})},Object(o["toDisplayString"])(e.t("Close",{},"app")),1),Object(o["createElementVNode"])("button",{type:"button",class:"btn submit",onClick:t[3]||(t[3]=function(){return x.save&&x.save.apply(x,arguments)})},Object(o["toDisplayString"])(e.t("Save",{},"app")),1)])])],512)}},e48f:function(e,t,n){"use strict";n.r(t);var o=n("99b2");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},e79c:function(e,t,n){"use strict";n.r(t);var o=n("7270"),a=n("feef");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("7282"),n("e48f");var r=n("6b0d"),c=n.n(r);const l=c()(a["default"],[["render",o["render"]],["__scopeId","data-v-13ca2c22"]]);t["default"]=l},e7e2:function(e,t,n){"use strict";n.r(t);var o=n("dfef");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},e94f:function(e,t,n){"use strict";n.r(t);var o=n("21df");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},ebe4:function(e,t,n){"use strict";n.r(t);var o=n("d8af");for(var a in n.d(t,"default",(function(){return o["default"]})),o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},ee3c:function(e,t,n){"use strict";n.r(t);var o=n("2909"),a=n("5530"),i=n("5502"),r=n("2ef0"),c=n("353f"),l=n("b76a"),s=n.n(l);t["default"]={computed:Object(a["default"])({regionBlocks:function(){var e=this;return Object(r["sortBy"])(Object(r["filter"])(this.blocks,(function(t){return e.region.handle==t.region})),"order")}},Object(i["mapState"])(["blocks","showFieldHandles"])),props:{region:Object},methods:Object(a["default"])(Object(a["default"])({changed:function(e){var t,n,i;e.added?(t=e.added.newIndex,n=Object(a["default"])({},e.added.element),n.region=this.region.handle,n.order=t,void 0===n.index?(n.active=!0,this.addBlock(n)):this.updateBlock(n),i=Object(o["default"])(this.regionBlocks)):e.moved?(t=e.moved.newIndex,n=e.moved.element,i=Object(o["default"])(this.regionBlocks)):i=Object(r["filter"])(this.regionBlocks,(function(t){return t.index!==e.removed.element.index}));var c=0;for(var l in i){var s=i[l];l!==t&&(s.order=c),c++,this.updateBlock(s)}n&&(n.order=t,this.updateBlock(n))},copyValue:function(e){var t=e.target;t.select(),document.execCommand("copy"),Craft.cp.displayNotice(this.t("Copied to clipboard.","app")),t.setSelectionRange(0,0)}},Object(i["mapMutations"])(["addBlock","removeBlock","updateBlock"])),Object(i["mapActions"])([])),components:{Block:c["default"],Draggable:s.a}}},f547:function(e,t,n){"use strict";n.r(t);var o=n("e7e2"),a=n("ebe4");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("e94f");var r=n("6b0d"),c=n.n(r);const l=c()(a["default"],[["render",o["render"]],["__scopeId","data-v-827a0336"]]);t["default"]=l},feef:function(e,t,n){"use strict";n.r(t);var o=n("5ab6");for(var a in n.d(t,"default",(function(){return o["default"]})),o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},fef1:function(e,t,n){"use strict";n.r(t);var o=n("6664");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a)},ffd8:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,'.blocks[data-v-13ca2c22]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;border-radius:3px;background-color:#f3f7fc;overflow:hidden;border:1px solid rgba(96,125,159,.25);-webkit-box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2)}.blocks .spinner-wrapper[data-v-13ca2c22]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1000}.blocks .spinner-wrapper .spinner[data-v-13ca2c22]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.blocks .block-sidebar[data-v-13ca2c22],.blocks .options[data-v-13ca2c22],.blocks .regions[data-v-13ca2c22]{-webkit-box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2)}.blocks[data-v-13ca2c22]:after{position:absolute;display:block;top:0;left:0;width:100%;height:100%;content:"";-webkit-box-shadow:inset 0 1px 3px -1px #acbed2;box-shadow:inset 0 1px 3px -1px #acbed2;pointer-events:none}.blocks .regions[data-v-13ca2c22]{width:60%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;background:#fff}.blocks .regions *[data-v-13ca2c22]{-webkit-box-sizing:border-box;box-sizing:border-box}.blocks .region-list[data-v-13ca2c22]{padding:15px 15px 5px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.blocks .blocks-sidebar[data-v-13ca2c22],.blocks .options[data-v-13ca2c22],.blocks .regions[data-v-13ca2c22]{min-height:calc(100vh - 320px);overflow-y:auto}.blocks .blocks-sidebar[data-v-13ca2c22]{width:30%;max-width:300px}.blocks h5.sub-heading[data-v-13ca2c22]{padding:7px 15px;margin:0;position:relative;cursor:pointer}.blocks .heading[data-v-13ca2c22],.blocks h5.sub-heading[data-v-13ca2c22]{border-bottom:1px solid rgba(96,125,159,.25)}.blocks .heading[data-v-13ca2c22]{padding:7px 14px 6px;background-color:#f3f7fc;background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(51,64,77,0)),to(rgba(51,64,77,.05)));background-image:linear-gradient(rgba(51,64,77,0),rgba(51,64,77,.05))}.blocks h5.slide[data-v-13ca2c22]{position:relative}.blocks h5.slide[data-v-13ca2c22]:before{position:absolute;right:10px}',""]),e.exports=t}});