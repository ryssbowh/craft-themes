(function(e){function t(t){for(var n,c,l=t[0],r=t[1],s=t[2],u=0,h=[];u<l.length;u++)c=l[u],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&h.push(a[c][0]),a[c]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);d&&d(t);while(h.length)h.shift()();return i.push.apply(i,s||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,l=1;l<o.length;l++){var r=o[l];0!==a[r]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=o[0]))}return e}var n={},a={blocks:0},i=[];function c(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=e,c.c=n,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(o,n,function(t){return e[t]}.bind(null,n));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var d=r;i.push(["7190","chunk-vendors"]),o()})({"21df":function(e,t,o){var n=o("321e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=o("499e").default;a("514d460c",n,!0,{sourceMap:!1,shadowMode:!1})},"321e":function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,".heading[data-v-827a0336]{margin:0 24px 14px 24px}",""]),e.exports=t},"3d92":function(e,t,o){"use strict";o("4e97")},"4d07":function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,"#toolbar{justify-content:end}",""]),e.exports=t},"4e97":function(e,t,o){var n=o("c6cd9");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=o("499e").default;a("6f3a57c3",n,!0,{sourceMap:!1,shadowMode:!1})},5348:function(e,t,o){var n=o("4d07");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=o("499e").default;a("35cfb09c",n,!0,{sourceMap:!1,shadowMode:!1})},6664:function(e,t,o){var n=o("d9c5");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=o("499e").default;a("daa0ff2e",n,!0,{sourceMap:!1,shadowMode:!1})},7190:function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("f2bf"),a=(o("a4d3"),o("e01a"),{key:0,id:"action-buttons",class:"flex"}),i={class:"btngroup submit"},c=["disabled"],l={class:"menu","data-align":"right"},r=["onClick"],s=["disabled"];function d(e,t,o,d,u,h){return e.layouts.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createElementVNode"])("div",i,[e.isCopying?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,href:"#",class:"btn submit menubtn",ref:"menu",disabled:!h.canCopy,onClick:t[0]||(t[0]=Object(n["withModifiers"])((function(){}),["prevent"]))},Object(n["toDisplayString"])(e.t("Copy To")),9,c)),Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(h.layoutsWithoutBlocks,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:t},[Object(n["createElementVNode"])("a",{href:"#",onClick:Object(n["withModifiers"])((function(t){return h.checkAndCopy(e)}),["prevent"])},Object(n["toDisplayString"])(e.description),9,r)])})),128)),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("a",{href:"#",onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(t){return e.setShowLayoutModal({show:!0})}),["prevent"]))},Object(n["toDisplayString"])(e.t("Create custom")),1)])])])]),e.isCopying||"default"==e.layout.type?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,href:"#",class:"btn submit",onClick:t[2]||(t[2]=Object(n["withModifiers"])((function(){return h.checkAndDelete&&h.checkAndDelete.apply(h,arguments)}),["prevent"]))},Object(n["toDisplayString"])(e.t("Delete",{},"app")),1)),"custom"==e.layout.type&&e.layout.id?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:1,href:"#",class:"btn submit",onClick:t[3]||(t[3]=Object(n["withModifiers"])((function(t){return e.setShowLayoutModal({show:!0,editUid:e.layout.uid})}),["prevent"]))},Object(n["toDisplayString"])(e.t("Edit",{},"app")),1)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("button",{href:"#",class:"btn submit",disabled:!h.canSave,onClick:t[4]||(t[4]=Object(n["withModifiers"])((function(){return e.save&&e.save.apply(e,arguments)}),["prevent"]))},Object(n["toDisplayString"])(e.t("Save",{},"app")),9,s)])):Object(n["createCommentVNode"])("",!0)}var u=o("5530"),h=(o("4de4"),o("5502")),p=o("2ef0"),b={computed:Object(u["a"])({isLoading:function(){return Object(p["reduce"])(this.isFetching,(function(e,t){return e||t}),!1)},canCopy:function(){return!this.isSaving&&!this.isLoading&&this.layout.id},layoutsWithoutBlocks:function(){return this.layouts.filter((function(e){return!e.hasBlocks}))},canSave:function(){return!this.isSaving&&!this.isLoading}},Object(h["d"])(["isSaving","isFetching","availableLayouts","layouts","isCopying","layout"])),methods:Object(u["a"])(Object(u["a"])({checkAndCopy:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.copy(e)},copy:function(e){this.copyLayout(e),Craft.cp.displayNotice(this.t("Blocks are copied, make your changes and save"))},checkAndDelete:function(){confirm(this.t("Are you sure you want to delete this layout ?"))&&this.deleteLayout()}},Object(h["c"])(["setShowLayoutModal"])),Object(h["b"])(["save","copyLayout","deleteLayout"]))},m=(o("a54d"),o("6b0d")),f=o.n(m);const y=f()(b,[["render",d],["__scopeId","data-v-6ec8c331"]]);var g=y,v=(o("b0c0"),{class:"btngroup"}),O={key:0,type:"button",class:"btn menubtn","data-icon":"brush"},k={key:1,class:"menu"},j={class:"padded"},C=["onClick"];function E(e,t,o,a,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",v,[e.theme?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",O,Object(n["toDisplayString"])(o.themes[e.theme].name),1)):Object(n["createCommentVNode"])("",!0),e.theme?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",k,[Object(n["createElementVNode"])("ul",j,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.themes,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:t.handle},[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])({sel:e.theme==t.handle}),href:"#",onClick:Object(n["withModifiers"])((function(e){return c.checkAndSetTheme(t.handle)}),["prevent"])},Object(n["toDisplayString"])(t.name),11,C)])})),128))])])):Object(n["createCommentVNode"])("",!0)])}o("a9e3"),o("ac1f"),o("1276"),o("c740");var B={computed:Object(u["a"])({},Object(h["d"])(["layouts","layout","theme"])),props:{initialTheme:String,initialLayout:Number,themes:Object,availableLayouts:Object,allLayouts:Object,allStrategies:Object,showFieldHandles:Number},created:function(){var e=this;if(this.setShowFieldHandles(this.showFieldHandles),this.setCacheStrategies(this.allStrategies),this.setThemes(this.themes),this.setAllLayouts(this.allLayouts),this.initialTheme&&this.setTheme(this.initialTheme),this.initialLayout){var t=this.getLayout(this.initialLayout);t.hasBlocks?this.setLayoutAndFetch(this.initialLayout):(t=this.getDefaultLayout(),this.setLayoutAndFetch(t.id))}window.addEventListener("popstate",(function(){var t=document.location.pathname.split("/"),o=t.findIndex((function(e){return"blocks"==e}));-1!==o&&e.setTheme(t[o+1]),"undefined"!=typeof t[o+2]?e.setLayoutAndFetch(t[o+2]):(layout=e.getDefaultLayout(),e.setLayoutAndFetch(layout.id))}))},methods:Object(u["a"])(Object(u["a"])({getLayout:function(e){for(var t in this.layouts)if(this.layouts[t].id==e)return this.layouts[t]},getDefaultLayout:function(){for(var e in this.layouts)if("default"==this.layouts[e].type)return this.layouts[e]},checkAndSetTheme:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.setThemeAndFetch(e)}},Object(h["c"])(["setThemes","setAllLayouts","setAvailableLayouts","setTheme","setCacheStrategies","setShowFieldHandles"])),Object(h["b"])(["setLayoutAndFetch","setThemeAndFetch"]))};const w=f()(B,[["render",E]]);var x=w,S={id:"notification-nav"},N={class:"heading"},V=["onClick"];function L(e,t,o,a,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("nav",S,[Object(n["createElementVNode"])("ul",null,[Object(n["createElementVNode"])("li",N,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.t("Layouts")),1)]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.layoutsWithBlocks,(function(t,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:o},[Object(n["createElementVNode"])("a",{href:"#",class:Object(n["normalizeClass"])({sel:e.layout.uid===t.uid}),onClick:Object(n["withModifiers"])((function(e){return c.confirmAndChangeLayout(t.id)}),["prevent"])},Object(n["toDisplayString"])(t.description),11,V)])})),128))])])}var M={computed:Object(u["a"])({layoutsWithBlocks:function(){return this.layouts.filter((function(e){return e.hasBlocks}))}},Object(h["d"])(["layout","layouts"])),methods:Object(u["a"])(Object(u["a"])({confirmAndChangeLayout:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.setLayoutAndFetch(e)}},Object(h["c"])([])),Object(h["b"])(["setLayoutAndFetch"]))};o("e94f");const D=f()(M,[["render",L],["__scopeId","data-v-827a0336"]]);var F=D,T={class:"modal elementselectormodal modal-layout",style:{display:"none"},ref:"modal"},I={class:"header"},_={class:"body"},A={class:"content"},U={class:"main"},$={class:"field"},P={class:"heading"},H={class:"required",for:"name"},z={class:"input ltr"},q={key:0,class:"errors"},R={class:"field"},G={class:"heading"},W={class:"required",for:"handle"},Y={class:"input ltr"},J={key:0,class:"errors"},X={class:"footer"},K={class:"buttons right"};function Q(e,t,o,a,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",T,[Object(n["createElementVNode"])("div",I,[Object(n["createElementVNode"])("h3",null,Object(n["toDisplayString"])(e.editedLayoutUid?e.t("Edit layout"):e.t("Create layout")),1)]),Object(n["createElementVNode"])("div",_,[Object(n["createElementVNode"])("div",A,[Object(n["createElementVNode"])("form",U,[Object(n["createElementVNode"])("div",$,[Object(n["createElementVNode"])("div",P,[Object(n["createElementVNode"])("label",H,Object(n["toDisplayString"])(e.t("Name",{},"app")),1)]),Object(n["createElementVNode"])("div",z,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",id:"name",class:Object(n["normalizeClass"])({text:!0,fullwidth:!0,error:i.nameError}),"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.name=e}),maxlength:"255",required:""},null,2),[[n["vModelText"],i.name]])]),i.nameError?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",q,[Object(n["createElementVNode"])("li",null,Object(n["toDisplayString"])(i.nameError),1)])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",R,[Object(n["createElementVNode"])("div",G,[Object(n["createElementVNode"])("label",W,Object(n["toDisplayString"])(e.t("Handle",{},"app")),1)]),Object(n["createElementVNode"])("div",Y,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",id:"handle",class:Object(n["normalizeClass"])({text:!0,fullwidth:!0,error:i.handleError}),"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.handle=e}),maxlength:"255",required:""},null,2),[[n["vModelText"],i.handle]])]),i.handleError?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",J,[Object(n["createElementVNode"])("li",null,Object(n["toDisplayString"])(i.handleError),1)])):Object(n["createCommentVNode"])("",!0)])])])]),Object(n["createElementVNode"])("div",X,[Object(n["createElementVNode"])("div",K,[Object(n["createElementVNode"])("button",{type:"button",class:"btn",onClick:t[2]||(t[2]=function(){return c.closeModal&&c.closeModal.apply(c,arguments)})},Object(n["toDisplayString"])(e.t("Close",{},"app")),1),Object(n["createElementVNode"])("button",{type:"button",class:"btn submit",onClick:t[3]||(t[3]=function(){return c.save&&c.save.apply(c,arguments)})},Object(n["toDisplayString"])(e.t("Save",{},"app")),1)])])],512)}o("498a");var Z=o("ec26"),ee=o("aaa1"),te={computed:Object(u["a"])({editedLayout:function(){for(var e in this.layouts)if(this.layouts[e].uid==this.editedLayoutUid)return this.layouts[e];return null},customLayouts:function(){return Object(p["filter"])(this.layouts,(function(e){return"custom"==e.type}))},hasError:function(){return this.handleError||this.nameError}},Object(h["d"])(["layouts","showLayoutModal","editedLayoutUid","theme"])),data:function(){return{modal:null,name:"",handle:"",nameError:!1,handleError:!1,handleGenerator:null}},watch:{showLayoutModal:function(){this.showLayoutModal?this.modal.show():this.modal.hide(),this.updategenerator(),this.editedLayoutUid&&(this.name=this.editedLayout.name,this.handle=this.editedLayout.elementUid)}},mounted:function(){this.createModal()},beforeUnmount:function(){this.modal.destroy()},methods:Object(u["a"])(Object(u["a"])({createModal:function(){var e=this;this.modal=new Garnish.Modal(this.$refs.modal,{hideOnEsc:!1,hideOnShadeClick:!1,autoShow:!1}),this.handleGenerator=new ee["d"](".modal-layout #name",".modal-layout #handle"),this.handleGenerator.callback=function(t){e.handle=t},this.updategenerator()},updategenerator:function(){null===this.editedLayoutUid?this.handleGenerator.startListening():this.handleGenerator.stopListening()},removeErrors:function(){this.nameError=!1,this.handleError=!1},closeModal:function(){this.setShowLayoutModal({show:!1}),this.name="",this.handle="",this.removeErrors()},validateModal:function(){for(var e in this.removeErrors(),this.name.trim()||(this.nameError=this.t("Name is required")),this.handle.trim()||(this.handleError=this.t("Handle is required")),this.customLayouts)this.customLayouts[e].uid!=this.editedLayoutUid&&this.customLayouts[e].elementUid==this.handle.trim()&&(this.handleError=this.t("This handle is already defined"))},save:function(){this.validateModal(),this.hasError||(null!==this.editedLayoutUid?this.updateCustomLayout({name:this.name,elementUid:this.handle}):(this.createLayout({id:null,type:"custom",themeHandle:this.theme,uid:Object(Z["a"])(),name:this.name,elementUid:this.handle,hasBlocks:!0,description:this.t("Custom : {name}",{name:this.name})}),Craft.cp.displayNotice(this.t("Custom layout is created, make your changes and save"))),this.closeModal())}},Object(h["c"])(["setShowLayoutModal","updateCustomLayout"])),Object(h["b"])(["createLayout"]))};o("bc35");const oe=f()(te,[["render",Q],["__scopeId","data-v-5777ec6a"]]);var ne=oe,ae=function(e){return Object(n["pushScopeId"])("data-v-13ca2c22"),e=e(),Object(n["popScopeId"])(),e},ie={class:"blocks"},ce={key:0,class:"spinner-wrapper"},le=ae((function(){return Object(n["createElementVNode"])("div",{class:"spinner"},null,-1)})),re=[le],se={class:"blocks-sidebar"},de={class:"heading"},ue=["onClick"],he={class:"regions"},pe={class:"heading"},be={key:0,class:"region-list"},me={key:0},fe={key:1,class:"region-list"};function ye(e,t,o,a,i,c){var l=Object(n["resolveComponent"])("block"),r=Object(n["resolveComponent"])("draggable"),s=Object(n["resolveComponent"])("region"),d=Object(n["resolveComponent"])("layout-modal"),u=Object(n["resolveComponent"])("options-modal");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ie,[c.isLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ce,re)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",se,[Object(n["createElementVNode"])("div",de,[Object(n["createElementVNode"])("h3",null,Object(n["toDisplayString"])(e.t("Blocks")),1)]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.providers,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:t.handle},[Object(n["createElementVNode"])("h5",{class:Object(n["normalizeClass"])(["sub-heading slide",{icon:!0,expand:!e.slideStates[t.handle],collapse:e.slideStates[t.handle]}]),onClick:function(o){return e.slideStates[t.handle]=!e.slideStates[t.handle]}},Object(n["toDisplayString"])(t.name),11,ue),Object(n["createVNode"])(n["Transition"],{name:"slide"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",null,[e.slideStates[t.handle]?(Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:0,"item-key":"vueid",list:t.blocks,group:{name:"blocks",pull:"clone",put:!1},sort:!1,handle:".block"},{item:Object(n["withCtx"])((function(e){var t=e.element;return[Object(n["createVNode"])(l,{block:t,original:!0},null,8,["block"])]})),_:2},1032,["list"])):Object(n["createCommentVNode"])("",!0)])]})),_:2},1024)])})),128))]),Object(n["createElementVNode"])("div",he,[Object(n["createElementVNode"])("div",pe,[Object(n["createElementVNode"])("h3",null,Object(n["toDisplayString"])(e.t("Regions")),1)]),e.layouts.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",be,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.regions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:e.handle,region:e},null,8,["region"])})),128)),e.regions.length?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",me,Object(n["toDisplayString"])(e.t("No regions are defined for this theme")),1))])):Object(n["createCommentVNode"])("",!0),e.layouts.length?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",fe,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.t("No layouts available, you should reinstall the themes data in the settings")),1)]))]),Object(n["createVNode"])(d),Object(n["createVNode"])(u)])}var ge=function(e){return Object(n["pushScopeId"])("data-v-667d1f16"),e=e(),Object(n["popScopeId"])(),e},ve={class:"inner"},Oe={class:"description"},ke={class:"name"},je={key:0,class:"error","data-icon":"alert","aria-label":"Error"},Ce={key:0,class:"small"},Ee=["value","size"],Be=ge((function(){return Object(n["createElementVNode"])("span",{"data-icon":"clipboard","aria-hidden":"true"},null,-1)})),we={key:0,class:"info"},xe={class:"actions"};function Se(e,t,o,a,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])({block:!0,original:o.original,active:o.block.active&&!o.original})},[Object(n["createElementVNode"])("div",ve,[Object(n["createElementVNode"])("div",Oe,[Object(n["createElementVNode"])("div",ke,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.block.name)+" ",1),c.hasErrors?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",je)):Object(n["createCommentVNode"])("",!0)]),o.original?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ce,Object(n["toDisplayString"])(o.block.smallDescription),1)):Object(n["createCommentVNode"])("",!0),!o.original&&e.showFieldHandles?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:1,class:"code small light copytextbtn",title:"Copy to clipboard",role:"button",onClick:t[0]||(t[0]=function(){return c.copyValue&&c.copyValue.apply(c,arguments)})},[Object(n["createElementVNode"])("input",{type:"text",value:c.fullName,readonly:"",size:c.fullName.length},null,8,Ee),Be])):Object(n["createCommentVNode"])("",!0)]),o.original&&o.block.longDescription?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",we,Object(n["toDisplayString"])(o.block.longDescription),1)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",xe,[o.original?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{key:0,class:Object(n["normalizeClass"])({settings:!0,icon:!0,active:e.blockOptionId==o.block.index,error:c.hasErrors}),onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(t){return e.setShowOptionsModal({show:!0,block:o.block})}),["prevent"]))},null,2)),o.original?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{key:1,class:"delete icon",onClick:t[2]||(t[2]=Object(n["withModifiers"])((function(t){return e.$emit("remove",o.block)}),["prevent"]))}))])])],2)}o("b64b");var Ne={computed:Object(u["a"])({fullName:function(){return this.block.provider+"-"+this.block.handle},hasErrors:function(){return Object.keys(this.block.errors).length>0}},Object(h["d"])(["blocks","blockOptionId","showFieldHandles"])),props:{block:Object,original:Boolean},mounted:function(){Craft.initUiElements(this.$el)},methods:Object(u["a"])({copyValue:function(e){var t=e.target;t.select(),document.execCommand("copy"),Craft.cp.displayNotice(this.t("Copied to clipboard.","app")),t.setSelectionRange(0,0)}},Object(h["c"])(["updateBlock","setShowOptionsModal"])),emits:["remove"]};o("3d92");const Ve=f()(Ne,[["render",Se],["__scopeId","data-v-667d1f16"]]);var Le=Ve,Me={class:"modal elementselectormodal themes-modal-options",style:{display:"none"},ref:"modal"},De={key:0,class:"header"},Fe={key:1,class:"body"},Te={key:0},Ie={class:"field"},_e={class:"heading"},Ae={class:"instructions"},Ue={class:"input ltr"},$e={class:"select"},Pe={value:""},He=["value"],ze={key:0,class:"warning"},qe={class:"footer"},Re={class:"buttons right"};function Ge(e,t,o,a,i,c){var l=Object(n["resolveComponent"])("formfield-lightswitch");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Me,[e.editedBlock?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",De,[Object(n["createElementVNode"])("h3",null,Object(n["toDisplayString"])(e.t("Edit block {block} options",{block:this.editedBlock.name})),1)])):Object(n["createCommentVNode"])("",!0),e.editedBlock?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Fe,[Object(n["createVNode"])(l,{value:!!i.active,definition:{label:e.t("Active",{},"app")},onChange:t[0]||(t[0]=function(e){return i.active=e}),name:"active"},null,8,["value","definition"]),e.editedBlock.canBeCached||c.isContentBlock?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Te,[Object(n["createElementVNode"])("div",Ie,[Object(n["createElementVNode"])("div",_e,[Object(n["createElementVNode"])("label",null,Object(n["toDisplayString"])(e.t("Caching")),1)]),Object(n["createElementVNode"])("div",Ae,Object(n["toDisplayString"])(c.strategyDescription),1),Object(n["createElementVNode"])("div",Ue,[Object(n["createElementVNode"])("div",$e,[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{id:"type",onChange:t[1]||(t[1]=function(e){return c.updateCacheStrategy(e.target.value)}),"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.cacheStrategy.handle=e})},[Object(n["createElementVNode"])("option",Pe,Object(n["toDisplayString"])(e.t("No cache")),1),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.cacheStrategies,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{value:e.handle,key:e.handle},Object(n["toDisplayString"])(e.name),9,He)})),128))],544),[[n["vModelSelect"],i.cacheStrategy.handle]])])]),c.isContentBlock&&"global"==i.cacheStrategy.handle?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ze,Object(n["toDisplayString"])(e.t("This is really not recommended, all your pages will display the same content")),1)):Object(n["createCommentVNode"])("",!0)]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.strategyFieldsDefinitions,(function(e,t){var o;return Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])(c.formFieldComponent(e.field)),{name:t,definition:e,value:null!==(o=i.cacheStrategy.options[t])&&void 0!==o?o:null,errors:c.getCacheStrategyErrors(t),onChange:function(e){return c.updateStrategyOption(t,e)},key:t},null,8,["name","definition","value","errors","onChange"])})),128))])):Object(n["createCommentVNode"])("",!0),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.editedBlock.optionsDefinitions,(function(e,t){var o;return Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])(c.formFieldComponent(e.field)),{name:t,definition:e,value:null!==(o=i.options[t])&&void 0!==o?o:null,errors:c.getOptionErrors(t),onChange:function(e){return c.updateOption(t,e)},key:t},null,8,["name","definition","value","errors","onChange"])})),128))])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",qe,[Object(n["createElementVNode"])("div",Re,[Object(n["createElementVNode"])("button",{type:"button",class:"btn",onClick:t[3]||(t[3]=function(){return c.closeModal&&c.closeModal.apply(c,arguments)})},Object(n["toDisplayString"])(e.t("Close",{},"app")),1),Object(n["createElementVNode"])("button",{type:"button",class:"btn submit",onClick:t[4]||(t[4]=Object(n["withModifiers"])((function(){return c.save&&c.save.apply(c,arguments)}),["prevent"]))},Object(n["toDisplayString"])(e.t("Save",{},"app")),1)])])],512)}var We={computed:Object(u["a"])({machineName:function(){return this.editedBlock.provider+"_"+this.editedBlock.handle},isContentBlock:function(){return"system_content"==this.machineName},strategyDescription:function(){var e=this.getStrategy(this.cacheStrategy.handle);return e?e.description:""},strategyFieldsDefinitions:function(){var e=this.getStrategy(this.cacheStrategy.handle);return e?e.options.definitions:""}},Object(h["d"])(["cacheStrategies","showOptionsModal","editedBlock"])),data:function(){return{modal:null,options:{},errors:{},active:null,cacheStrategy:null}},watch:{showOptionsModal:function(){this.showOptionsModal?(this.options=Object(p["merge"])({},this.editedBlock.options),this.active=this.editedBlock.active,this.errors=this.editedBlock.errors,this.cacheStrategy=this.editedBlock.cacheStrategy,this.modal.show()):this.modal.hide()}},beforeUnmount:function(){this.modal.destroy()},mounted:function(){this.createModal()},methods:Object(u["a"])(Object(u["a"])({formFieldComponent:function(e){return"formfield-"+e},getStrategy:function(e){var t;return null!==(t=this.cacheStrategies[e])&&void 0!==t?t:null},createModal:function(){this.modal=new Garnish.Modal(this.$refs.modal,{hideOnEsc:!1,hideOnShadeClick:!1,autoShow:!1})},closeModal:function(){this.options={},this.errors={},this.active=null,this.setShowOptionsModal({show:!1})},updateStrategyOption:function(e,t){this.cacheStrategy.options[e]=t},updateOption:function(e,t){this.options[e]=t},updateCacheStrategy:function(e){e?(this.cacheStrategy.handle=e,this.cacheStrategy.options=this.getStrategy(e).options.defaultValues):(this.cacheStrategy.handle="",this.cacheStrategy.options={})},getCacheStrategyErrors:function(e){var t;return this.errors.cacheStrategy&&null!==(t=this.errors.cacheStrategy[e])&&void 0!==t?t:[]},getOptionErrors:function(e){var t;return this.errors.options&&null!==(t=this.errors.options[e])&&void 0!==t?t:[]},save:function(){var e=this,t={blockHandle:this.editedBlock.handle,provider:this.editedBlock.provider,options:this.options,cacheStrategy:this.cacheStrategy};axios({method:"post",url:Craft.getActionUrl("themes/cp-blocks-ajax/validate-block-options"),data:t,headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((function(t){Object.keys(t.data.errors).length>0?e.errors=t.data.errors:(e.editedBlock.active=e.active,e.editedBlock.options=e.options,e.editedBlock.cacheStrategy=e.cacheStrategy,e.updateBlock(e.editedBlock),e.closeModal())})).catch((function(t){e.handleError(t)}))}},Object(h["c"])(["updateBlock","setShowOptionsModal"])),Object(h["b"])([]))};const Ye=f()(We,[["render",Ge]]);var Je=Ye,Xe=function(e){return Object(n["pushScopeId"])("data-v-ee9951e4"),e=e(),Object(n["popScopeId"])(),e},Ke={class:"region-heading"},Qe={class:"region-title"},Ze=["value","size"],et=Xe((function(){return Object(n["createElementVNode"])("span",{"data-icon":"clipboard","aria-hidden":"true"},null,-1)}));function tt(e,t,o,a,i,c){var l=Object(n["resolveComponent"])("block"),r=Object(n["resolveComponent"])("draggable");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"region",style:Object(n["normalizeStyle"])("width:"+(o.region.width?o.region.width:"100%"))},[Object(n["createElementVNode"])("div",Ke,[Object(n["createElementVNode"])("h5",Qe,Object(n["toDisplayString"])(o.region.name),1),e.showFieldHandles?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:0,class:"code small light copytextbtn",title:"Copy to clipboard",role:"button",onClick:t[0]||(t[0]=function(){return c.copyValue&&c.copyValue.apply(c,arguments)})},[Object(n["createElementVNode"])("input",{type:"text",value:o.region.handle,readonly:"",size:o.region.handle.length},null,8,Ze),et])):Object(n["createCommentVNode"])("",!0)]),Object(n["createVNode"])(r,{"item-key":"index",class:"region-blocks",list:c.regionBlocks,group:"blocks",onChange:c.changed},{item:Object(n["withCtx"])((function(t){var o=t.element;return[Object(n["createVNode"])(l,{block:o,original:!1,onRemove:e.removeBlock},null,8,["block","onRemove"])]})),_:1},8,["list","onChange"])],4)}var ot=o("2909"),nt=o("b76a"),at=o.n(nt),it={computed:Object(u["a"])({regionBlocks:function(){var e=this;return Object(p["sortBy"])(Object(p["filter"])(this.blocks,(function(t){return e.region.handle==t.region})),"order")}},Object(h["d"])(["blocks","showFieldHandles"])),props:{region:Object},methods:Object(u["a"])(Object(u["a"])({changed:function(e){var t,o,n;e.added?(t=e.added.newIndex,o=Object(u["a"])({},e.added.element),o.region=this.region.handle,o.order=t,void 0===o.index?(o.active=!0,this.addBlock(o)):this.updateBlock(o),n=Object(ot["a"])(this.regionBlocks)):e.moved?(t=e.moved.newIndex,o=e.moved.element,n=Object(ot["a"])(this.regionBlocks)):n=Object(p["filter"])(this.regionBlocks,(function(t){return t.index!==e.removed.element.index}));var a=0;for(var i in n){var c=n[i];i!==t&&(c.order=a),a++,this.updateBlock(c)}o&&(o.order=t,this.updateBlock(o))},copyValue:function(e){var t=e.target;t.select(),document.execCommand("copy"),Craft.cp.displayNotice(this.t("Copied to clipboard.","app")),t.setSelectionRange(0,0)}},Object(h["c"])(["addBlock","removeBlock","updateBlock"])),Object(h["b"])([])),components:{Block:Le,Draggable:at.a}};o("fef1");const ct=f()(it,[["render",tt],["__scopeId","data-v-ee9951e4"]]);var lt=ct,rt={computed:Object(u["a"])({isLoading:function(){return Object(p["reduce"])(this.isFetching,(function(e,t){return e||t}),this.isSaving)}},Object(h["d"])(["blocks","regions","isFetching","isSaving","blockOptionId","providers","layouts"])),props:{},watch:{providers:{deep:!0,handler:function(e){var t=!0;for(var o in e)this.slideStates[o]=t,t=!1}}},data:function(){return{slideStates:{}}},created:function(){this.fetchProviders()},methods:Object(u["a"])({},Object(h["b"])(["checkChanges","fetchProviders"])),components:{Region:lt,Block:Le,OptionsModal:Je,Draggable:at.a}};o("7282"),o("e48f");const st=f()(rt,[["render",ye],["__scopeId","data-v-13ca2c22"]]);var dt=st,ut=o("53ca");o("a15b"),o("d81d"),o("a434"),o("d3b7");function ht(e){e.response?Craft.cp.displayError(e.response.data.message):Craft.cp.displayError(e)}function pt(e,t){var o=document.location.pathname.split("/"),n=o.findIndex((function(e){return"blocks"==e}));-1!==n&&(o[n+1]==e&&o[n+2]==t||(o[n+1]=e,o[n+2]=t,window.history.pushState({},"",o.join("/"))))}function bt(e){for(var t in e=Object(p["cloneDeep"])(e),e)delete e[t].index,delete e[t].optionsHtml;return e}var mt=Object(h["a"])({state:function(){return{theme:null,themes:[],providers:{},isSaving:!1,isCopying:!1,isFetching:{},blocks:[],layouts:[],layout:{},allLayouts:{},regions:{},cacheStrategies:{},showLayoutModal:!1,showOptionsModal:!1,editedLayoutUid:null,editedBlock:null,showFieldHandles:!1}},mutations:{setShowFieldHandles:function(e,t){e.showFieldHandles=t},setShowLayoutModal:function(e,t){var o=t.show,n=t.editUid,a=void 0===n?null:n;e.showLayoutModal=o,e.editedLayoutUid=a},setShowOptionsModal:function(e,t){var o=t.show,n=t.block,a=void 0===n?null:n;e.showOptionsModal=o,e.editedBlock=a},setProviders:function(e,t){e.providers=t},setThemes:function(e,t){e.themes=t},setTheme:function(e,t){e.theme=t,e.regions=e.themes[t].regions,e.layouts=e.allLayouts[t],e.isCopying=!1},setIsSaving:function(e,t){e.isSaving=t},setIsCopying:function(e,t){e.isCopying=t},setBlocks:function(e,t){for(var o in t)t[o].index=o;e.blocks=t},addBlock:function(e,t){t.index=e.blocks.length,e.blocks.push(t)},updateBlock:function(e,t){e.blocks=e.blocks.map((function(e){return e.index===t.index?t:e}))},removeBlock:function(e,t){for(var o in e.blocks.splice(t.index,1),e.blocks)e.blocks[o].index=o},addLayout:function(e,t){e.layouts.push(t)},deleteLayout:function(e,t){e.layouts=Object(p["filter"])(e.layouts,(function(e){return e.uid!=t}))},updateLayout:function(e,t){for(var o in e.layouts)if(e.layouts[o].uid==t.uid){e.layouts[o]=t;break}},updateCustomLayout:function(e,t){e.layout=Object(p["merge"])(e.layout,t)},setLayouts:function(e,t){e.layouts=t},setLayout:function(e,t){if(e.isCopying=!1,"object"!=Object(ut["a"])(t)){for(var o in e.layouts)if(e.layouts[o].id==t)return void(e.layout=e.layouts[o])}else e.layout=t},setAllLayouts:function(e,t){e.allLayouts=t},setIsFetching:function(e,t){var o=t.key,n=t.value;e.isFetching[o]=n},setCacheStrategies:function(e,t){e.cacheStrategies=t}},actions:{save:function(e){var t=e.commit,o=e.state;t("setIsSaving",!0);var n={blocks:bt(o.blocks),layout:o.layout.id,theme:o.theme},a=!1;"custom"==o.layout.type&&(n.custom=o.layout,a=null==o.layout.id),axios({method:"post",url:Craft.getCpUrl("themes/ajax/blocks/save"),data:n,headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((function(e){t(a?"addLayout":"updateLayout",e.data.layout),pt(o.theme,e.data.layout.id),t("setBlocks",e.data.blocks),t("setLayout",e.data.layout),Craft.cp.displayNotice(e.data.message)})).catch((function(e){t("setBlocks",e.response.data.blocks),ht(e)})).finally((function(){t("setIsSaving",!1)}))},resetBlocks:function(e,t){var o=e.commit;for(var n in t)t[n].id=null,t[n].layout=null,t[n].uid=null,t[n].dateCreated=null,t[n].dateUpdated=null;o("setBlocks",t)},fetchBlocks:function(e){var t=e.state,o=e.commit,n={};return n[Craft.csrfTokenName]=Craft.csrfTokenValue,o("setIsFetching",{key:"blocks",value:!0}),axios.post(Craft.getCpUrl("themes/ajax/blocks/"+t.layout.id),n).then((function(e){o("setBlocks",e.data.blocks)})).catch((function(e){ht(e)})).finally((function(){o("setIsFetching",{key:"blocks",value:!1})}))},fetchProviders:function(e){var t=e.commit,o={};return o[Craft.csrfTokenName]=Craft.csrfTokenValue,t("setIsFetching",{key:"providers",value:!0}),axios.post(Craft.getCpUrl("themes/ajax/block-providers"),o).catch((function(e){ht(e)})).then((function(e){t("setProviders",e.data.providers)})).finally((function(){t("setIsFetching",{key:"providers",value:!1})}))},setLayoutAndFetch:function(e,t){var o=e.dispatch,n=e.commit,a=e.state;n("setLayout",t),pt(a.theme,t),o("fetchBlocks")},setThemeAndFetch:function(e,t){var o,n=e.state,a=e.commit,i=e.dispatch;for(var c in a("setTheme",t),n.layouts)if(o=n.layouts[c],"default"==o.type)return a("setLayout",o.id),pt(n.theme,o.id),void i("fetchBlocks")},copyLayout:function(e,t){var o=e.state,n=e.commit,a=e.dispatch;n("setLayout",t),pt(o.theme,t.id),n("setIsCopying",!0),a("resetBlocks",o.blocks)},createLayout:function(e,t){var o=e.state,n=e.commit,a=e.dispatch;n("setLayout",t),n("setIsCopying",!0),a("resetBlocks",o.blocks)},deleteLayout:function(e){var t=e.state,o=e.commit,n=e.dispatch,a={};a[Craft.csrfTokenName]=Craft.csrfTokenValue,o("setIsFetching",{key:"blocks",value:!0});var i="custom"==t.layout.type;return axios.post(Craft.getCpUrl("themes/ajax/layouts/delete/"+t.layout.id),a).then((function(e){Craft.cp.displayNotice(e.data.message),i?o("deleteLayout",t.layout.uid):o("updateLayout",e.data.layout);var a=Object(p["filter"])(t.layouts,(function(e){return"default"==e.type}))[0];return n("setLayoutAndFetch",a.id)})).catch((function(e){ht(e)}))}}}),ft=Object(n["createApp"])({components:{Blocks:dt,BlocksContext:x,BlocksToolbar:g,BlocksMenu:F}});for(var yt in ft.use(mt),ft.use(ee["f"]),ft.use(ee["c"]),ft.component("layout-modal",ne),window.CraftThemes.formFieldComponents)ft.component("formfield-"+yt,window.CraftThemes.formFieldComponents[yt]);ft.mount("#main")},7282:function(e,t,o){"use strict";o("5348")},"99b2":function(e,t,o){var n=o("ffd8");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=o("499e").default;a("0decbb74",n,!0,{sourceMap:!1,shadowMode:!1})},a54d:function(e,t,o){"use strict";o("a7b2")},a5b6:function(e,t,o){var n=o("b331");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=o("499e").default;a("73970387",n,!0,{sourceMap:!1,shadowMode:!1})},a7b2:function(e,t,o){var n=o("b7b8");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=o("499e").default;a("1605b9a4",n,!0,{sourceMap:!1,shadowMode:!1})},aaa1:function(e,t,o){"use strict";o.d(t,"f",(function(){return c})),o.d(t,"c",(function(){return l})),o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return s})),o.d(t,"d",(function(){return d})),o.d(t,"e",(function(){return u}));var n=o("b85c"),a=(o("7db0"),o("159b"),o("b0c0"),o("ec26")),i=o("2ef0"),c={install:function(e){e.config.globalProperties.t=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"themes";return window.Craft.t(o,e,t)}}},l={install:function(e){e.config.globalProperties.handleError=function(e){var t,o,n=e;e.response&&(null!==(t=e.response.data.message)&&void 0!==t&&t?n=e.response.data.message:null!==(o=e.response.data.error)&&void 0!==o&&o&&(n=e.response.data.error));Craft.cp.displayError(n)}}},r={install:function(e){e.config.globalProperties.cloneDisplay=function(t){var o,n=Object(i["merge"])({},t);return o="group"==t.type?e.config.globalProperties.cloneGroup(t.item):e.config.globalProperties.cloneField(t.item),n.item=o,n.id=null,n.uid=Object(a["a"])(),n},e.config.globalProperties.cloneField=function(t){var o;return o="undefined"!=typeof window.CraftThemes.fieldComponents[t.type]?window.CraftThemes.fieldComponents[t.type].clone(t,e):Object(i["merge"])({},t),o.id=null,o.uid=Object(a["a"])(),o},e.config.globalProperties.cloneGroup=function(t){var o=Object(i["merge"])({},t),n=[];for(var c in t.displays)n.push(e.config.globalProperties.cloneDisplay(t.displays[c]));return o.displays=n,o.id=null,o.uid=Object(a["a"])(),o}}},s={install:function(e){e.config.globalProperties.fieldComponent=function(e){return"undefined"!=typeof window.CraftThemes.fieldComponents[e]?"field-"+e:"field"}}},d=Craft.HandleGenerator.extend({callback:null,updateTarget:function(){if(this.$target.is(":visible")){var e=this.$source.val();if("undefined"!==typeof e){var t=this.generateTargetValue(e);this.$target.val(t),this.$target.trigger("change"),this.$target.trigger("input"),this.$target.is(":focus")&&Craft.selectFullValue(this.$target),this.callback&&this.callback(t)}}}}),u=Craft.BaseElementSelectInput.extend({theme:null,actionUrl:null,createElementCallback:null,initialIds:[],errors:{},init:function(e){var t=this;this.base(e),this.initialIds.length&&Craft.postActionRequest(this.actionUrl,{theme:this.theme,id:this.initialIds},(function(e){var o,a=[],i=Object(n["a"])(e);try{for(i.s();!(o=i.n()).done;){var c=o.value;a.push(t.createElementCallback(c))}}catch(l){i.e(l)}finally{i.f()}t.selectElements2(a),t.updateErrors()}))},setSettings:function(){this.base.apply(this,arguments),this.theme=arguments[0].theme,this.actionUrl=arguments[0].actionUrl,this.createElementCallback=arguments[0].createElementCallback,this.initialIds=arguments[0].initialIds,this.errors=arguments[0].errors},createNewElement:function(e){var t=this,o=this.base(e),n=$('<div class="row" style="margin-bottom:5px;display:flex;justify-content:space-between;align-items:center">');return n.append(o),e.viewModes?this.appendViewModes(n,e.viewModes,e.viewMode):this.fetchViewModes(e.id).done((function(o){var a;t.appendViewModes(n,o[0].viewModes,null!==(a=e.viewMode)&&void 0!==a?a:o[0].viewModes[0].uid),t.trigger("viewModesChanged")})),n},updateErrors:function(){for(var e in this.$container.find(".element-error").remove(),this.errors){var t=this.$elements.find(".element[data-id="+e+"]").parent(),o=$('<div class="error element-error">'+this.errors[e]+"</div>");t.find(".select-wrapper").append(o)}},selectElements2:function(e){for(var t=0;t<e.length;t++){var o=e[t],n=this.createNewElement(o);this.appendElement(n),this.addElements(n),o.$element=n}this.onSelectElements(e)},fetchViewModes:function(e){var t={theme:this.theme,id:e};return Craft.postActionRequest(this.actionUrl,t)},appendViewModes:function(e,t,o){var n=this,a=$('<div class="select-wrapper"><div class="select"><select><option value="">'+Craft.t("themes","Select a view mode")+"</select></select></div></div>");t.forEach((function(e){a.find("select").append('<option value="'+e.uid+'"'+(e.uid==o?" selected":"")+">"+e.name+"</options>")})),a.find("select").on("change",(function(){n.trigger("viewModesChanged")})),e.append(a)},getSelectedElementIds:function(){for(var e=[],t=0;t<this.$elements.length;t++)e.push(this.$elements.eq(t).find(".element").data("id"));return e},getSelectedElementData:function(){for(var e=[],t=0;t<this.$elements.length;t++){var o=this.$elements.eq(t);e.push({id:o.find(".element").data("id"),viewMode:o.find("select").val()})}return e},removeElements:function(e){if(this.settings.selectable&&this.elementSelect.removeItems(e),this.modal){for(var t=[],o=0;o<e.length;o++){var n=e.find(".element").eq(o).data("id");n&&t.push(n)}t.length&&this.modal.elementIndex.enableElementsById(t)}e.children("input").prop("disabled",!0),this.$elements=this.$elements.not(e),this.updateAddElementsBtn(),this.onRemoveElements()},removeElement:function(e){this.removeElements(e.parent()),this.animateElementAway(e.parent(),(function(){e.parent().remove()}))},initElementSort:function(){var e=this;this.base(),this.elementSort.settings.ignoreHandleSelector=".delete, .select",this.elementSort.settings.onSortChange=function(){e.trigger("orderChanged")}}})},b331:function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,"input[disabled][data-v-5777ec6a]{background:hsla(0,0%,90.2%,.7)}.modal[data-v-5777ec6a]{padding-bottom:62px;max-height:307px!important;max-width:300px!important;min-height:unset!important;min-width:unset!important}.modal .body[data-v-5777ec6a]{height:calc(100% - 65px)}",""]),e.exports=t},b7b8:function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,".btn[disabled][data-v-6ec8c331]{opacity:.5}",""]),e.exports=t},bc35:function(e,t,o){"use strict";o("a5b6")},c6cd9:function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,".block[data-v-667d1f16]{padding:8px 14px;border-bottom:solid #cdd8e4;border-width:1px 0;transition:all .3s;background-color:#e4edf6;opacity:.5;min-height:34px;display:flex;align-items:center;cursor:-webkit-grab;cursor:grab}.block .copytextbtn[data-v-667d1f16]:hover{margin-left:0;margin-right:-16px}.block .copytextbtn[data-v-667d1f16]{margin:3px 0}.block .name[data-v-667d1f16]{margin:3px 0;margin-right:5px}.block .actions[data-v-667d1f16]{display:flex;margin-left:auto}.block .actions>div[data-v-667d1f16]{margin-bottom:2px}.block .inner[data-v-667d1f16]{width:100%;display:flex;flex-wrap:wrap;align-items:center;overflow:hidden}.block.original[data-v-667d1f16]{opacity:1}.block.original .description[data-v-667d1f16]{flex-direction:column;margin-right:5px}.block.original .name[data-v-667d1f16]{margin:0}.block.active[data-v-667d1f16]{opacity:1}.block[data-v-667d1f16]:last-child{border-bottom:none}.block .small[data-v-667d1f16]{font-size:12px}.block .description[data-v-667d1f16]{flex:1;display:flex;flex-wrap:wrap}.block .delete[data-v-667d1f16],.block .settings[data-v-667d1f16]{padding:0 2px;cursor:pointer;font-size:16px}",""]),e.exports=t},d9c5:function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,".region[data-v-ee9951e4]{margin-bottom:10px}.region-title[data-v-ee9951e4]{font-weight:700;font-size:16px;margin-right:10px}.region-blocks[data-v-ee9951e4]{min-height:50px;margin-top:5px;box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);border-radius:3px}.region-blocks.drop-active[data-v-ee9951e4]{padding-bottom:58px}.region-heading[data-v-ee9951e4]{display:flex;align-items:center}.region-heading .copytextbtn[data-v-ee9951e4]:hover{margin-left:0;margin-right:-16px}",""]),e.exports=t},e48f:function(e,t,o){"use strict";o("99b2")},e94f:function(e,t,o){"use strict";o("21df")},fef1:function(e,t,o){"use strict";o("6664")},ffd8:function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,'.blocks[data-v-13ca2c22]{position:relative;display:flex;border-radius:3px;background-color:#f3f7fc;overflow:hidden;border:1px solid rgba(96,125,159,.25);box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2)}.blocks .spinner-wrapper[data-v-13ca2c22]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1000}.blocks .spinner-wrapper .spinner[data-v-13ca2c22]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.blocks .block-sidebar[data-v-13ca2c22],.blocks .options[data-v-13ca2c22],.blocks .regions[data-v-13ca2c22]{box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2)}.blocks[data-v-13ca2c22]:after{position:absolute;display:block;top:0;left:0;width:100%;height:100%;content:"";box-shadow:inset 0 1px 3px -1px #acbed2;pointer-events:none}.blocks .regions[data-v-13ca2c22]{width:60%;flex-grow:1;background:#fff}.blocks .regions *[data-v-13ca2c22]{box-sizing:border-box}.blocks .region-list[data-v-13ca2c22]{padding:15px 15px 5px;display:flex;flex-wrap:wrap;justify-content:space-between}.blocks .blocks-sidebar[data-v-13ca2c22],.blocks .options[data-v-13ca2c22],.blocks .regions[data-v-13ca2c22]{min-height:calc(100vh - 320px);overflow-y:auto}.blocks .blocks-sidebar[data-v-13ca2c22]{width:30%;max-width:300px}.blocks h5.sub-heading[data-v-13ca2c22]{padding:7px 15px;margin:0;position:relative;cursor:pointer}.blocks .heading[data-v-13ca2c22],.blocks h5.sub-heading[data-v-13ca2c22]{border-bottom:1px solid rgba(96,125,159,.25)}.blocks .heading[data-v-13ca2c22]{padding:7px 14px 6px;background-color:#f3f7fc;background-image:linear-gradient(rgba(51,64,77,0),rgba(51,64,77,.05))}.blocks h5.slide[data-v-13ca2c22]{position:relative}.blocks h5.slide[data-v-13ca2c22]:before{position:absolute;right:10px}',""]),e.exports=t}});