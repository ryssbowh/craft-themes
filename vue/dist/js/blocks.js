(function(){var e={5303:function(e,t,o){"use strict";o.r(t);var a=o(8081),n=o.n(a),i=o(3645),l=o.n(i),r=l()(n());r.push([e.id,".block[data-v-51e0c2c4]{padding:8px 14px;border-bottom:solid #cdd8e4;border-width:1px 0;-webkit-transition:all .3s;transition:all .3s;background-color:#e4edf6;opacity:.5;min-height:34px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:-webkit-grab;cursor:grab}.block .copytextbtn[data-v-51e0c2c4]:hover{margin-left:0;margin-right:-16px}.block .copytextbtn[data-v-51e0c2c4]{margin:3px 0}.block .name[data-v-51e0c2c4]{margin:3px 0;margin-right:5px}.block .actions[data-v-51e0c2c4]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:auto}.block .actions>div[data-v-51e0c2c4]{margin-bottom:2px}.block .inner[data-v-51e0c2c4]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden}.block.original[data-v-51e0c2c4]{opacity:1}.block.original .description[data-v-51e0c2c4]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-right:5px}.block.original .name[data-v-51e0c2c4]{margin:0}.block.active[data-v-51e0c2c4]{opacity:1}.block[data-v-51e0c2c4]:last-child{border-bottom:none}.block .small[data-v-51e0c2c4]{font-size:12px}.block .description[data-v-51e0c2c4]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.block .delete[data-v-51e0c2c4],.block .settings[data-v-51e0c2c4]{padding:0 2px;cursor:pointer;font-size:16px}.block .icon[data-v-51e0c2c4]:before{margin-top:-2px}",""]),t["default"]=r},1654:function(e,t,o){"use strict";o.r(t);var a=o(8081),n=o.n(a),i=o(3645),l=o.n(i),r=l()(n());r.push([e.id,"#toolbar{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:end}",""]),t["default"]=r},4799:function(e,t,o){"use strict";o.r(t);var a=o(8081),n=o.n(a),i=o(3645),l=o.n(i),r=l()(n());r.push([e.id,'.blocks[data-v-94cbf7aa]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;border-radius:3px;background-color:#f3f7fc;overflow:hidden;border:1px solid rgba(96,125,159,.25);-webkit-box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2)}.blocks .spinner-wrapper[data-v-94cbf7aa]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1000}.blocks .spinner-wrapper .spinner[data-v-94cbf7aa]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.blocks .block-sidebar[data-v-94cbf7aa],.blocks .options[data-v-94cbf7aa],.blocks .regions[data-v-94cbf7aa]{-webkit-box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2)}.blocks[data-v-94cbf7aa]:after{position:absolute;display:block;top:0;left:0;width:100%;height:100%;content:"";-webkit-box-shadow:inset 0 1px 3px -1px #acbed2;box-shadow:inset 0 1px 3px -1px #acbed2;pointer-events:none}.blocks .regions[data-v-94cbf7aa]{width:60%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;background:#fff}.blocks .regions *[data-v-94cbf7aa]{-webkit-box-sizing:border-box;box-sizing:border-box}.blocks .region-list[data-v-94cbf7aa]{padding:15px 15px 5px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.blocks .blocks-sidebar[data-v-94cbf7aa],.blocks .options[data-v-94cbf7aa],.blocks .regions[data-v-94cbf7aa]{min-height:calc(100vh - 320px);overflow-y:auto}.blocks .blocks-sidebar[data-v-94cbf7aa]{width:30%;max-width:300px}.blocks h5.sub-heading[data-v-94cbf7aa]{padding:7px 15px;margin:0;position:relative;cursor:pointer}.blocks .heading[data-v-94cbf7aa],.blocks h5.sub-heading[data-v-94cbf7aa]{border-bottom:1px solid rgba(96,125,159,.25)}.blocks .heading[data-v-94cbf7aa]{padding:7px 14px 6px;background-color:#f3f7fc;background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(51,64,77,0)),to(rgba(51,64,77,.05)));background-image:linear-gradient(rgba(51,64,77,0),rgba(51,64,77,.05))}.blocks h5.slide[data-v-94cbf7aa]{position:relative}.blocks h5.slide[data-v-94cbf7aa]:before{position:absolute;right:10px}',""]),t["default"]=r},5408:function(e,t,o){"use strict";o.r(t);var a=o(8081),n=o.n(a),i=o(3645),l=o.n(i),r=l()(n());r.push([e.id,".heading[data-v-70376e3d]{margin:0 24px 14px 24px}",""]),t["default"]=r},5481:function(e,t,o){"use strict";o.r(t);var a=o(8081),n=o.n(a),i=o(3645),l=o.n(i),r=l()(n());r.push([e.id,".btn[disabled][data-v-4b0f83d2]{opacity:.5}",""]),t["default"]=r},5382:function(e,t,o){"use strict";o.r(t);var a=o(8081),n=o.n(a),i=o(3645),l=o.n(i),r=l()(n());r.push([e.id,"input[disabled][data-v-93b24d3a]{background:hsla(0,0%,90%,.7)}.modal[data-v-93b24d3a]{padding-bottom:62px;max-height:307px!important;max-width:300px!important;min-height:unset!important;min-width:unset!important}.modal .body[data-v-93b24d3a]{height:calc(100% - 65px)}",""]),t["default"]=r},5247:function(e,t,o){"use strict";o.r(t);var a=o(8081),n=o.n(a),i=o(3645),l=o.n(i),r=l()(n());r.push([e.id,".region[data-v-34c00527]{margin-bottom:10px}.region-title[data-v-34c00527]{font-weight:700;font-size:16px;margin-right:10px}.region-blocks[data-v-34c00527]{min-height:42px;margin-top:5px;-webkit-box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);box-shadow:0 0 0 1px rgba(31,41,51,.1),0 2px 5px -2px rgba(31,41,51,.2);border-radius:3px}.region-blocks.drop-active[data-v-34c00527]{padding-bottom:58px}.region-heading[data-v-34c00527]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.region-heading .copytextbtn[data-v-34c00527]:hover{margin-left:0;margin-right:-16px}",""]),t["default"]=r},7309:function(e,t,o){"use strict";o.r(t);var a=o(894);t["default"]={props:{block:{type:Object,default:null},original:Boolean},emits:["remove"],computed:{fullName:function(){return this.block.provider+"-"+this.block.handle},hasErrors:function(){return Object.keys(this.block.errors).length>0},...(0,a.mapState)(["blocks","blockOptionId","showFieldHandles"])},mounted(){Craft.initUiElements(this.$el)},methods:{copyValue:function(e){let t=e.target;t.select(),document.execCommand("copy"),Craft.cp.displayNotice(this.t("Copied to clipboard.","app")),t.setSelectionRange(0,0)},...(0,a.mapMutations)(["updateBlock","setShowOptionsModal"])}}},9802:function(e,t,o){"use strict";o.r(t);var a=o(894),n=o(1982),i=o(5134),l=o(3927),r=o(9980),s=o.n(r),c=o(6486);t["default"]={components:{Region:l["default"],Block:n["default"],OptionsModal:i["default"],Draggable:s()},data:function(){return{slideStates:{}}},computed:{isLoading:function(){return(0,c.reduce)(this.isFetching,(function(e,t){return e||t}),this.isSaving)},...(0,a.mapState)(["blocks","regions","isFetching","isSaving","blockOptionId","providers","layouts"])},watch:{providers:{deep:!0,handler(e){let t=!0;for(let o in e)this.slideStates[o]=t,t=!1}}},created:function(){this.fetchProviders()},methods:{...(0,a.mapActions)(["checkChanges","fetchProviders"])}}},3866:function(e,t,o){"use strict";o.r(t);var a=o(894);t["default"]={props:{initialTheme:{type:String,default:null},initialLayout:{type:Number,default:null},themes:{type:Object,default:null},availableLayouts:{type:Object,default:null},allLayouts:{type:Object,default:null},allStrategies:{type:Object,default:null},showFieldHandles:{type:Number,default:null}},computed:{...(0,a.mapState)(["layouts","layout","theme"])},created(){if(this.setShowFieldHandles(this.showFieldHandles),this.setCacheStrategies(this.allStrategies),this.setThemes(this.themes),this.setAllLayouts(this.allLayouts),this.initialTheme&&this.setTheme(this.initialTheme),this.initialLayout){let e=this.getLayout(this.initialLayout);e.hasBlocks?this.setLayoutAndFetch(this.initialLayout):(e=this.getDefaultLayout(),this.setLayoutAndFetch(e.id))}window.addEventListener("popstate",(()=>{const e=document.location.pathname.split("/");let t=e.findIndex((e=>"blocks"==e));-1!==t&&this.setTheme(e[t+1]),"undefined"!=typeof e[t+2]?this.setLayoutAndFetch(e[t+2]):(layout=this.getDefaultLayout(),this.setLayoutAndFetch(layout.id))}))},methods:{getLayout:function(e){for(let t in this.layouts)if(this.layouts[t].id==e)return this.layouts[t]},getDefaultLayout:function(){for(let e in this.layouts)if("default"==this.layouts[e].type)return this.layouts[e]},checkAndSetTheme:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.setThemeAndFetch(e)},...(0,a.mapMutations)(["setThemes","setAllLayouts","setAvailableLayouts","setTheme","setCacheStrategies","setShowFieldHandles"]),...(0,a.mapActions)(["setLayoutAndFetch","setThemeAndFetch"])}}},1523:function(e,t,o){"use strict";o.r(t);var a=o(894);t["default"]={computed:{layoutsWithBlocks:function(){return this.layouts.filter((e=>e.hasBlocks))},...(0,a.mapState)(["layout","layouts"])},watch:{layout:function(){$("#selected-sidebar-item-label").html(this.layout.description)}},created(){this.$nextTick((()=>{Craft.cp.addListener($("#sidebar-toggle"),"click","toggleSidebar"),this.layout&&$("#selected-sidebar-item-label").html(this.layout.description)}))},methods:{confirmAndChangeLayout:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.setLayoutAndFetch(e)},...(0,a.mapMutations)([]),...(0,a.mapActions)(["setLayoutAndFetch"])}}},7161:function(e,t,o){"use strict";o.r(t);var a=o(894),n=o(6486);t["default"]={computed:{isLoading:function(){return(0,n.reduce)(this.isFetching,(function(e,t){return e||t}),!1)},canCopy:function(){return!this.isSaving&&!this.isLoading&&this.layout.id},layoutsWithoutBlocks:function(){return this.layouts.filter((e=>!e.hasBlocks))},canSave:function(){return!this.isSaving&&!this.isLoading},...(0,a.mapState)(["isSaving","isFetching","availableLayouts","layouts","isCopying","layout"])},methods:{checkAndCopy:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.copy(e)},copy(e){this.copyLayout(e),Craft.cp.displayNotice(this.t("Blocks are copied, make your changes and save"))},checkAndDelete(){confirm(this.t("Are you sure you want to delete this layout ?"))&&this.deleteLayout()},...(0,a.mapMutations)(["setShowLayoutModal"]),...(0,a.mapActions)(["save","copyLayout","deleteLayout"])}}},1248:function(e,t,o){"use strict";o.r(t);var a=o(894),n=o(6486),i=o(8422),l=o(4914);t["default"]={data(){return{modal:null,name:"",handle:"",nameError:!1,handleError:!1,handleGenerator:null}},computed:{editedLayout:function(){for(let e in this.layouts)if(this.layouts[e].uid==this.editedLayoutUid)return this.layouts[e];return null},customLayouts:function(){return(0,n.filter)(this.layouts,(e=>"custom"==e.type))},hasError:function(){return this.handleError||this.nameError},...(0,a.mapState)(["layouts","showLayoutModal","editedLayoutUid","theme"])},watch:{showLayoutModal:function(){this.showLayoutModal?this.modal.show():this.modal.hide(),this.updategenerator(),this.editedLayoutUid&&(this.name=this.editedLayout.name,this.handle=this.editedLayout.elementUid)}},mounted(){this.createModal()},beforeUnmount(){this.modal.destroy()},methods:{createModal:function(){this.modal=new Garnish.Modal(this.$refs.modal,{hideOnEsc:!1,hideOnShadeClick:!1,autoShow:!1}),this.handleGenerator=new l.HandleGenerator(".modal-layout #name",".modal-layout #handle"),this.handleGenerator.callback=e=>{this.handle=e},this.updategenerator()},updategenerator:function(){null===this.editedLayoutUid?this.handleGenerator.startListening():this.handleGenerator.stopListening()},removeErrors(){this.nameError=!1,this.handleError=!1},closeModal(){this.setShowLayoutModal({show:!1}),this.name="",this.handle="",this.removeErrors()},validateModal:function(){this.removeErrors(),this.name.trim()||(this.nameError=this.t("Name is required")),this.handle.trim()||(this.handleError=this.t("Handle is required"));for(let e in this.customLayouts)this.customLayouts[e].uid!=this.editedLayoutUid&&this.customLayouts[e].elementUid==this.handle.trim()&&(this.handleError=this.t("This handle is already defined"))},save(){this.validateModal(),this.hasError||(null!==this.editedLayoutUid?this.updateCustomLayout({name:this.name,elementUid:this.handle}):(this.createLayout({id:null,type:"custom",themeHandle:this.theme,uid:(0,i.v4)(),name:this.name,elementUid:this.handle,hasBlocks:!0,description:this.t("Custom : {name}",{name:this.name})}),Craft.cp.displayNotice(this.t("Custom layout is created, make your changes and save"))),this.closeModal())},...(0,a.mapMutations)(["setShowLayoutModal","updateCustomLayout"]),...(0,a.mapActions)(["createLayout"])}}},392:function(e,t,o){"use strict";o.r(t);var a=o(894),n=o(6486);t["default"]={data(){return{modal:null,options:{},errors:{},active:null,cacheStrategy:null}},computed:{machineName:function(){return this.editedBlock.provider+"_"+this.editedBlock.handle},isContentBlock:function(){return"system_content"==this.machineName},strategyDescription:function(){let e=this.getStrategy(this.cacheStrategy.handle);return e?e.description:""},strategyFieldsDefinitions:function(){let e=this.getStrategy(this.cacheStrategy.handle);return e?e.options.definitions:""},...(0,a.mapState)(["cacheStrategies","showOptionsModal","editedBlock"])},watch:{showOptionsModal:function(){this.showOptionsModal?(this.options=(0,n.merge)({},this.editedBlock.options),this.active=this.editedBlock.active,this.errors=this.editedBlock.errors,this.cacheStrategy=this.editedBlock.cacheStrategy,this.modal.show()):this.modal.hide()}},beforeUnmount(){this.modal.destroy()},mounted(){this.createModal()},methods:{formFieldComponent(e){return"formfield-"+e},getStrategy(e){return this.cacheStrategies[e]??null},createModal(){this.modal=new Garnish.Modal(this.$refs.modal,{hideOnEsc:!1,hideOnShadeClick:!1,autoShow:!1})},closeModal(){this.options={},this.errors={},this.active=null,this.setShowOptionsModal({show:!1})},updateStrategyOption(e,t){this.cacheStrategy.options[e]=t},updateOption(e,t){this.options[e]=t},updateCacheStrategy(e){e?(this.cacheStrategy.handle=e,this.cacheStrategy.options=this.getStrategy(e).options.defaultValues):(this.cacheStrategy.handle="",this.cacheStrategy.options={})},getCacheStrategyErrors(e){return this.errors.cacheStrategy?this.errors.cacheStrategy[e]??[]:[]},getOptionErrors(e){return this.errors.options?this.errors.options[e]??[]:[]},save(){let e={blockHandle:this.editedBlock.handle,provider:this.editedBlock.provider,options:this.options,cacheStrategy:this.cacheStrategy};axios({method:"post",url:Craft.getActionUrl("themes/cp-blocks-ajax/validate-block-options"),data:e,headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((e=>{Object.keys(e.data.errors).length>0?this.errors=e.data.errors:(this.editedBlock.active=this.active,this.editedBlock.options=this.options,this.editedBlock.cacheStrategy=this.cacheStrategy,this.updateBlock(this.editedBlock),this.closeModal())})).catch((e=>{this.handleError(e)}))},...(0,a.mapMutations)(["updateBlock","setShowOptionsModal"]),...(0,a.mapActions)([])}}},2129:function(e,t,o){"use strict";o.r(t);var a=o(894),n=o(6486),i=o(1982),l=o(9980),r=o.n(l);t["default"]={components:{Block:i["default"],Draggable:r()},props:{region:{type:Object,default:null}},computed:{regionBlocks(){return(0,n.sortBy)((0,n.filter)(this.blocks,(e=>this.region.handle==e.region)),"order")},...(0,a.mapState)(["blocks","showFieldHandles"])},methods:{changed:function(e){let t,o,a;e.added?(t=e.added.newIndex,o={...e.added.element},o.region=this.region.handle,o.order=t,void 0===o.index?(o.active=!0,this.addBlock(o)):this.updateBlock(o),a=[...this.regionBlocks]):e.moved?(t=e.moved.newIndex,o=e.moved.element,a=[...this.regionBlocks]):a=(0,n.filter)(this.regionBlocks,(t=>t.index!==e.removed.element.index));let i=0;for(let n in a){let e=a[n];n!==t&&(e.order=i),i++,this.updateBlock(e)}o&&(o.order=t,this.updateBlock(o))},copyValue:function(e){let t=e.target;t.select(),document.execCommand("copy"),Craft.cp.displayNotice(this.t("Copied to clipboard.","app")),t.setSelectionRange(0,0)},...(0,a.mapMutations)(["addBlock","removeBlock","updateBlock"]),...(0,a.mapActions)([])}}},2661:function(e,t,o){"use strict";o.r(t),o.d(t,{render:function(){return f}});var a=o(8253);const n=e=>((0,a.pushScopeId)("data-v-51e0c2c4"),e=e(),(0,a.popScopeId)(),e),i={class:"inner"},l={class:"description"},r={class:"name"},s={key:0,class:"error","data-icon":"alert","aria-label":"Error"},c={key:0,class:"small"},d=["value","size"],u=n((()=>(0,a.createElementVNode)("span",{"data-icon":"clipboard","aria-hidden":"true"},null,-1))),h={key:0,class:"info"},p={class:"actions"};function f(e,t,o,n,f,m){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)({block:!0,original:o.original,active:o.block.active&&!o.original})},[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",r,[(0,a.createTextVNode)((0,a.toDisplayString)(o.block.name)+" ",1),m.hasErrors?((0,a.openBlock)(),(0,a.createElementBlock)("span",s)):(0,a.createCommentVNode)("",!0)]),o.original?((0,a.openBlock)(),(0,a.createElementBlock)("div",c,(0,a.toDisplayString)(o.block.smallDescription),1)):(0,a.createCommentVNode)("",!0),!o.original&&e.showFieldHandles?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"code small light copytextbtn",title:"Copy to clipboard",role:"button",onClick:t[0]||(t[0]=(...e)=>m.copyValue&&m.copyValue(...e))},[(0,a.createElementVNode)("input",{type:"text",value:m.fullName,readonly:"",size:m.fullName.length},null,8,d),u])):(0,a.createCommentVNode)("",!0)]),o.original&&o.block.longDescription?((0,a.openBlock)(),(0,a.createElementBlock)("span",h,(0,a.toDisplayString)(o.block.longDescription),1)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",p,[o.original?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("a",{key:0,class:(0,a.normalizeClass)({settings:!0,icon:!0,active:e.blockOptionId==o.block.index,error:m.hasErrors}),onClick:t[1]||(t[1]=(0,a.withModifiers)((t=>e.setShowOptionsModal({show:!0,block:o.block})),["prevent"]))},null,2)),o.original?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("a",{key:1,class:"delete icon",onClick:t[2]||(t[2]=(0,a.withModifiers)((t=>e.$emit("remove",o.block)),["prevent"]))}))])])],2)}},6322:function(e,t,o){"use strict";o.r(t),o.d(t,{render:function(){return y}});var a=o(8253);const n=e=>((0,a.pushScopeId)("data-v-94cbf7aa"),e=e(),(0,a.popScopeId)(),e),i={class:"blocks"},l={key:0,class:"spinner-wrapper"},r=n((()=>(0,a.createElementVNode)("div",{class:"spinner"},null,-1))),s=[r],c={class:"blocks-sidebar"},d={class:"heading"},u=["onClick"],h={class:"regions"},p={class:"heading"},f={key:0,class:"region-list"},m={key:0},g={key:1,class:"region-list"};function y(e,t,o,n,r,y){const b=(0,a.resolveComponent)("block"),v=(0,a.resolveComponent)("draggable"),k=(0,a.resolveComponent)("region"),x=(0,a.resolveComponent)("layout-modal"),w=(0,a.resolveComponent)("options-modal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",i,[y.isLoading?((0,a.openBlock)(),(0,a.createElementBlock)("div",l,s)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(e.t("Blocks")),1)]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.providers,(t=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t.handle},[(0,a.createElementVNode)("h5",{class:(0,a.normalizeClass)(["sub-heading slide",{icon:!0,expand:!e.slideStates[t.handle],collapse:e.slideStates[t.handle]}]),onClick:o=>e.slideStates[t.handle]=!e.slideStates[t.handle]},(0,a.toDisplayString)(t.name),11,u),(0,a.createVNode)(a.Transition,{name:"slide"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[e.slideStates[t.handle]?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,"item-key":"vueid",list:t.blocks,group:{name:"blocks",pull:"clone",put:!1},sort:!1,handle:".block"},{item:(0,a.withCtx)((({element:e})=>[(0,a.createVNode)(b,{block:e,original:!0},null,8,["block"])])),_:2},1032,["list"])):(0,a.createCommentVNode)("",!0)])])),_:2},1024)])))),128))]),(0,a.createElementVNode)("div",h,[(0,a.createElementVNode)("div",p,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(e.t("Regions")),1)]),e.layouts.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",f,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.regions,(e=>((0,a.openBlock)(),(0,a.createBlock)(k,{key:e.handle,region:e},null,8,["region"])))),128)),e.regions.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("p",m,(0,a.toDisplayString)(e.t("No regions are defined for this theme")),1))])):(0,a.createCommentVNode)("",!0),e.layouts.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",g,[(0,a.createElementVNode)("p",null,(0,a.toDisplayString)(e.t("No layouts available, you should reinstall the themes data in the settings")),1)]))]),(0,a.createVNode)(x),(0,a.createVNode)(w)])}},5835:function(e,t,o){"use strict";o.r(t),o.d(t,{render:function(){return c}});var a=o(8253);const n={class:"btngroup"},i={key:0,type:"button",class:"btn menubtn","data-icon":"brush"},l={key:1,class:"menu"},r={class:"padded"},s=["onClick"];function c(e,t,o,c,d,u){return(0,a.openBlock)(),(0,a.createElementBlock)("div",n,[e.theme?((0,a.openBlock)(),(0,a.createElementBlock)("button",i,(0,a.toDisplayString)(o.themes[e.theme].name),1)):(0,a.createCommentVNode)("",!0),e.theme?((0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createElementVNode)("ul",r,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.themes,(t=>((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:t.handle},[(0,a.createElementVNode)("a",{class:(0,a.normalizeClass)({sel:e.theme==t.handle}),href:"#",onClick:(0,a.withModifiers)((e=>u.checkAndSetTheme(t.handle)),["prevent"])},(0,a.toDisplayString)(t.name),11,s)])))),128))])])):(0,a.createCommentVNode)("",!0)])}},7111:function(e,t,o){"use strict";o.r(t),o.d(t,{render:function(){return r}});var a=o(8253);const n={id:"notification-nav"},i={class:"heading"},l=["onClick"];function r(e,t,o,r,s,c){return(0,a.openBlock)(),(0,a.createElementBlock)("nav",n,[(0,a.createElementVNode)("ul",null,[(0,a.createElementVNode)("li",i,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.t("Layouts")),1)]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(c.layoutsWithBlocks,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:o},[(0,a.createElementVNode)("a",{href:"#",class:(0,a.normalizeClass)({sel:e.layout.uid===t.uid}),onClick:(0,a.withModifiers)((e=>c.confirmAndChangeLayout(t.id)),["prevent"])},(0,a.toDisplayString)(t.description),11,l)])))),128))])])}},3331:function(e,t,o){"use strict";o.r(t),o.d(t,{render:function(){return d}});var a=o(8253);const n={key:0,id:"action-buttons",class:"flex"},i={class:"btngroup submit"},l=["disabled"],r={class:"menu","data-align":"right"},s=["onClick"],c=["disabled"];function d(e,t,o,d,u,h){return e.layouts.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createElementVNode)("div",i,[e.isCopying?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,ref:"menu",href:"#",class:"btn submit menubtn",disabled:!h.canCopy,onClick:t[0]||(t[0]=(0,a.withModifiers)((()=>{}),["prevent"]))},(0,a.toDisplayString)(e.t("Copy To")),9,l)),(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("ul",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(h.layoutsWithoutBlocks,((e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:t},[(0,a.createElementVNode)("a",{href:"#",onClick:(0,a.withModifiers)((t=>h.checkAndCopy(e)),["prevent"])},(0,a.toDisplayString)(e.description),9,s)])))),128)),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{href:"#",onClick:t[1]||(t[1]=(0,a.withModifiers)((t=>e.setShowLayoutModal({show:!0})),["prevent"]))},(0,a.toDisplayString)(e.t("Create custom")),1)])])])]),e.isCopying||"default"==e.layout.type?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,href:"#",class:"btn submit",onClick:t[2]||(t[2]=(0,a.withModifiers)(((...e)=>h.checkAndDelete&&h.checkAndDelete(...e)),["prevent"]))},(0,a.toDisplayString)(e.t("Delete",{},"app")),1)),"custom"==e.layout.type&&e.layout.id?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:1,href:"#",class:"btn submit",onClick:t[3]||(t[3]=(0,a.withModifiers)((t=>e.setShowLayoutModal({show:!0,editUid:e.layout.uid})),["prevent"]))},(0,a.toDisplayString)(e.t("Edit",{},"app")),1)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("button",{href:"#",class:"btn submit",disabled:!h.canSave,onClick:t[4]||(t[4]=(0,a.withModifiers)(((...t)=>e.save&&e.save(...t)),["prevent"]))},(0,a.toDisplayString)(e.t("Save",{},"app")),9,c)])):(0,a.createCommentVNode)("",!0)}},4184:function(e,t,o){"use strict";o.r(t),o.d(t,{render:function(){return x}});var a=o(8253);const n={ref:"modal",class:"modal elementselectormodal modal-layout",style:{display:"none"}},i={class:"header"},l={class:"body"},r={class:"content"},s={class:"main"},c={class:"field"},d={class:"heading"},u={class:"required",for:"name"},h={class:"input ltr"},p={key:0,class:"errors"},f={class:"field"},m={class:"heading"},g={class:"required",for:"handle"},y={class:"input ltr"},b={key:0,class:"errors"},v={class:"footer"},k={class:"buttons right"};function x(e,t,o,x,w,C){return(0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(e.editedLayoutUid?e.t("Edit layout"):e.t("Create layout")),1)]),(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("form",s,[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("label",u,(0,a.toDisplayString)(e.t("Name",{},"app")),1)]),(0,a.createElementVNode)("div",h,[(0,a.withDirectives)((0,a.createElementVNode)("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>w.name=e),type:"text",class:(0,a.normalizeClass)({text:!0,fullwidth:!0,error:w.nameError}),maxlength:"255",required:""},null,2),[[a.vModelText,w.name]])]),w.nameError?((0,a.openBlock)(),(0,a.createElementBlock)("ul",p,[(0,a.createElementVNode)("li",null,(0,a.toDisplayString)(w.nameError),1)])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",f,[(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("label",g,(0,a.toDisplayString)(e.t("Handle",{},"app")),1)]),(0,a.createElementVNode)("div",y,[(0,a.withDirectives)((0,a.createElementVNode)("input",{id:"handle","onUpdate:modelValue":t[1]||(t[1]=e=>w.handle=e),type:"text",class:(0,a.normalizeClass)({text:!0,fullwidth:!0,error:w.handleError}),maxlength:"255",required:""},null,2),[[a.vModelText,w.handle]])]),w.handleError?((0,a.openBlock)(),(0,a.createElementBlock)("ul",b,[(0,a.createElementVNode)("li",null,(0,a.toDisplayString)(w.handleError),1)])):(0,a.createCommentVNode)("",!0)])])])]),(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("div",k,[(0,a.createElementVNode)("button",{type:"button",class:"btn",onClick:t[2]||(t[2]=(...e)=>C.closeModal&&C.closeModal(...e))},(0,a.toDisplayString)(e.t("Close",{},"app")),1),(0,a.createElementVNode)("button",{type:"button",class:"btn submit",onClick:t[3]||(t[3]=(...e)=>C.save&&C.save(...e))},(0,a.toDisplayString)(e.t("Save",{},"app")),1)])])],512)}},7786:function(e,t,o){"use strict";o.r(t),o.d(t,{render:function(){return b}});var a=o(8253);const n={ref:"modal",class:"modal elementselectormodal themes-modal-options",style:{display:"none"}},i={key:0,class:"header"},l={key:1,class:"body"},r={key:0},s={class:"field"},c={class:"heading"},d={class:"instructions"},u={class:"input ltr"},h={class:"select"},p={value:""},f=["value"],m={key:0,class:"warning"},g={class:"footer"},y={class:"buttons right"};function b(e,t,o,b,v,k){const x=(0,a.resolveComponent)("formfield-lightswitch");return(0,a.openBlock)(),(0,a.createElementBlock)("div",n,[e.editedBlock?((0,a.openBlock)(),(0,a.createElementBlock)("div",i,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(e.t("Edit block {block} options",{block:e.editedBlock.name})),1)])):(0,a.createCommentVNode)("",!0),e.editedBlock?((0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createVNode)(x,{value:!!v.active,definition:{label:e.t("Active",{},"app")},name:"active",onChange:t[0]||(t[0]=e=>v.active=e)},null,8,["value","definition"]),e.editedBlock.canBeCached||k.isContentBlock?((0,a.openBlock)(),(0,a.createElementBlock)("div",r,[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("label",null,(0,a.toDisplayString)(e.t("Caching")),1)]),(0,a.createElementVNode)("div",d,(0,a.toDisplayString)(k.strategyDescription),1),(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",h,[(0,a.withDirectives)((0,a.createElementVNode)("select",{id:"type","onUpdate:modelValue":t[1]||(t[1]=e=>v.cacheStrategy.handle=e),onChange:t[2]||(t[2]=e=>k.updateCacheStrategy(e.target.value))},[(0,a.createElementVNode)("option",p,(0,a.toDisplayString)(e.t("No cache")),1),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.cacheStrategies,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e.handle,value:e.handle},(0,a.toDisplayString)(e.name),9,f)))),128))],544),[[a.vModelSelect,v.cacheStrategy.handle]])])]),k.isContentBlock&&"global"==v.cacheStrategy.handle?((0,a.openBlock)(),(0,a.createElementBlock)("div",m,(0,a.toDisplayString)(e.t("This is really not recommended, all your pages will display the same content")),1)):(0,a.createCommentVNode)("",!0)]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(k.strategyFieldsDefinitions,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(k.formFieldComponent(e.field)),{key:t,name:t,definition:e,value:v.cacheStrategy.options[t]??null,errors:k.getCacheStrategyErrors(t),onChange:e=>k.updateStrategyOption(t,e)},null,8,["name","definition","value","errors","onChange"])))),128))])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.editedBlock.optionsDefinitions,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(k.formFieldComponent(e.field)),{key:t,name:t,definition:e,value:v.options[t]??null,errors:k.getOptionErrors(t),onChange:e=>k.updateOption(t,e)},null,8,["name","definition","value","errors","onChange"])))),128))])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",g,[(0,a.createElementVNode)("div",y,[(0,a.createElementVNode)("button",{type:"button",class:"btn",onClick:t[3]||(t[3]=(...e)=>k.closeModal&&k.closeModal(...e))},(0,a.toDisplayString)(e.t("Close",{},"app")),1),(0,a.createElementVNode)("button",{type:"button",class:"btn submit",onClick:t[4]||(t[4]=(0,a.withModifiers)(((...e)=>k.save&&k.save(...e)),["prevent"]))},(0,a.toDisplayString)(e.t("Save",{},"app")),1)])])],512)}},7729:function(e,t,o){"use strict";o.r(t),o.d(t,{render:function(){return c}});var a=o(8253);const n=e=>((0,a.pushScopeId)("data-v-34c00527"),e=e(),(0,a.popScopeId)(),e),i={class:"region-heading"},l={class:"region-title"},r=["value","size"],s=n((()=>(0,a.createElementVNode)("span",{"data-icon":"clipboard","aria-hidden":"true"},null,-1)));function c(e,t,o,n,c,d){const u=(0,a.resolveComponent)("block"),h=(0,a.resolveComponent)("draggable");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"region",style:(0,a.normalizeStyle)("width:"+(o.region.width?o.region.width:"100%"))},[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("h5",l,(0,a.toDisplayString)(o.region.name),1),e.showFieldHandles?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,class:"code small light copytextbtn",title:"Copy to clipboard",role:"button",onClick:t[0]||(t[0]=(...e)=>d.copyValue&&d.copyValue(...e))},[(0,a.createElementVNode)("input",{type:"text",value:o.region.handle,readonly:"",size:o.region.handle.length},null,8,r),s])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(h,{"item-key":"index",class:"region-blocks",list:d.regionBlocks,group:"blocks",onChange:d.changed},{item:(0,a.withCtx)((({element:t})=>[(0,a.createVNode)(u,{block:t,original:!1,onRemove:e.removeBlock},null,8,["block","onRemove"])])),_:1},8,["list","onChange"])],4)}},4914:function(e,t,o){"use strict";o.r(t),o.d(t,{Clone:function(){return r},FieldComponent:function(){return s},HandleError:function(){return l},HandleGenerator:function(){return c},SelectInput:function(){return d},Translate:function(){return i}});var a=o(8422),n=o(6486);const i={install(e){e.config.globalProperties.t=(e,t,o="themes")=>window.Craft.t(o,e,t)}},l={install(e){e.config.globalProperties.handleError=e=>{let t=e;e.response&&(e.response.data.message?t=e.response.data.message:e.response.data.error&&(t=e.response.data.error)),Craft.cp.displayError(t)}}},r={install(e){e.config.globalProperties.cloneDisplay=t=>{let o,i=(0,n.merge)({},t);return o="group"==t.type?e.config.globalProperties.cloneGroup(t.item):e.config.globalProperties.cloneField(t.item),i.item=o,i.id=null,i.uid=(0,a.v4)(),i},e.config.globalProperties.cloneField=t=>{let o;return o="undefined"!=typeof window.CraftThemes.fieldComponents[t.type]?window.CraftThemes.fieldComponents[t.type].clone(t,e):(0,n.merge)({},t),o.id=null,o.uid=(0,a.v4)(),o},e.config.globalProperties.cloneGroup=t=>{let o=(0,n.merge)({},t),i=[];for(let a in t.displays)i.push(e.config.globalProperties.cloneDisplay(t.displays[a]));return o.displays=i,o.id=null,o.uid=(0,a.v4)(),o}}},s={install(e){e.config.globalProperties.fieldComponent=e=>"undefined"!=typeof window.CraftThemes.fieldComponents[e]?"field-"+e:"field"}},c=Craft.HandleGenerator.extend({callback:null,updateTarget:function(){if(this.$target.is(":visible")){var e=this.$source.val();if("undefined"!==typeof e){var t=this.generateTargetValue(e);this.$target.val(t),this.$target.trigger("change"),this.$target.trigger("input"),this.$target.is(":focus")&&Craft.selectFullValue(this.$target),this.callback&&this.callback(t)}}}}),d=Craft.BaseElementSelectInput.extend({theme:null,actionUrl:null,createElementCallback:null,initialIds:[],errors:{},init(e){this.base(e),this.$elementsContainer.html(""),this.initialIds.length&&Craft.postActionRequest(this.actionUrl,{theme:this.theme,id:this.initialIds},(e=>{let t=[];for(let o of e)t.push(this.createElementCallback(o));this.selectElements2(t),this.updateErrors()}))},setSettings:function(){this.base.apply(this,arguments),this.theme=arguments[0].theme,this.actionUrl=arguments[0].actionUrl,this.createElementCallback=arguments[0].createElementCallback,this.initialIds=arguments[0].initialIds,this.errors=arguments[0].errors},createNewElement:function(e){let t=this.base(e),o=$('<div class="row" style="margin-bottom:5px;display:flex;justify-content:space-between;align-items:center">');return o.append(t),e.viewModes?this.appendViewModes(o,e.viewModes,e.viewMode):this.fetchViewModes(e.id).done((t=>{this.appendViewModes(o,t[0].viewModes,e.viewMode??t[0].viewModes[0].uid),this.trigger("viewModesChanged")})),o},updateErrors:function(){this.$container.find(".element-error").remove();for(let e in this.errors){let t=this.$elements.find(".element[data-id="+e+"]").parent(),o=$('<div class="error element-error">'+this.errors[e]+"</div>");t.find(".select-wrapper").append(o)}},selectElements2:function(e){let t=[];for(let o=0;o<e.length;o++){let a=e[o];if(t.includes(a.id))continue;t.push(a.id);let n=this.createNewElement(a);this.appendElement(n),this.addElements(n),a.$element=n}this.onSelectElements(e)},fetchViewModes:function(e){let t={theme:this.theme,id:e};return Craft.postActionRequest(this.actionUrl,t)},appendViewModes:function(e,t,o){let a=$('<div class="select-wrapper"><div class="select"><select><option value="">'+Craft.t("themes","Select a view mode")+"</select></select></div></div>");t.forEach((e=>{a.find("select").append('<option value="'+e.uid+'"'+(e.uid==o?" selected":"")+">"+e.name+"</options>")})),a.find("select").on("change",(()=>{this.trigger("viewModesChanged")})),e.append(a)},getSelectedElementIds:function(){for(var e=[],t=0;t<this.getElements().length;t++)e.push(this.$elements.eq(t).find(".element").data("id"));return e},getSelectedElementData:function(){let e=[];for(var t=0;t<this.getElements().length;t++){let o=this.getElements().eq(t);e.push({id:o.find(".element").data("id"),viewMode:o.find("select").val()})}return e},removeElements:function(e){if(this.settings.selectable&&this.elementSelect.removeItems(e),this.modal){for(var t=[],o=0;o<e.length;o++){var a=e.find(".element").eq(o).data("id");a&&t.push(a)}t.length&&this.modal.elementIndex.enableElementsById(t)}e.children("input").prop("disabled",!0),this.$elements=this.$elements.not(e),this.updateAddElementsBtn(),this.onRemoveElements()},removeElement:function(e){this.removeElements(e.parent()),this.animateElementAway(e.parent(),(()=>{e.parent().remove()}))},initElementSort:function(){this.base(),this.elementSort.settings.ignoreHandleSelector=".delete, .select",this.elementSort.settings.onSortChange=()=>{this.trigger("orderChanged")}}})},9438:function(e,t,o){"use strict";o.r(t);var a=o(8253),n=o(4050),i=o(2909),l=o(8946),r=o(6508),s=o(9599),c=o(8873),d=o(4914);const u=(0,a.createApp)({components:{Blocks:s["default"],BlocksContext:i["default"],BlocksToolbar:n["default"],BlocksMenu:l["default"]}});u.use(c.store),u.use(d.Translate),u.use(d.HandleError),u.component("layout-modal",r["default"]);for(let h in window.CraftThemes.formFieldComponents)u.component("formfield-"+h,window.CraftThemes.formFieldComponents[h]);u.mount("#main")},8873:function(e,t,o){"use strict";o.r(t),o.d(t,{store:function(){return s}});var a=o(894),n=o(6486);function i(e){e.response?Craft.cp.displayError(e.response.data.message):Craft.cp.displayError(e)}function l(e,t){let o=document.location.pathname.split("/"),a=o.findIndex((e=>"blocks"==e));-1!==a&&(o[a+1]==e&&o[a+2]==t||(o[a+1]=e,o[a+2]=t,window.history.pushState({},"",o.join("/"))))}function r(e){e=(0,n.cloneDeep)(e);for(let t in e)delete e[t].index,delete e[t].optionsHtml;return e}const s=(0,a.createStore)({state(){return{theme:null,themes:[],providers:{},isSaving:!1,isCopying:!1,isFetching:{},blocks:[],layouts:[],layout:{},allLayouts:{},regions:{},cacheStrategies:{},showLayoutModal:!1,showOptionsModal:!1,editedLayoutUid:null,editedBlock:null,showFieldHandles:!1}},mutations:{setShowFieldHandles(e,t){e.showFieldHandles=t},setShowLayoutModal(e,{show:t,editUid:o=null}){e.showLayoutModal=t,e.editedLayoutUid=o},setShowOptionsModal(e,{show:t,block:o=null}){e.showOptionsModal=t,e.editedBlock=o},setProviders(e,t){e.providers=t},setThemes(e,t){e.themes=t},setTheme(e,t){e.theme=t,e.regions=e.themes[t].regions,e.layouts=e.allLayouts[t],e.isCopying=!1},setIsSaving(e,t){e.isSaving=t},setIsCopying(e,t){e.isCopying=t},setBlocks(e,t){for(let o in t)t[o].index=o;e.blocks=t},addBlock(e,t){t.index=e.blocks.length,e.blocks.push(t)},updateBlock(e,t){e.blocks=e.blocks.map((e=>e.index===t.index?t:e))},removeBlock(e,t){e.blocks.splice(t.index,1);for(let o in e.blocks)e.blocks[o].index=o},addLayout(e,t){e.layouts.push(t)},deleteLayout(e,t){e.layouts=(0,n.filter)(e.layouts,(e=>e.uid!=t))},updateLayout(e,t){for(let o in e.layouts)if(e.layouts[o].uid==t.uid){e.layouts[o]=t;break}},updateCustomLayout(e,t){e.layout=(0,n.merge)(e.layout,t)},setLayouts(e,t){e.layouts=t},setLayout(e,t){if(e.isCopying=!1,"object"!=typeof t){for(let o in e.layouts)if(e.layouts[o].id==t)return void(e.layout=e.layouts[o])}else e.layout=t},setAllLayouts(e,t){e.allLayouts=t},setIsFetching(e,{key:t,value:o}){e.isFetching[t]=o},setCacheStrategies(e,t){e.cacheStrategies=t}},actions:{save({commit:e,state:t}){e("setIsSaving",!0);let o={blocks:r(t.blocks),layout:t.layout.id,theme:t.theme},a=!1;"custom"==t.layout.type&&(o.custom=t.layout,a=null==t.layout.id),axios({method:"post",url:Craft.getCpUrl("themes/ajax/blocks/save"),data:o,headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((o=>{e(a?"addLayout":"updateLayout",o.data.layout),l(t.theme,o.data.layout.id),e("setBlocks",o.data.blocks),e("setLayout",o.data.layout),Craft.cp.displayNotice(o.data.message)})).catch((t=>{e("setBlocks",t.response.data.blocks),i(t)})).finally((()=>{e("setIsSaving",!1)}))},resetBlocks({commit:e},t){for(let o in t)t[o].id=null,t[o].layout=null,t[o].uid=null,t[o].dateCreated=null,t[o].dateUpdated=null;e("setBlocks",t)},fetchBlocks({state:e,commit:t}){let o={};return o[Craft.csrfTokenName]=Craft.csrfTokenValue,t("setIsFetching",{key:"blocks",value:!0}),axios.post(Craft.getCpUrl("themes/ajax/blocks/"+e.layout.id),o).then((e=>{t("setBlocks",e.data.blocks)})).catch((e=>{i(e)})).finally((()=>{t("setIsFetching",{key:"blocks",value:!1})}))},fetchProviders({commit:e}){let t={};return t[Craft.csrfTokenName]=Craft.csrfTokenValue,e("setIsFetching",{key:"providers",value:!0}),axios.post(Craft.getCpUrl("themes/ajax/block-providers"),t).catch((e=>{i(e)})).then((t=>{e("setProviders",t.data.providers)})).finally((()=>{e("setIsFetching",{key:"providers",value:!1})}))},setLayoutAndFetch({dispatch:e,commit:t,state:o},a){t("setLayout",a),l(o.theme,a),e("fetchBlocks")},setThemeAndFetch({state:e,commit:t,dispatch:o},a){let n;t("setTheme",a);for(let i in e.layouts)if(n=e.layouts[i],"default"==n.type)return t("setLayout",n.id),l(e.theme,n.id),void o("fetchBlocks")},copyLayout({state:e,commit:t,dispatch:o},a){t("setLayout",a),l(e.theme,a.id),t("setIsCopying",!0),o("resetBlocks",e.blocks)},createLayout({state:e,commit:t,dispatch:o},a){t("setLayout",a),t("setIsCopying",!0),o("resetBlocks",e.blocks)},deleteLayout({state:e,commit:t,dispatch:o}){let a={};a[Craft.csrfTokenName]=Craft.csrfTokenValue,t("setIsFetching",{key:"blocks",value:!0});let l="custom"==e.layout.type;return axios.post(Craft.getCpUrl("themes/ajax/layouts/delete/"+e.layout.id),a).then((a=>{Craft.cp.displayNotice(a.data.message),l?t("deleteLayout",e.layout.uid):t("updateLayout",a.data.layout);let i=(0,n.filter)(e.layouts,(e=>"default"==e.type))[0];return o("setLayoutAndFetch",i.id)})).catch((e=>{i(e)}))}}})},1982:function(e,t,o){"use strict";o.r(t);var a=o(660),n=o(3189),i={};for(var l in n)"default"!==l&&(i[l]=function(e){return n[e]}.bind(0,l));o.d(t,i);o(3991);var r=o(3744);const s=(0,r["default"])(n["default"],[["render",a.render],["__scopeId","data-v-51e0c2c4"]]);t["default"]=s},9599:function(e,t,o){"use strict";o.r(t);var a=o(6852),n=o(2268),i={};for(var l in n)"default"!==l&&(i[l]=function(e){return n[e]}.bind(0,l));o.d(t,i);o(8467),o(1305);var r=o(3744);const s=(0,r["default"])(n["default"],[["render",a.render],["__scopeId","data-v-94cbf7aa"]]);t["default"]=s},2909:function(e,t,o){"use strict";o.r(t);var a=o(8425),n=o(3776),i={};for(var l in n)"default"!==l&&(i[l]=function(e){return n[e]}.bind(0,l));o.d(t,i);var r=o(3744);const s=(0,r["default"])(n["default"],[["render",a.render]]);t["default"]=s},8946:function(e,t,o){"use strict";o.r(t);var a=o(513),n=o(9390),i={};for(var l in n)"default"!==l&&(i[l]=function(e){return n[e]}.bind(0,l));o.d(t,i);o(6786);var r=o(3744);const s=(0,r["default"])(n["default"],[["render",a.render],["__scopeId","data-v-70376e3d"]]);t["default"]=s},4050:function(e,t,o){"use strict";o.r(t);var a=o(274),n=o(2612),i={};for(var l in n)"default"!==l&&(i[l]=function(e){return n[e]}.bind(0,l));o.d(t,i);o(7197);var r=o(3744);const s=(0,r["default"])(n["default"],[["render",a.render],["__scopeId","data-v-4b0f83d2"]]);t["default"]=s},6508:function(e,t,o){"use strict";o.r(t);var a=o(608),n=o(2911),i={};for(var l in n)"default"!==l&&(i[l]=function(e){return n[e]}.bind(0,l));o.d(t,i);o(3143);var r=o(3744);const s=(0,r["default"])(n["default"],[["render",a.render],["__scopeId","data-v-93b24d3a"]]);t["default"]=s},5134:function(e,t,o){"use strict";o.r(t);var a=o(2851),n=o(2461),i={};for(var l in n)"default"!==l&&(i[l]=function(e){return n[e]}.bind(0,l));o.d(t,i);var r=o(3744);const s=(0,r["default"])(n["default"],[["render",a.render]]);t["default"]=s},3927:function(e,t,o){"use strict";o.r(t);var a=o(2125),n=o(3356),i={};for(var l in n)"default"!==l&&(i[l]=function(e){return n[e]}.bind(0,l));o.d(t,i);o(5585);var r=o(3744);const s=(0,r["default"])(n["default"],[["render",a.render],["__scopeId","data-v-34c00527"]]);t["default"]=s},3189:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return a["default"]}});var a=o(7309),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},2268:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return a["default"]}});var a=o(9802),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},3776:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return a["default"]}});var a=o(3866),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},9390:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return a["default"]}});var a=o(1523),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},2612:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return a["default"]}});var a=o(7161),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},2911:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return a["default"]}});var a=o(1248),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},2461:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return a["default"]}});var a=o(392),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},3356:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return a["default"]}});var a=o(2129),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},660:function(e,t,o){"use strict";o.r(t);var a=o(2661),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},6852:function(e,t,o){"use strict";o.r(t);var a=o(6322),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},8425:function(e,t,o){"use strict";o.r(t);var a=o(5835),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},513:function(e,t,o){"use strict";o.r(t);var a=o(7111),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},274:function(e,t,o){"use strict";o.r(t);var a=o(3331),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},608:function(e,t,o){"use strict";o.r(t);var a=o(4184),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},2851:function(e,t,o){"use strict";o.r(t);var a=o(7786),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},2125:function(e,t,o){"use strict";o.r(t);var a=o(7729),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},3991:function(e,t,o){"use strict";o.r(t);var a=o(4102),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},8467:function(e,t,o){"use strict";o.r(t);var a=o(5395),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},1305:function(e,t,o){"use strict";o.r(t);var a=o(2947),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},6786:function(e,t,o){"use strict";o.r(t);var a=o(505),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},7197:function(e,t,o){"use strict";o.r(t);var a=o(9074),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},3143:function(e,t,o){"use strict";o.r(t);var a=o(4145),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},5585:function(e,t,o){"use strict";o.r(t);var a=o(7478),n={};for(var i in a)"default"!==i&&(n[i]=function(e){return a[e]}.bind(0,i));o.d(t,n)},4102:function(e,t,o){var a=o(5303);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=o(7913)["default"];n("0fc79cbc",a,!0,{sourceMap:!1,shadowMode:!1})},5395:function(e,t,o){var a=o(1654);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=o(7913)["default"];n("36da5121",a,!0,{sourceMap:!1,shadowMode:!1})},2947:function(e,t,o){var a=o(4799);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=o(7913)["default"];n("ed92b96a",a,!0,{sourceMap:!1,shadowMode:!1})},505:function(e,t,o){var a=o(5408);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=o(7913)["default"];n("18c44558",a,!0,{sourceMap:!1,shadowMode:!1})},9074:function(e,t,o){var a=o(5481);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=o(7913)["default"];n("243e6530",a,!0,{sourceMap:!1,shadowMode:!1})},4145:function(e,t,o){var a=o(5382);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=o(7913)["default"];n("2cc15763",a,!0,{sourceMap:!1,shadowMode:!1})},7478:function(e,t,o){var a=o(5247);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=o(7913)["default"];n("4597da0a",a,!0,{sourceMap:!1,shadowMode:!1})}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=e,function(){var e=[];o.O=function(t,a,n,i){if(!a){var l=1/0;for(d=0;d<e.length;d++){a=e[d][0],n=e[d][1],i=e[d][2];for(var r=!0,s=0;s<a.length;s++)(!1&i||l>=i)&&Object.keys(o.O).every((function(e){return o.O[e](a[s])}))?a.splice(s--,1):(r=!1,i<l&&(l=i));if(r){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,n,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={346:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,i,l=a[0],r=a[1],s=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(s)var d=s(o)}for(t&&t(a);c<l.length;c++)i=l[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},a=self["webpackChunk"]=self["webpackChunk"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(9438)}));a=o.O(a)})();