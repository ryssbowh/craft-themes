(function(e){function t(t){for(var n,l,d=t[0],r=t[1],s=t[2],u=0,f=[];u<d.length;u++)l=d[u],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&f.push(a[l][0]),a[l]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);c&&c(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,d=1;d<i.length;d++){var r=i[d];0!==a[r]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=i[0]))}return e}var n={},a={display:0},o=[];function l(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=n,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(i,n,function(t){return e[t]}.bind(null,n));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],r=d.push.bind(d);d.push=t,d=d.slice();for(var s=0;s<d.length;s++)t(d[s]);var c=r;o.push(["ae16","chunk-vendors"]),i()})({"0177":function(e,t,i){"use strict";i.r(t);var n=i("8f7d"),a=i("08d0");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("0de8");var l=i("6b0d"),d=i.n(l);const r=d()(a["default"],[["render",n["render"]],["__scopeId","data-v-21265fc1"]]);t["default"]=r},"077a":function(e,t,i){"use strict";i.r(t);var n=i("b85c"),a=i("5530"),o=i("5502"),l=i("2ef0");t["default"]={computed:Object(a["default"])({isLoading:function(){return this.isFetching||this.isSaving},rootDisplays:function(){return this.viewMode?Object(l["sortBy"])(this.viewMode.displays,"order"):[]}},Object(o["mapState"])(["viewMode","isSaving","isFetching","viewMode","showGroupModal","viewModes","layouts","showFieldHandles"])),watch:{viewMode:{deep:!0,handler:function(){this.allItemsVisible=!0,this.allLabelsVisible=!0;var e,t=Object(n["default"])(this.rootDisplays);try{for(t.s();!(e=t.n()).done;){var i=e.value;if(i.item.hidden){this.allItemsVisible=!1;break}}}catch(d){t.e(d)}finally{t.f()}var a,o=Object(n["default"])(this.rootDisplays);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(l.item.labelHidden){this.allLabelsVisible=!1;break}}}catch(d){o.e(d)}finally{o.f()}}}},data:function(){return{allItemsVisible:!0,allLabelsVisible:!0}},methods:Object(a["default"])({onDragChange:function(e){e.removed?this.removeDisplay(e.removed.element):e.added&&(e.added.element.group_id=null,this.addDisplay(e.added.element)),this.rebuildOrders(e)},rebuildOrders:function(e){var t,i;e.added?(t=e.added.newIndex,i=e.added.element):e.moved&&(t=e.moved.newIndex,i=e.moved.element);var n=0;for(var a in this.rootDisplays){var o=this.rootDisplays[a];i&&n==t&&n++,i&&o.id==i.id||(o.order=n,this.updateDisplay({uid:o.uid,data:{order:n}}),n++)}i&&(i.order=t,this.updateDisplay({uid:i.uid,data:{order:t}}))}},Object(o["mapMutations"])(["updateDisplay","setShowGroupModal","addDisplay","removeDisplay","setItemsVisibility","setLabelsVisibility"]))}},"08d0":function(e,t,i){"use strict";i.r(t);var n=i("87d0");for(var a in i.d(t,"default",(function(){return n["default"]})),n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"095d":function(e,t,i){"use strict";i.r(t),i.d(t,"createStore",(function(){return s}));var n=i("8468"),a=(i("ac1f"),i("1276"),i("c740"),i("a15b"),i("b0c0"),i("4de4"),i("d3b7"),i("3ca3"),i("ddb0"),i("5502")),o=i("2ef0");function l(e){e.response?Craft.cp.displayError(e.response.data.message):Craft.cp.displayError(e)}function d(e){for(var t in e)for(var i in e[t].displays){var n=e[t].displays[i].item.options;Array.isArray(n)&&(e[t].displays[i].item.options={})}return e}function r(e,t,i){var n=document.location.pathname.split("/"),a=n.findIndex((function(e){return"display"==e}));-1!==a&&(n[a+1]==e&&n[a+2]==t&&n[a+3]==i||(n[a+1]=e,n[a+2]=t,n[a+3]=i,window.history.pushState({},"",n.join("/"))))}var s=function(e){return Object(a["createStore"])({state:function(){return{theme:null,layout:{},layouts:[],allLayouts:{},isFetching:!1,isSaving:!1,viewModes:[],viewMode:null,showGroupModal:!1,editedGroupUid:null,showFieldHandles:!1,itemsVisibility:!1,labelsVisibility:!1,switchItemsVisibility:0,switchLabelsVisibility:0}},mutations:{setShowFieldHandles:function(e,t){e.showFieldHandles=t},setTheme:function(e,t){e.theme=t,e.layouts=e.allLayouts[t]},setLayout:function(e,t){for(var i in e.layouts)if(e.layouts[i].id==t){e.layout=e.layouts[i];break}},setAllLayouts:function(e,t){e.allLayouts=t},setIsFetching:function(e,t){e.isFetching=t},setViewMode:function(e,t){e.viewMode=t},setViewModes:function(e,t){e.viewModes=t},addViewMode:function(e,t){e.viewModes.push(t)},editViewMode:function(e,t){var i=t.originalHandle,n=t.name,a=t.handle;for(var o in e.viewModes)if(e.viewModes[o].handle==i)return e.viewModes[o].name=n,void(e.viewModes[o].handle=a)},deleteViewMode:function(e,t){e.viewModes=Object(o["filter"])(e.viewModes,(function(e){return e.handle!=t.handle}))},updateDisplay:function(e,t){var i,n=t.uid,a=t.data;for(var o in e.viewModes)for(var l in e.viewModes[o].displays)if(i=e.viewModes[o].displays[l],i.uid==n){for(var d in a)i[d]=a[d];break}},updateItem:function(e,t){var i,n=t.displayUid,a=t.data;for(var o in e.viewModes)for(var l in e.viewModes[o].displays)if(i=e.viewModes[o].displays[l],i.uid==n){var d=i.item;for(var r in a)d[r]=a[r];break}},removeDisplay:function(e,t){var i=e.viewMode.displays.filter((function(e){return e.uid!=t.uid}));e.viewMode.displays=i},addDisplay:function(e,t){e.viewMode.displays.push(t)},removeDisplayFromGroup:function(e,t){var i,n=t.display,a=t.groupUid;for(var o in e.viewMode.displays)if(i=e.viewMode.displays[o],i.uid==a)break;i.item.displays=i.item.displays.filter((function(e){return e.uid!=n.uid}))},addDisplayToGroup:function(e,t){var i,n=t.display,a=t.groupUid;for(var o in e.viewMode.displays)if(i=e.viewMode.displays[o],i.uid==a)break;i.item.displays.push(n)},setIsSaving:function(e,t){e.isSaving=t},setShowGroupModal:function(e,t){var i=t.show,n=t.editUid,a=void 0===n?null:n;e.showGroupModal=i,e.editedGroupUid=a},setItemsVisibility:function(e,t){e.itemsVisibility=t,e.switchItemsVisibility=Date.now()},setLabelsVisibility:function(e,t){e.labelsVisibility=t,e.switchLabelsVisibility=Date.now()}},actions:{cloneDisplay:function(t,i){return Object(n["default"])(t),e.config.globalProperties.cloneDisplay(i)},setLayout:function(e,t){var i=e.commit,n=e.dispatch,a=t.layoutId,o=t.viewModeHandle;i("setLayout",a),n("fetchViewModes",o)},setViewModeByHandle:function(e,t){var i=e.state,n=e.dispatch,a=t.handle,o=t.setUrl,l=void 0===o||o;for(var d in i.viewModes)if(i.viewModes[d].handle==a){n("setViewMode",{viewMode:i.viewModes[d],setUrl:l});break}},setViewMode:function(e,t){var i=e.commit,n=e.state,a=t.viewMode,o=t.setUrl,l=void 0===o||o;i("setViewMode",a),l&&r(n.theme,n.layout.id,a.handle)},fetchViewModes:function(e,t){var i=e.state,n=e.commit,a=e.dispatch;return n("setIsFetching",!0),axios.post(Craft.getCpUrl("themes/ajax/view-modes"),{layoutId:i.layout.id}).then((function(e){n("setViewModes",d(e.data.viewModes));var o=t&&i.viewModes.filter((function(e){return e.handle==t})).length;o?a("setViewModeByHandle",{handle:t}):a("setViewMode",{viewMode:i.viewModes[0]})})).catch((function(e){l(e)})).finally((function(){n("setIsFetching",!1)}))},save:function(e){var t=e.commit,i=e.state,n=e.dispatch;t("setIsSaving",!0),axios({method:"post",url:Craft.getCpUrl("themes/ajax/view-modes/save"),data:{layoutId:i.layout.id,viewModes:i.viewModes}}).then((function(e){t("setViewModes",d(e.data.viewModes)),n("setViewModeByHandle",{handle:i.viewMode.handle,setUrl:!1}),Craft.cp.displayNotice(e.data.message)})).catch((function(e){l(e),e.response.data.viewModes&&(t("setViewModes",d(e.response.data.viewModes)),n("setViewModeByHandle",{handle:i.viewMode.handle,setUrl:!1}))})).finally((function(){t("setIsSaving",!1)}))},editViewMode:function(e,t){var i=e.state,n=e.commit,a=t.originalHandle,o=t.name,l=t.handle;a!=l&&r(i.theme,i.layout.id,l),n("editViewMode",{originalHandle:a,name:o,handle:l})},addViewMode:function(e,t){var i=e.commit,n=e.state,a=e.dispatch;t.layout_id=n.layout.id;var o=[],l=[];for(var d in n.viewMode.displays)l.push(a("cloneDisplay",n.viewMode.displays[d]).then((function(e){o.push(e)})));Promise.all(l).then((function(){t.displays=o,i("addViewMode",t),a("setViewMode",{viewMode:t})}))},deleteViewMode:function(e,t){var i=e.commit,n=e.state,a=e.dispatch;i("deleteViewMode",t),a("setViewMode",{viewMode:n.viewModes[0]})}}})}},"0b1a":function(e,t,i){"use strict";i.r(t);var n=i("8d6b"),a=i("42b4");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);var l=i("6b0d"),d=i.n(l);const r=d()(a["default"],[["render",n["render"]]]);t["default"]=r},"0d4c":function(e,t,i){"use strict";i.r(t);var n=i("077a");for(var a in i.d(t,"default",(function(){return n["default"]})),n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"0de8":function(e,t,i){"use strict";i.r(t);var n=i("f08e");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"127d":function(e,t,i){"use strict";i.r(t);var n=i("79fc");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},1295:function(e,t,i){"use strict";i.r(t),i.d(t,"render",(function(){return j}));i("b0c0");var n=i("f2bf"),a={class:"modal elementselectormodal modal-group",style:{display:"none"},ref:"modal"},o={class:"header"},l={class:"body"},d={class:"content"},r={class:"field"},s={class:"heading"},c={class:"required",for:"name"},u={class:"input ltr"},f={key:0,class:"errors"},p={class:"field"},b={class:"heading"},h={class:"required",for:"handle"},m={class:"input ltr"},v={key:0,class:"errors"},y={class:"footer"},O={class:"buttons right"};function j(e,t,i,j,g,w){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("h3",null,Object(n["toDisplayString"])(e.editedGroupUid?e.t("Edit group"):e.t("Add group")),1)]),Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("form",{onSubmit:t[2]||(t[2]=Object(n["withModifiers"])((function(){return w.save&&w.save.apply(w,arguments)}),["prevent"]))},[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("label",c,Object(n["toDisplayString"])(e.t("Name",{},"app")),1)]),Object(n["createElementVNode"])("div",u,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",id:"name",class:Object(n["normalizeClass"])({text:!0,fullwidth:!0,error:g.nameError}),"onUpdate:modelValue":t[0]||(t[0]=function(e){return g.name=e}),maxlength:"255",required:""},null,2),[[n["vModelText"],g.name]])]),g.nameError?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",f,[Object(n["createElementVNode"])("li",null,Object(n["toDisplayString"])(g.nameError),1)])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("label",h,Object(n["toDisplayString"])(e.t("Handle",{},"app")),1)]),Object(n["createElementVNode"])("div",m,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",id:"handle",class:Object(n["normalizeClass"])({text:!0,fullwidth:!0,error:g.handleError}),"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.handle=e}),maxlength:"255",required:""},null,2),[[n["vModelText"],g.handle]])]),g.handleError?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",v,[Object(n["createElementVNode"])("li",null,Object(n["toDisplayString"])(g.handleError),1)])):Object(n["createCommentVNode"])("",!0)])],32)])]),Object(n["createElementVNode"])("div",y,[Object(n["createElementVNode"])("div",O,[Object(n["createElementVNode"])("button",{type:"button",class:"btn",onClick:t[3]||(t[3]=function(){return w.closeModal&&w.closeModal.apply(w,arguments)})},Object(n["toDisplayString"])(e.t("Close",{},"app")),1),Object(n["createElementVNode"])("button",{type:"button",class:"btn submit",onClick:t[4]||(t[4]=function(){return w.save&&w.save.apply(w,arguments)})},Object(n["toDisplayString"])(e.t("Save",{},"app")),1)])])],512)}},"19b4":function(e,t,i){"use strict";i.r(t),i.d(t,"render",(function(){return O}));i("b0c0");var n=i("f2bf"),a=function(e){return Object(n["pushScopeId"])("data-v-e6ff0162"),e=e(),Object(n["popScopeId"])(),e},o={class:"pane-header"},l={id:"tabs",class:"pane-tabs"},d={class:"heading"},r=["title"],s=a((function(){return Object(n["createElementVNode"])("span",{class:"icon add"},null,-1)})),c=[s],u=["data-viewmode"],f={key:0,class:"error","data-icon":"alert","aria-label":"Error"},p={key:1},b=["onClick"],h=["onClick","title"],m=["onClick"],v=a((function(){return Object(n["createElementVNode"])("button",{type:"button",id:"overflow-tab-btn","data-icon":"ellipsis",class:"btn menubtn hidden"},null,-1)})),y=a((function(){return Object(n["createElementVNode"])("div",{id:"overflow-tab-menu",class:"menu"},[Object(n["createElementVNode"])("ul",{role:"listbox"})],-1)}));function O(e,t,i,a,s,O){var j=Object(n["resolveComponent"])("view-mode-modal");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createElementVNode"])("nav",l,[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.t("View modes")),1),Object(n["createElementVNode"])("a",{href:"#",class:"add-viewmode",onClick:t[0]||(t[0]=Object(n["withModifiers"])((function(){return O.addViewMode&&O.addViewMode.apply(O,arguments)}),["prevent"])),title:e.t("New View Mode")},c,8,r)]),Object(n["createElementVNode"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.viewModes,(function(i,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:a},[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])({sel:e.viewMode.handle===i.handle}),onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(){}),["prevent"])),href:"#","data-viewmode":i.id},[i.hasErrors?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",f)):Object(n["createCommentVNode"])("",!0),i.hasErrors?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",p," ")):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("span",{onClick:Object(n["withModifiers"])((function(e){return O.setViewMode2(i)}),["prevent"])},Object(n["toDisplayString"])(i.name),9,b),e.viewMode.handle===i.handle?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:2,class:"icon edit",onClick:Object(n["withModifiers"])((function(e){return O.editViewMode(i)}),["prevent"]),title:e.t("Edit view mode")},null,8,h)):Object(n["createCommentVNode"])("",!0),"default"!=i.handle&&e.viewMode.handle===i.handle?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:3,class:"icon delete",onClick:Object(n["withModifiers"])((function(e){return O.confirmAndDeleteViewMode(i)}),["prevent"])},null,8,m)):Object(n["createCommentVNode"])("",!0)],10,u)])})),128))]),v,y,Object(n["createVNode"])(j,{"show-modal":s.showModal,editedViewMode:s.editedViewMode,onCloseModal:O.onCloseModal},null,8,["show-modal","editedViewMode","onCloseModal"])])])}},"1cc3":function(e,t,i){"use strict";i.r(t);var n=i("5a0f");for(var a in i.d(t,"default",(function(){return n["default"]})),n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"2bc1":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"input[disabled][data-v-7f9152de]{background:hsla(0,0%,90.2%,.7)}.modal[data-v-7f9152de]{padding-bottom:62px;max-height:307px!important;max-width:300px!important;min-height:unset!important;min-width:unset!important}.modal .body[data-v-7f9152de]{height:calc(100% - 65px)}",""]),e.exports=t},"2e4a":function(e,t,i){"use strict";i.r(t);var n=i("8895");for(var a in i.d(t,"default",(function(){return n["default"]})),n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"324e":function(e,t,i){"use strict";i.r(t);var n=i("b85c"),a=i("5530"),o=(i("a9e3"),i("5502")),l=i("2ef0");t["default"]={computed:Object(a["default"])({classes:function(){return{line:!0,opaque:this.item.hidden||this.item.visuallyHidden}},visible:function(){return!this.item.visuallyHidden&&!this.item.hidden},labelVisible:function(){return!this.item.labelVisuallyHidden&&!this.item.labelHidden},groupDisplays:function(){return Object(l["sortBy"])(this.item.displays,"order")}},Object(o["mapState"])(["showFieldHandles","labelsVisibility","itemsVisibility","viewMode","switchLabelsVisibility","switchItemsVisibility"])),props:{item:Object,indentationLevel:Number,display:{type:Object,default:function(){return{}}}},watch:{switchItemsVisibility:function(){this.$emit("updateItem",{hidden:!this.itemsVisibility})},switchLabelsVisibility:function(){this.$emit("updateItem",{labelHidden:!this.labelsVisibility})}},methods:Object(a["default"])(Object(a["default"])({copyValue:function(e){var t=e.target;t.select(),document.execCommand("copy"),Craft.cp.displayNotice(this.t("Copied to clipboard.","app")),t.setSelectionRange(0,0)},updateLabelVisibility:function(e){var t=e.originalTarget.value,i={labelHidden:!1,labelVisuallyHidden:!1};"hidden"==t?i.labelHidden=!0:"visuallyHidden"==t&&(i.labelHidden=!1,i.labelVisuallyHidden=!0),this.$emit("updateItem",i)},updateVisibility:function(e){var t=e.originalTarget.value,i={hidden:!1,visuallyHidden:!1};"hidden"==t?i.hidden=!0:"visuallyHidden"==t&&(i.hidden=!1,i.visuallyHidden=!0),this.$emit("updateItem",i)},canPut:function(e,t,i){return!$(i).hasClass("group")},editGroup:function(){this.setShowGroupModal({show:!0,editUid:this.display.uid})},deleteGroup:function(){if(confirm(this.t("Are you sure you want to delete this group ?"))){var e,t=this.viewMode.displays.length-1,i=Object(n["default"])(this.groupDisplays);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.group_id=null,a.order=t,t++,this.addDisplay(a)}}catch(o){i.e(o)}finally{i.f()}this.removeDisplay(this.display)}},onDragChange:function(e){e.added?(e.added.element.group_id=null,this.addDisplayToGroup({display:e.added.element,groupUid:this.display.uid})):e.removed&&this.removeDisplayFromGroup({display:e.removed.element,groupUid:this.display.uid}),this.rebuildOrders(e)},updateItem:function(e,t){var i;for(var n in this.display.item.displays)if(i=this.display.item.displays[n],i.uid==t){i.item=e;break}},rebuildOrders:function(e){var t,i;e.added?(t=e.added.newIndex,i=e.added.element):e.moved&&(t=e.moved.newIndex,i=e.moved.element);var n=0;for(var a in this.groupDisplays){var o=this.groupDisplays[a];i&&n==t&&n++,i&&o.id==i.id||(o.order=n,n++)}i&&(i.order=t)}},Object(o["mapMutations"])(["setShowGroupModal","addDisplayToGroup","removeDisplayFromGroup","removeDisplay","addDisplay"])),Object(o["mapActions"])([])),emits:["updateItem","delete"]}},3694:function(e,t,i){"use strict";i.r(t);var n=i("5530"),a=(i("a9e3"),i("4de4"),i("a4d3"),i("e01a"),i("ac1f"),i("1276"),i("c740"),i("5502"));t["default"]={computed:Object(n["default"])({},Object(a["mapState"])(["theme","layouts","layout","viewMode"])),props:{initialTheme:String,themes:Object,allLayouts:Object,currentLayout:Number,currentViewModeHandle:String,showFieldHandles:Number},created:function(){var e,t=this;this.setShowFieldHandles(this.showFieldHandles),this.setAllLayouts(this.allLayouts),this.setTheme(this.initialTheme);var i=this.currentLayout&&this.allLayouts[this.initialTheme].filter((function(e){return e.id==t.currentLayout})).length;i?this.setLayout({layoutId:this.currentLayout,viewModeHandle:this.currentViewModeHandle}):null!==(e=this.layouts[0])&&void 0!==e&&e&&this.setLayout({layoutId:this.layouts[0].id}),!i&&this.currentLayout&&Craft.cp.displayError(this.t("Requested layout doesn't exist, defaulting to {layout}",{layout:this.layouts[0].description})),window.addEventListener("popstate",(function(){var e,i=document.location.pathname.split("/"),n=i.findIndex((function(e){return"display"==e})),a="";-1!==n&&("undefined"!=typeof i[n+1]&&i[n+1]!=t.theme&&t.setTheme(i[n+1]),"undefined"!=typeof i[n+2]&&i[n+2]!=t.layout.id&&(e=i[n+2]),"undefined"!=typeof i[n+3]&&(a=i[n+3]),e?t.setLayout({layoutId:i[n+2],viewModeHandle:a}):a&&t.setViewModeByHandle(a))}))},methods:Object(n["default"])(Object(n["default"])({changeTheme:function(e){if(confirm(this.t("You will loose unsaved changes, continue anyway ?"))){var t=this.layout.element;for(var i in this.setTheme(e),this.layouts)if(this.layouts[i].element===t)return void this.setLayout({layoutId:this.layouts[i].id});this.setLayout({layoutId:this.layouts[0].id})}}},Object(a["mapMutations"])(["setTheme","setAllLayouts","setShowFieldHandles"])),Object(a["mapActions"])(["setLayout","setViewModeByHandle"]))}},"3b14":function(e,t,i){"use strict";i.r(t);var n=i("976f"),a=i("adb4");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("ec7b");var l=i("6b0d"),d=i.n(l);const r=d()(a["default"],[["render",n["render"]],["__scopeId","data-v-e6ff0162"]]);t["default"]=r},"3c1c":function(e,t,i){"use strict";i.r(t);var n=i("f0f8");for(var a in i.d(t,"default",(function(){return n["default"]})),n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"3c9a":function(e,t,i){"use strict";i.r(t);var n=i("ddf9");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},4046:function(e,t,i){"use strict";i.r(t);var n=i("324e");for(var a in i.d(t,"default",(function(){return n["default"]})),n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"42b4":function(e,t,i){"use strict";i.r(t);var n=i("3694");for(var a in i.d(t,"default",(function(){return n["default"]})),n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"4aac":function(e,t,i){"use strict";i.r(t);var n=i("7ffd"),a=i("2e4a");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("127d");var l=i("6b0d"),d=i.n(l);const r=d()(a["default"],[["render",n["render"]],["__scopeId","data-v-7f9152de"]]);t["default"]=r},"4f8b":function(e,t,i){var n=i("73b9");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("499e").default;a("779c7f98",n,!0,{sourceMap:!1,shadowMode:!1})},5085:function(e,t,i){"use strict";i.r(t),i.d(t,"render",(function(){return s}));i("b0c0");var n=i("f2bf"),a={class:"btngroup"},o={key:0,type:"button",class:"btn menubtn","data-icon":"brush"},l={key:1,class:"menu"},d={class:"padded"},r=["onClick"];function s(e,t,i,s,c,u){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[e.theme?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",o,Object(n["toDisplayString"])(i.themes[e.theme].name),1)):Object(n["createCommentVNode"])("",!0),e.theme?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",l,[Object(n["createElementVNode"])("ul",d,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i.themes,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:t.handle},[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])({sel:e.theme==t.handle}),href:"#",onClick:Object(n["withModifiers"])((function(e){return u.changeTheme(t.handle)}),["prevent"])},Object(n["toDisplayString"])(t.name),11,r)])})),128))])])):Object(n["createCommentVNode"])("",!0)])}},"5a0f":function(e,t,i){"use strict";i.r(t);var n=i("5530"),a=i("5502");t["default"]={computed:Object(n["default"])({canSave:function(){return!this.isSaving&&!this.isFetching}},Object(a["mapState"])(["isSaving","isFetching","layouts"])),methods:Object(n["default"])(Object(n["default"])({},Object(a["mapMutations"])(["setShowGroupModal"])),Object(a["mapActions"])(["save"]))}},"5dc7":function(e,t,i){"use strict";i.r(t);var n=i("7c734");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"612a":function(e,t,i){"use strict";i.r(t);var n=i("b53a");for(var a in i.d(t,"default",(function(){return n["default"]})),n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"612c":function(e,t,i){var n=i("c856");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("499e").default;a("2ebed15e",n,!0,{sourceMap:!1,shadowMode:!1})},"61e9":function(e,t,i){"use strict";i.r(t),i.d(t,"render",(function(){return s}));i("a4d3"),i("e01a");var n=i("f2bf"),a={id:"notification-nav"},o={class:"heading"},l=["href","onClick"],d={key:0},r=["href","onClick"];function s(e,t,i,s,c,u){return Object(n["openBlock"])(),Object(n["createElementBlock"])("nav",a,[Object(n["createElementVNode"])("ul",null,[Object(n["createElementVNode"])("li",o,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.t("Layouts")),1)]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(u.rootLayouts,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:t.id},[Object(n["createElementVNode"])("a",{href:u.getUrl(t),class:Object(n["normalizeClass"])({sel:e.layout.id===t.id}),onClick:Object(n["withModifiers"])((function(e){return u.confirmAndChangeLayout(t.id)}),["prevent"])},Object(n["toDisplayString"])(t.description),11,l),u.getChildren(t)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",d,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(u.getChildren(t),(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:t.id},[Object(n["createElementVNode"])("a",{href:u.getUrl(t),class:Object(n["normalizeClass"])({sel:e.layout.id===t.id}),onClick:Object(n["withModifiers"])((function(e){return u.confirmAndChangeLayout(t.id)}),["prevent"])},Object(n["toDisplayString"])(t.description),11,r)])})),128))])):Object(n["createCommentVNode"])("",!0)])})),128))])])}},6371:function(e,t,i){"use strict";i.r(t);var n=i("5530"),a=(i("a9e3"),i("5502"));t["default"]={computed:{type:function(){return"group"==this.display.type?"group":this.fieldComponent(this.display.item.type)}},props:{display:Object,indentationLevel:Number},methods:Object(n["default"])({},Object(a["mapMutations"])(["updateItem"])),emits:[]}},6506:function(e,t,i){var n=i("d3f5");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("499e").default;a("557f226c",n,!0,{sourceMap:!1,shadowMode:!1})},6650:function(e,t,i){"use strict";i.r(t),i.d(t,"render",(function(){return d}));var n=i("f2bf"),a={key:0,id:"action-buttons",class:"flex"},o=["disabled"],l=["disabled"];function d(e,t,i,d,r,s){return e.layouts.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createElementVNode"])("button",{href:"#",class:"btn",disabled:!s.canSave,onClick:t[0]||(t[0]=Object(n["withModifiers"])((function(t){return e.setShowGroupModal({show:!0})}),["prevent"]))},Object(n["toDisplayString"])(e.t("New group")),9,o),Object(n["createElementVNode"])("button",{href:"#",class:"btn submit",disabled:!s.canSave,onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(){return e.save&&e.save.apply(e,arguments)}),["prevent"]))},Object(n["toDisplayString"])(e.t("Save",{},"app")),9,l)])):Object(n["createCommentVNode"])("",!0)}},"6dab":function(e,t,i){"use strict";i.r(t);var n=i("5530"),a=(i("4de4"),i("5502"));t["default"]={computed:Object(n["default"])({rootLayouts:function(){return this.layouts.filter((function(e){return null==e.parent_id}))}},Object(a["mapState"])(["layout","layouts","theme"])),methods:Object(n["default"])({getChildren:function(e){return this.layouts.filter((function(t){return t.parent_id==e.id}))},getUrl:function(e){return Craft.getCpUrl("themes/display/"+this.theme+"/"+e.id)},confirmAndChangeLayout:function(e){confirm(this.t("You will loose unsaved changes, continue anyway ?"))&&this.setLayout({layoutId:e})}},Object(a["mapActions"])(["setLayout"]))}},"6e38":function(e,t,i){"use strict";i.r(t);var n=i("5dc7"),a=i("4046");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("9a24"),i("7f60");var l=i("6b0d"),d=i.n(l);const r=d()(a["default"],[["render",n["render"]],["__scopeId","data-v-7043809a"]]);t["default"]=r},"73b9":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".heading[data-v-33188652]{margin:11px 24px 14px 24px}.sidebar nav li ul[data-v-33188652]{display:block}",""]),e.exports=t},"73f0":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".delete[data-v-7043809a]{margin-left:3px}.group[data-v-7043809a]{position:relative;border-radius:5px;border:1px solid #e4edf6}.group .no-displays[data-v-7043809a]{position:absolute;left:15px;top:50px;opacity:.7}.group .sub-fields[data-v-7043809a]{min-height:34px}",""]),e.exports=t},7966:function(e,t,i){"use strict";i.r(t);var n=i("612c");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"79fc":function(e,t,i){var n=i("2bc1");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("499e").default;a("1f34515d",n,!0,{sourceMap:!1,shadowMode:!1})},"7c5d":function(e,t,i){"use strict";i.r(t);var n=i("6371");for(var a in i.d(t,"default",(function(){return n["default"]})),n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"7c734":function(e,t,i){"use strict";i.r(t),i.d(t,"render",(function(){return x}));i("b0c0");var n=i("f2bf"),a=function(e){return Object(n["pushScopeId"])("data-v-7043809a"),e=e(),Object(n["popScopeId"])(),e},o={class:"group line has-sub-fields"},l=a((function(){return Object(n["createElementVNode"])("div",{class:"move col"},[Object(n["createElementVNode"])("div",{class:"move icon"})],-1)})),d={class:"title col"},r={class:"name"},s=["value","size"],c=a((function(){return Object(n["createElementVNode"])("span",{"data-icon":"clipboard","aria-hidden":"true"},null,-1)})),u={class:"type col code"},f={class:"label col"},p={class:"select"},b=["selected"],h=["selected"],m=["selected"],v={class:"visibility col"},y={class:"select"},O=["selected"],j=["selected"],g=["selected"],w=a((function(){return Object(n["createElementVNode"])("div",{class:"displayer col"},null,-1)})),V={class:"options col"},M=a((function(){return Object(n["createElementVNode"])("span",{class:"icon settings"},null,-1)})),E=[M],k=a((function(){return Object(n["createElementVNode"])("span",{class:"icon delete"},null,-1)})),C=[k],N={key:0,class:"no-displays"};function x(e,t,i,a,M,k){var x=Object(n["resolveComponent"])("display-item"),S=Object(n["resolveComponent"])("draggable");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(k.classes)},[l,Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("span",r,Object(n["toDisplayString"])(i.item.name),1),e.showFieldHandles?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"code small light copytextbtn",title:"Copy to clipboard",role:"button",onClick:t[0]||(t[0]=function(){return k.copyValue&&k.copyValue.apply(k,arguments)})},[Object(n["createElementVNode"])("input",{type:"text",value:"group-"+i.item.handle,readonly:"",size:("group-"+i.item.handle).length},null,8,s),c])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",u,Object(n["toDisplayString"])(e.t("Group")),1),Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("select",{onChange:t[1]||(t[1]=function(){return k.updateLabelVisibility&&k.updateLabelVisibility.apply(k,arguments)})},[Object(n["createElementVNode"])("option",{value:"hidden",selected:i.item.labelHidden},Object(n["toDisplayString"])(e.t("Hidden")),9,b),Object(n["createElementVNode"])("option",{value:"visuallyHidden",selected:i.item.labelVisuallyHidden},Object(n["toDisplayString"])(e.t("Visually hidden")),9,h),Object(n["createElementVNode"])("option",{value:"visible",selected:k.labelVisible},Object(n["toDisplayString"])(e.t("Visible")),9,m)],32)])]),Object(n["createElementVNode"])("div",v,[Object(n["renderSlot"])(e.$slots,"visibility",{},(function(){return[Object(n["createElementVNode"])("div",y,[Object(n["createElementVNode"])("select",{onChange:t[2]||(t[2]=function(){return k.updateVisibility&&k.updateVisibility.apply(k,arguments)})},[Object(n["createElementVNode"])("option",{value:"hidden",selected:i.item.hidden},Object(n["toDisplayString"])(e.t("Hidden")),9,O),Object(n["createElementVNode"])("option",{value:"visuallyHidden",selected:i.item.visuallyHidden},Object(n["toDisplayString"])(e.t("Visually hidden")),9,j),Object(n["createElementVNode"])("option",{value:"visible",selected:k.visible},Object(n["toDisplayString"])(e.t("Visible")),9,g)],32)])]}),!0)]),w,Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("a",{href:"#",onClick:t[3]||(t[3]=Object(n["withModifiers"])((function(){return k.editGroup&&k.editGroup.apply(k,arguments)}),["prevent"]))},E),Object(n["createElementVNode"])("a",{href:"#",onClick:t[4]||(t[4]=Object(n["withModifiers"])((function(){return k.deleteGroup&&k.deleteGroup.apply(k,arguments)}),["prevent"])),class:"delete"},C)])],2),k.groupDisplays.length?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",N,[Object(n["createElementVNode"])("i",null,Object(n["toDisplayString"])(e.t("This group is empty")),1)])),Object(n["createVNode"])(S,{class:"sub-fields","item-key":"uid",list:k.groupDisplays,group:{name:"displays",put:k.canPut},swapThreshold:"1.2",handle:".move",onChange:k.onDragChange},{item:Object(n["withCtx"])((function(e){var t=e.element;return[Object(n["createVNode"])(x,{display:t,"indentation-level":i.indentationLevel+1,onUpdateItem:function(e){return k.updateItem(e,t.uid)}},null,8,["display","indentation-level","onUpdateItem"])]})),_:1},8,["list","group","onChange"])])}},"7f60":function(e,t,i){"use strict";i.r(t);var n=i("8c22");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"7fc5":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".display-table .col.move,.display-table .col.options{display:-webkit-box;display:-ms-flexbox;display:flex}.display-table .col.move{padding-left:5px}.display-table .head{font-weight:700;background:#f3f7fc;border-radius:5px}.display-table .head .col{padding:7px 8px}.display-table .line{display:grid;grid-template-columns:5% 20% 16% 17% 17% 19% 6%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 0 7px 0;width:100%}.display-table .line.flex{display:-webkit-box;display:-ms-flexbox;display:flex}.display-table .line.opaque,.display-table .line.opaque~.sub-fields{opacity:.5}.display-table .line.bg-grey{background:#f3f7fc}.display-table .line.with-handles{grid-template-columns:5% 14% 13% 14% 16% 16% 16% 6%}.display-table .line.has-sub-fields{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border-radius:5px;padding:7px 0}.display-table .line.no-margin{margin:0}.display-table .line.no-padding{padding:0}.display-table .block-type-name{width:5%;opacity:.7;white-space:nowrap;margin-bottom:0}.display-table .sub-fields{width:100%;-webkit-transition:opacity .3s;transition:opacity .3s}.display-table .sub-fields .line:last-child{margin-bottom:0}.display-table .indented-1 .indented{padding-left:20%}.display-table .indented-2 .indented{padding-left:40%}.display-table .indented-3 .indented{padding-left:60%;padding-left:80%}.display-table .body .col:not(.move){padding:0 10px}.display-table .body .col.move,.display-table .body .col.options{padding-bottom:4px}.themes-displays{position:relative}.themes-displays .title{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.spinner-wrapper{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1000}.spinner-wrapper .spinner{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}",""]),e.exports=t},"7ffd":function(e,t,i){"use strict";i.r(t);var n=i("ba1e");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"81ab":function(e,t,i){"use strict";i.r(t);var n=i("c837"),a=i("a314");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("856d");var l=i("6b0d"),d=i.n(l);const r=d()(a["default"],[["render",n["render"]],["__scopeId","data-v-33188652"]]);t["default"]=r},"856d":function(e,t,i){"use strict";i.r(t);var n=i("4f8b");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"87d0":function(e,t,i){"use strict";i.r(t);var n=i("5530"),a=(i("4de4"),i("b0c0"),i("498a"),i("5502")),o=i("ec26"),l=i("aaa1");t["default"]={computed:Object(n["default"])({editedGroup:function(){for(var e in this.groups)if(this.groups[e].uid==this.editedGroupUid)return this.groups[e];return null},displays:function(){return this.viewMode.displays},groups:function(){return this.displays.filter((function(e){return"group"==e.type}))},hasError:function(){return this.handleError||this.nameError},maxOrder:function(){var e;return null!==(e=this.displays[this.displays.length-1].order)&&void 0!==e?e:0}},Object(a["mapState"])(["layout","showGroupModal","editedGroupUid","viewMode"])),data:function(){return{modal:null,name:"",handle:"",nameError:!1,handleError:!1,handleGenerator:null}},watch:{showGroupModal:function(){this.showGroupModal?this.modal.show():this.modal.hide(),this.updategenerator(),this.editedGroupUid&&(this.name=this.editedGroup.item.name,this.handle=this.editedGroup.item.handle)}},mounted:function(){this.createModal()},beforeUnmount:function(){this.modal.destroy()},methods:Object(n["default"])({createModal:function(){var e=this;this.modal=new Garnish.Modal(this.$refs.modal,{hideOnEsc:!1,hideOnShadeClick:!1,autoShow:!1}),this.handleGenerator=new l["HandleGenerator"](".modal-group #name",".modal-group #handle"),this.handleGenerator.callback=function(t){e.handle=t},this.updategenerator()},updategenerator:function(){null===this.editedGroupUid?this.handleGenerator.startListening():this.handleGenerator.stopListening()},removeErrors:function(){this.nameError=!1,this.handleError=!1},closeModal:function(){this.$emit("closeModal"),this.name="",this.handle="",this.removeErrors()},validateModal:function(){for(var e in this.removeErrors(),this.name.trim()||(this.nameError=this.t("Name is required")),this.handle.trim()||(this.handleError=this.t("Handle is required")),this.displays){if(this.displays[e].uid!=this.editedGroupUid&&this.displays[e].item.handle==this.handle.trim())return void(this.handleError=this.t("This handle is already defined"));if("group"==this.displays[e].type)for(var t in this.displays[e].item.displays)if(this.displays[e].item.displays[t].item.handle==this.handle.trim())return void(this.handleError=this.t("This handle is already defined"))}},save:function(){this.validateModal(),this.hasError||(null!==this.editedGroupUid?this.updateItem({displayUid:this.editedGroup.uid,data:{name:this.name,handle:this.handle}}):this.addDisplay({id:null,type:"group",uid:Object(o["default"])(),order:this.maxOrder+1,item:{id:null,uid:Object(o["default"])(),name:this.name,handle:this.handle,visuallyHidden:!1,hidden:!1,labelHidden:!1,labelVisuallyHidden:!1,displays:[]}}),this.closeModal())}},Object(a["mapMutations"])(["updateItem","addDisplay"])),emits:["closeModal"]}},8895:function(e,t,i){"use strict";i.r(t);var n=i("5530"),a=(i("b0c0"),i("498a"),i("5502")),o=i("aaa1");t["default"]={computed:Object(n["default"])({mode:function(){return null===this.editedViewMode?"add":"edit"},hasError:function(){return this.handleError||this.nameError}},Object(a["mapState"])(["viewModes","layout"])),props:{showModal:Boolean,editedViewMode:null},data:function(){return{popup:null,name:"",handle:"",nameError:"",handleError:"",handleGenerator:null}},watch:{showModal:function(){this.showModal?(this.updateGenerator(),"edit"==this.mode&&(this.name=this.editedViewMode.name,this.handle=this.editedViewMode.handle),this.popup.show()):this.popup.hide()}},mounted:function(){this.createModal()},beforeUnmount:function(){this.popup.destroy()},methods:Object(n["default"])({createModal:function(){var e=this;this.popup=new Garnish.Modal(this.$refs.modal,{hideOnEsc:!1,hideOnShadeClick:!1,autoShow:!1}),this.handleGenerator=new o["HandleGenerator"](".modal-viewmode #name",".modal-viewmode #handle"),this.handleGenerator.callback=function(t){e.handle=t},this.updateGenerator()},updateGenerator:function(){"add"==this.mode?this.handleGenerator.startListening():this.handleGenerator.stopListening()},removeErrors:function(){this.nameError="",this.handleError=""},closeModal:function(){this.$emit("closeModal"),this.name="",this.handle="",this.removeErrors()},validateModal:function(){if(this.removeErrors(),this.name=this.name.trim(),this.handle=this.handle.trim(),this.name||(this.nameError=this.t("Name is required")),null===this.editedViewMode)for(var e in this.handle||(this.handleError=this.t("Handle is required")),this.viewModes)this.viewModes[e].handle==this.handle&&(this.handleError=this.t("This handle is already defined"))},save:function(){this.validateModal(),this.hasError||("edit"==this.mode?this.editViewMode({originalHandle:this.editedViewMode.handle,name:this.name,handle:this.handle}):this.addViewMode({name:this.name,handle:this.handle}),this.closeModal())}},Object(a["mapActions"])(["addViewMode","editViewMode"])),emits:["closeModal"]}},"8c22":function(e,t,i){var n=i("a2e6");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("499e").default;a("f732e61c",n,!0,{sourceMap:!1,shadowMode:!1})},"8d6b":function(e,t,i){"use strict";i.r(t);var n=i("5085");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"8f7d":function(e,t,i){"use strict";i.r(t);var n=i("1295");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"8fce":function(e,t,i){"use strict";i.r(t);var n=i("5530"),a=(i("4de4"),i("7db0"),i("5502"));t["default"]={computed:Object(n["default"])({},Object(a["mapState"])(["viewModes","viewMode"])),data:function(){return{showModal:!1,editedViewMode:null,tabsInited:!1,overflowTabBtn:null}},updated:function(){var e=this;this.tabsInited||(this.overflowTabBtn=$("#overflow-tab-btn"),this.overflowTabBtn.data("menubtn")||new Garnish.MenuBtn(this.overflowTabBtn),this.tabsInited=!0,$(window).resize((function(){e.initTabs()}))),this.$nextTick((function(){e.initTabs()}))},methods:Object(n["default"])({onCloseModal:function(){this.edit=null,this.showModal=!1},setViewMode2:function(e){this.setViewMode({viewMode:e})},selectViewMode:function(e){var t=this.viewModes.filter((function(t){return t.id==e}))[0];this.setViewMode({viewMode:t}),this.overflowTabBtn.data("menubtn").hideMenu()},addViewMode:function(){this.editedViewMode=null,this.showModal=!0},editViewMode:function(e){this.editedViewMode=e,this.showModal=!0},confirmAndDeleteViewMode:function(e){confirm(this.t("Do you really want to delete this view mode ?"))&&this.deleteViewMode(e)},initTabs:function(){var e=$(this.$el).find("ul").width(),t=$(this.$el).find("li a:not(.sel)"),i=!1,n=this.overflowTabBtn.data("menubtn").menu.$container.find("> ul"),a=[],o=$(this.$el).find("li a.sel");$(this.$el).find("li").removeClass("hidden");var l=o.parent().width(),d=this;$.each(t,(function(t,n){var o=$(n).parent();if(l+=o.width(),l>e){var r=o.clone();r.find("a").click((function(e){e.preventDefault(),d.selectViewMode($(this).data("viewmode")),d.$nextTick((function(){d.initTabs()}))})),a.push(r),o.addClass("hidden"),i=!0}})),i?(n.html(a),this.overflowTabBtn.removeClass("hidden")):this.overflowTabBtn.addClass("hidden")}},Object(a["mapActions"])(["deleteViewMode","setViewMode"]))}},9181:function(e,t,i){var n=i("7fc5");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("499e").default;a("6a7de2d1",n,!0,{sourceMap:!1,shadowMode:!1})},9526:function(e,t,i){var n=i("73f0");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("499e").default;a("50f72444",n,!0,{sourceMap:!1,shadowMode:!1})},"976f":function(e,t,i){"use strict";i.r(t);var n=i("19b4");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},"9a24":function(e,t,i){"use strict";i.r(t);var n=i("9526");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},a2e6:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".display-table .group .displays .col.move{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""]),e.exports=t},a314:function(e,t,i){"use strict";i.r(t);var n=i("6dab");for(var a in i.d(t,"default",(function(){return n["default"]})),n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},a39f:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"#toolbar{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:end}",""]),e.exports=t},a419:function(e,t,i){"use strict";i.r(t);var n=i("fddc");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},aaa1:function(e,t,i){"use strict";i.r(t),i.d(t,"Translate",(function(){return l})),i.d(t,"HandleError",(function(){return d})),i.d(t,"Clone",(function(){return r})),i.d(t,"FieldComponent",(function(){return s})),i.d(t,"HandleGenerator",(function(){return c})),i.d(t,"SelectInput",(function(){return u}));var n=i("b85c"),a=(i("7db0"),i("caad"),i("159b"),i("b0c0"),i("ec26")),o=i("2ef0"),l={install:function(e){e.config.globalProperties.t=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"themes";return window.Craft.t(i,e,t)}}},d={install:function(e){e.config.globalProperties.handleError=function(e){var t,i,n=e;e.response&&(null!==(t=e.response.data.message)&&void 0!==t&&t?n=e.response.data.message:null!==(i=e.response.data.error)&&void 0!==i&&i&&(n=e.response.data.error));Craft.cp.displayError(n)}}},r={install:function(e){e.config.globalProperties.cloneDisplay=function(t){var i,n=Object(o["merge"])({},t);return i="group"==t.type?e.config.globalProperties.cloneGroup(t.item):e.config.globalProperties.cloneField(t.item),n.item=i,n.id=null,n.uid=Object(a["default"])(),n},e.config.globalProperties.cloneField=function(t){var i;return i="undefined"!=typeof window.CraftThemes.fieldComponents[t.type]?window.CraftThemes.fieldComponents[t.type].clone(t,e):Object(o["merge"])({},t),i.id=null,i.uid=Object(a["default"])(),i},e.config.globalProperties.cloneGroup=function(t){var i=Object(o["merge"])({},t),n=[];for(var l in t.displays)n.push(e.config.globalProperties.cloneDisplay(t.displays[l]));return i.displays=n,i.id=null,i.uid=Object(a["default"])(),i}}},s={install:function(e){e.config.globalProperties.fieldComponent=function(e){return"undefined"!=typeof window.CraftThemes.fieldComponents[e]?"field-"+e:"field"}}},c=Craft.HandleGenerator.extend({callback:null,updateTarget:function(){if(this.$target.is(":visible")){var e=this.$source.val();if("undefined"!==typeof e){var t=this.generateTargetValue(e);this.$target.val(t),this.$target.trigger("change"),this.$target.trigger("input"),this.$target.is(":focus")&&Craft.selectFullValue(this.$target),this.callback&&this.callback(t)}}}}),u=Craft.BaseElementSelectInput.extend({theme:null,actionUrl:null,createElementCallback:null,initialIds:[],errors:{},init:function(e){var t=this;this.base(e),this.$elementsContainer.html(""),this.initialIds.length&&Craft.postActionRequest(this.actionUrl,{theme:this.theme,id:this.initialIds},(function(e){var i,a=[],o=Object(n["default"])(e);try{for(o.s();!(i=o.n()).done;){var l=i.value;a.push(t.createElementCallback(l))}}catch(d){o.e(d)}finally{o.f()}t.selectElements2(a),t.updateErrors()}))},setSettings:function(){this.base.apply(this,arguments),this.theme=arguments[0].theme,this.actionUrl=arguments[0].actionUrl,this.createElementCallback=arguments[0].createElementCallback,this.initialIds=arguments[0].initialIds,this.errors=arguments[0].errors},createNewElement:function(e){var t=this,i=this.base(e),n=$('<div class="row" style="margin-bottom:5px;display:flex;justify-content:space-between;align-items:center">');return n.append(i),e.viewModes?this.appendViewModes(n,e.viewModes,e.viewMode):this.fetchViewModes(e.id).done((function(i){var a;t.appendViewModes(n,i[0].viewModes,null!==(a=e.viewMode)&&void 0!==a?a:i[0].viewModes[0].uid),t.trigger("viewModesChanged")})),n},updateErrors:function(){for(var e in this.$container.find(".element-error").remove(),this.errors){var t=this.$elements.find(".element[data-id="+e+"]").parent(),i=$('<div class="error element-error">'+this.errors[e]+"</div>");t.find(".select-wrapper").append(i)}},selectElements2:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(!t.includes(n.id)){t.push(n.id);var a=this.createNewElement(n);this.appendElement(a),this.addElements(a),n.$element=a}}this.onSelectElements(e)},fetchViewModes:function(e){var t={theme:this.theme,id:e};return Craft.postActionRequest(this.actionUrl,t)},appendViewModes:function(e,t,i){var n=this,a=$('<div class="select-wrapper"><div class="select"><select><option value="">'+Craft.t("themes","Select a view mode")+"</select></select></div></div>");t.forEach((function(e){a.find("select").append('<option value="'+e.uid+'"'+(e.uid==i?" selected":"")+">"+e.name+"</options>")})),a.find("select").on("change",(function(){n.trigger("viewModesChanged")})),e.append(a)},getSelectedElementIds:function(){for(var e=[],t=0;t<this.$elements.length;t++)e.push(this.$elements.eq(t).find(".element").data("id"));return e},getSelectedElementData:function(){for(var e=[],t=0;t<this.$elements.length;t++){var i=this.$elements.eq(t);e.push({id:i.find(".element").data("id"),viewMode:i.find("select").val()})}return e},removeElements:function(e){if(this.settings.selectable&&this.elementSelect.removeItems(e),this.modal){for(var t=[],i=0;i<e.length;i++){var n=e.find(".element").eq(i).data("id");n&&t.push(n)}t.length&&this.modal.elementIndex.enableElementsById(t)}e.children("input").prop("disabled",!0),this.$elements=this.$elements.not(e),this.updateAddElementsBtn(),this.onRemoveElements()},removeElement:function(e){this.removeElements(e.parent()),this.animateElementAway(e.parent(),(function(){e.parent().remove()}))},initElementSort:function(){var e=this;this.base(),this.elementSort.settings.ignoreHandleSelector=".delete, .select",this.elementSort.settings.onSortChange=function(){e.trigger("orderChanged")}}})},ab2b:function(e,t,i){"use strict";i.r(t),i.d(t,"render",(function(){return N}));i("b0c0");var n=i("f2bf"),a={class:"move col"},o=Object(n["createElementVNode"])("div",{class:"indented"},null,-1),l={key:0,class:"move icon"},d={class:"title col"},r={key:0,class:"handle col"},s=["value","size"],c=Object(n["createElementVNode"])("span",{"data-icon":"clipboard","aria-hidden":"true"},null,-1),u={class:"type col code"},f={class:"label col"},p={key:0,class:"select"},b=["selected"],h=["selected"],m=["selected"],v={class:"visibility col"},y={class:"select"},O=["selected"],j=["selected"],g=["selected"],w={class:"displayer col"},V={key:0,class:"select"},M={key:0},E=["selected","value"],k={key:1},C={class:"options col"};function N(e,t,i,N,x,S){var D=Object(n["resolveComponent"])("options-modal");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(S.containerClasses)},[Object(n["createElementVNode"])("div",a,[o,i.moveable?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",l)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",d,Object(n["toDisplayString"])(i.item.name),1),e.showFieldHandles?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[S.fullHandle?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"code small light copytextbtn",title:"Copy to clipboard",role:"button",onClick:t[0]||(t[0]=function(){return S.copyValue&&S.copyValue.apply(S,arguments)})},[Object(n["createElementVNode"])("input",{type:"text",value:S.fullHandle,readonly:"",size:S.fullHandle.length},null,8,s),c])):Object(n["createCommentVNode"])("",!0)])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",u,Object(n["toDisplayString"])(i.item.displayName),1),Object(n["createElementVNode"])("div",f,[i.hasLabel?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",p,[Object(n["createElementVNode"])("select",{onChange:t[1]||(t[1]=function(){return S.updateLabelVisibility&&S.updateLabelVisibility.apply(S,arguments)})},[Object(n["createElementVNode"])("option",{value:"hidden",selected:i.item.labelHidden},Object(n["toDisplayString"])(e.t("Hidden")),9,b),Object(n["createElementVNode"])("option",{value:"visuallyHidden",selected:i.item.labelVisuallyHidden},Object(n["toDisplayString"])(e.t("Visually hidden")),9,h),Object(n["createElementVNode"])("option",{value:"visible",selected:S.labelVisible},Object(n["toDisplayString"])(e.t("Visible")),9,m)],32)])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",v,[Object(n["renderSlot"])(e.$slots,"visibility",{},(function(){return[Object(n["createElementVNode"])("div",y,[Object(n["createElementVNode"])("select",{onChange:t[2]||(t[2]=function(){return S.updateVisibility&&S.updateVisibility.apply(S,arguments)})},[Object(n["createElementVNode"])("option",{value:"hidden",selected:i.item.hidden},Object(n["toDisplayString"])(e.t("Hidden")),9,O),S.hasDisplayers?(Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:0,value:"visuallyHidden",selected:i.item.visuallyHidden},Object(n["toDisplayString"])(e.t("Visually hidden")),9,j)):Object(n["createCommentVNode"])("",!0),S.hasDisplayers?(Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:1,value:"visible",selected:S.visible},Object(n["toDisplayString"])(e.t("Visible")),9,g)):Object(n["createCommentVNode"])("",!0)],32)])]}))]),Object(n["createElementVNode"])("div",w,[S.hasDisplayers?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",V,[Object(n["createElementVNode"])("select",{onChange:t[3]||(t[3]=function(){return S.updateDisplayer&&S.updateDisplayer.apply(S,arguments)})},[x.displayer?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("option",M,Object(n["toDisplayString"])(e.t("Select")),1)),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i.item.availableDisplayers,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:e.handle,selected:x.displayer&&x.displayer.handle==e.handle,value:e.handle},Object(n["toDisplayString"])(e.name),9,E)})),128))],32)])):Object(n["createCommentVNode"])("",!0),S.hasDisplayers?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",k,Object(n["toDisplayString"])(e.t("None available")),1))]),Object(n["createElementVNode"])("div",C,[x.displayer&&x.displayer.hasOptions?(Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{key:0,href:"#",onClick:t[4]||(t[4]=Object(n["withModifiers"])((function(e){return x.showModal=!0}),["prevent"]))},[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])({icon:!0,settings:!0,error:S.hasErrors})},null,2)])):Object(n["createCommentVNode"])("",!0)]),x.showModal?(Object(n["openBlock"])(),Object(n["createBlock"])(D,{key:1,onOnSave:S.onSaveModal,displayerHasChanged:x.displayerHasChanged,displayer:x.displayer,item:i.item,onOnHide:S.closeModal},null,8,["onOnSave","displayerHasChanged","displayer","item","onOnHide"])):Object(n["createCommentVNode"])("",!0)],2)}},adb4:function(e,t,i){"use strict";i.r(t);var n=i("8fce");for(var a in i.d(t,"default",(function(){return n["default"]})),n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},ae16:function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("f2bf"),a=i("095d"),o=i("0b1a"),l=i("c665"),d=i("c093"),r=i("3b14"),s=i("81ab"),c=i("ea52"),u=i("ae5b"),f=i("4aac"),p=i("0177"),b=i("ba25"),h=i("6e38"),m=i("b76a"),v=i.n(m),y=i("aaa1"),O=Object(n["createApp"])({components:{Displays:l["default"],DisplayContext:o["default"],DisplayToolbar:d["default"],DisplayTabs:r["default"],DisplayMenu:s["default"]}}),j=Object(a["createStore"])(O);for(var g in O.use(j),O.use(y["Translate"]),O.use(y["HandleError"]),O.use(y["FieldComponent"]),O.use(y["Clone"]),O.component("field",b["default"]),O.component("view-mode-modal",f["default"]),O.component("draggable",v.a),O.component("group",h["default"]),O.component("options-modal",u["default"]),O.component("group-modal",p["default"]),O.component("display-item",c["default"]),window.CraftThemes.formFieldComponents)O.component("formfield-"+g,window.CraftThemes.formFieldComponents[g]);for(var w in window.CraftThemes.fieldComponents)O.component("field-"+w,window.CraftThemes.fieldComponents[w].component);O.mount("#main")},ae5b:function(e,t,i){"use strict";i.r(t);var n=i("a419"),a=i("3c1c");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);var l=i("6b0d"),d=i.n(l);const r=d()(a["default"],[["render",n["render"]]]);t["default"]=r},b4de:function(e,t,i){"use strict";i.r(t);var n=i("6650");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},b53a:function(e,t,i){"use strict";i.r(t);var n=i("5530"),a=(i("b64b"),i("a9e3"),i("5502"));t["default"]={computed:Object(n["default"])({containerClasses:function(){var e=this.classes+" line indented-"+this.indentationLevel;return this.isOpaque&&(e+=" opaque"),this.showFieldHandles&&(e+=" with-handles"),e},hasErrors:function(){return Array.isArray(this.item.errors)?this.item.errors.length>0:Object.keys(this.item.errors).length>0},visible:function(){return!this.item.visuallyHidden&&!this.item.hidden},labelVisible:function(){return!this.item.labelVisuallyHidden&&!this.item.labelHidden},hasDisplayers:function(){return this.item.availableDisplayers.length>0},displayerDefined:function(){return!!this.item.displayerHandle&&!1!==this.displayer},isOpaque:function(){return this.item.hidden||this.item.visuallyHidden||!this.displayerDefined||!this.hasDisplayers},fullHandle:function(){return this.displayer?this.displayer.handle:""}},Object(a["mapState"])(["showFieldHandles","itemsVisibility","labelsVisibility","switchLabelsVisibility","switchItemsVisibility"])),props:{item:Object,indentationLevel:Number,classes:{type:String,default:function(){return""}},display:{type:Object,default:function(){}},moveable:{type:Boolean,default:!0},hasLabel:{type:Boolean,default:!0}},data:function(){return{showModal:!1,displayerHasChanged:!1,displayer:!1}},created:function(){this.displayer=this.getDisplayer(this.item.displayerHandle)},watch:{switchItemsVisibility:function(){this.$emit("updateItem",{hidden:!this.itemsVisibility})},switchLabelsVisibility:function(){this.$emit("updateItem",{labelHidden:!this.labelsVisibility})}},methods:{copyValue:function(e){var t=e.target;t.select(),document.execCommand("copy"),Craft.cp.displayNotice(this.t("Copied to clipboard.","app")),t.setSelectionRange(0,0)},closeModal:function(){this.showModal=!1,this.displayerHasChanged=!1},onSaveModal:function(e){this.$emit("updateItem",{options:e})},updateLabelVisibility:function(e){var t=e.originalTarget.value,i={labelHidden:!1,labelVisuallyHidden:!1};"hidden"==t?i.labelHidden=!0:"visuallyHidden"==t&&(i.labelVisuallyHidden=!0),this.$emit("updateItem",i)},updateVisibility:function(e){var t=e.originalTarget.value,i={hidden:!1,visuallyHidden:!1};"hidden"==t?i.hidden=!0:"visuallyHidden"==t&&(i.visuallyHidden=!0),this.$emit("updateItem",i)},getDisplayer:function(e){for(var t in this.item.availableDisplayers)if(this.item.availableDisplayers[t].handle==e)return this.item.availableDisplayers[t];return!1},updateDisplayer:function(e){this.$emit("updateItem",{displayerHandle:e.originalTarget.value,options:{}}),this.displayerHasChanged=!0,this.displayer=this.getDisplayer(e.originalTarget.value),this.displayer.hasOptions&&(this.showModal=!0)}},emits:["updateItem"]}},b9df:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"input[disabled][data-v-21265fc1]{background:hsla(0,0%,90.2%,.7)}.modal[data-v-21265fc1]{padding-bottom:62px;max-height:307px!important;max-width:300px!important;min-height:unset!important;min-width:unset!important}.modal .body[data-v-21265fc1]{height:calc(100% - 65px)}",""]),e.exports=t},ba1e:function(e,t,i){"use strict";i.r(t),i.d(t,"render",(function(){return g}));i("b0c0");var n=i("f2bf"),a={class:"modal elementselectormodal modal-viewmode",style:{display:"none"},ref:"modal"},o={class:"header"},l={class:"body"},d={class:"content"},r={class:"field width-100"},s={class:"heading"},c={class:"required",for:"name"},u={class:"input ltr"},f={key:0,class:"errors"},p={class:"field width-100"},b={class:"heading"},h={class:"required",for:"handle"},m={class:"input ltr"},v=["disabled"],y={key:0,class:"errors"},O={class:"footer"},j={class:"buttons right"};function g(e,t,i,g,w,V){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("h3",null,Object(n["toDisplayString"])(i.editedViewMode?e.t("Edit view mode"):e.t("Add view mode")),1)]),Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("form",{onSubmit:t[2]||(t[2]=Object(n["withModifiers"])((function(){return V.save&&V.save.apply(V,arguments)}),["prevent"]))},[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("label",c,Object(n["toDisplayString"])(e.t("Name",{},"app")),1)]),Object(n["createElementVNode"])("div",u,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",id:"name",class:Object(n["normalizeClass"])({text:!0,fullwidth:!0,error:w.nameError}),"onUpdate:modelValue":t[0]||(t[0]=function(e){return w.name=e}),maxlength:"255",required:""},null,2),[[n["vModelText"],w.name]])]),w.nameError?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",f,[Object(n["createElementVNode"])("li",null,Object(n["toDisplayString"])(w.nameError),1)])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("label",h,Object(n["toDisplayString"])(e.t("Handle",{},"app")),1)]),Object(n["createElementVNode"])("div",m,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",id:"handle",class:Object(n["normalizeClass"])({text:!0,fullwidth:!0,error:w.handleError}),disabled:"edit"==V.mode&&"default"==i.editedViewMode.handle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return w.handle=e}),maxlength:"255",required:""},null,10,v),[[n["vModelText"],w.handle]])]),w.handleError?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",y,[Object(n["createElementVNode"])("li",null,Object(n["toDisplayString"])(w.handleError),1)])):Object(n["createCommentVNode"])("",!0)])],32)])]),Object(n["createElementVNode"])("div",O,[Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("button",{type:"button",class:"btn",onClick:t[3]||(t[3]=function(){return V.closeModal&&V.closeModal.apply(V,arguments)})},Object(n["toDisplayString"])(e.t("Close",{},"app")),1),Object(n["createElementVNode"])("button",{type:"button",class:"btn submit",onClick:t[4]||(t[4]=Object(n["withModifiers"])((function(){return V.save&&V.save.apply(V,arguments)}),["prevent"]))},Object(n["toDisplayString"])(e.t("Save",{},"app")),1)])])],512)}},ba25:function(e,t,i){"use strict";i.r(t);var n=i("eb6a"),a=i("612a");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);var l=i("6b0d"),d=i.n(l);const r=d()(a["default"],[["render",n["render"]]]);t["default"]=r},c093:function(e,t,i){"use strict";i.r(t);var n=i("b4de"),a=i("1cc3");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("3c9a"),i("7966");var l=i("6b0d"),d=i.n(l);const r=d()(a["default"],[["render",n["render"]],["__scopeId","data-v-4b971a23"]]);t["default"]=r},c665:function(e,t,i){"use strict";i.r(t);var n=i("dd32"),a=i("0d4c");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("fbe8");var l=i("6b0d"),d=i.n(l);const r=d()(a["default"],[["render",n["render"]]]);t["default"]=r},c837:function(e,t,i){"use strict";i.r(t);var n=i("61e9");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},c856:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".btn[disabled][data-v-4b971a23]{opacity:.5}",""]),e.exports=t},d3f5:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".icon.delete[data-v-e6ff0162],.icon.edit[data-v-e6ff0162]{margin-left:10px;margin-right:0!important;cursor:pointer}.icon.delete[data-v-e6ff0162]:before,.icon.edit[data-v-e6ff0162]:before{margin-top:-3px}#tabs[data-v-e6ff0162]{position:relative;min-height:40px}#tabs ul[data-v-e6ff0162]{overflow:hidden;-webkit-box-flex:1;-ms-flex:1;flex:1}.add-viewmode[data-v-e6ff0162]{font-size:14px;margin-left:10px}.heading[data-v-e6ff0162]{text-transform:uppercase;padding-right:10px;color:#596673;font-size:11px;font-weight:700}",""]),e.exports=t},dd32:function(e,t,i){"use strict";i.r(t);var n=i("ead8");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},ddf9:function(e,t,i){var n=i("a39f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("499e").default;a("7c6b7148",n,!0,{sourceMap:!1,shadowMode:!1})},ded5:function(e,t,i){"use strict";i.r(t),i.d(t,"render",(function(){return a}));var n=i("f2bf");function a(e,t,i,a,o,l){return Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])(l.type),{display:i.display,item:i.display.item,"indentation-level":i.indentationLevel,onUpdateItem:t[0]||(t[0]=function(t){return e.updateItem({displayUid:i.display.uid,data:t})})},null,8,["display","item","indentation-level"])}},ea52:function(e,t,i){"use strict";i.r(t);var n=i("fbb9"),a=i("7c5d");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);var l=i("6b0d"),d=i.n(l);const r=d()(a["default"],[["render",n["render"]]]);t["default"]=r},ead8:function(e,t,i){"use strict";i.r(t),i.d(t,"render",(function(){return w}));var n=i("f2bf"),a={class:"themes-displays"},o={key:0,class:"spinner-wrapper"},l=Object(n["createElementVNode"])("div",{class:"spinner"},null,-1),d=[l],r={key:1,class:"fullwidth display-table"},s=Object(n["createElementVNode"])("div",{class:"handle col"},null,-1),c={class:"title col"},u={key:0,class:"handle col"},f={class:"type col"},p={class:"label col"},b=["title"],h={class:"visibility col"},m=["title"],v={class:"displayer col"},y=Object(n["createElementVNode"])("div",{class:"options col"},null,-1),O={class:"body"},j={key:2},g={key:3};function w(e,t,i,l,w,V){var M=this,E=Object(n["resolveComponent"])("display-item"),k=Object(n["resolveComponent"])("draggable"),C=Object(n["resolveComponent"])("group-modal");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[V.isLoading||e.isSaving?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,d)):Object(n["createCommentVNode"])("",!0),V.rootDisplays.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])({line:!0,head:!0,"with-handles":e.showFieldHandles})},[s,Object(n["createElementVNode"])("div",c,Object(n["toDisplayString"])(e.t("Title",{},"app")),1),e.showFieldHandles?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",u,Object(n["toDisplayString"])(e.t("Handle",{},"app")),1)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",f,Object(n["toDisplayString"])(e.t("Type")),1),Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("a",{href:"#",onClick:t[0]||(t[0]=Object(n["withModifiers"])((function(t){return e.setLabelsVisibility(!M.allLabelsVisible)}),["prevent"])),title:e.allLabelsVisible?e.t("Make all hidden"):e.t("Make all visible")},Object(n["toDisplayString"])(e.t("Label",{},"app")),9,b)]),Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("a",{href:"#",onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(t){return e.setItemsVisibility(!M.allItemsVisible)}),["prevent"])),title:e.allItemsVisible?e.t("Make all hidden"):e.t("Make all visible")},Object(n["toDisplayString"])(e.t("Visibility")),9,m)]),Object(n["createElementVNode"])("div",v,Object(n["toDisplayString"])(e.t("Displayer")),1),y],2),Object(n["createElementVNode"])("div",O,[Object(n["createVNode"])(k,{"item-key":"uid",list:V.rootDisplays,group:"displays",handle:".move",swapThreshold:"0.65",onChange:V.onDragChange},{item:Object(n["withCtx"])((function(e){var t=e.element;return[Object(n["createVNode"])(E,{display:t,"indentation-level":0},null,8,["display"])]})),_:1},8,["list","onChange"])])])):Object(n["createCommentVNode"])("",!0),e.layouts.length>0&&0==V.rootDisplays.length&&!V.isLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",j,Object(n["toDisplayString"])(e.t("There are no displays for this view mode")),1)):Object(n["createCommentVNode"])("",!0),0!=e.layouts.length||V.isLoading?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",g,Object(n["toDisplayString"])(e.t("No layouts available, you should reinstall the themes data in the settings")),1)),Object(n["createVNode"])(C,{onCloseModal:t[2]||(t[2]=function(t){return e.setShowGroupModal({show:!1})})})])}},eb6a:function(e,t,i){"use strict";i.r(t);var n=i("ab2b");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},ec7b:function(e,t,i){"use strict";i.r(t);var n=i("6506");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},f08e:function(e,t,i){var n=i("b9df");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("499e").default;a("57ce4122",n,!0,{sourceMap:!1,shadowMode:!1})},f0f8:function(e,t,i){"use strict";i.r(t);i("b64b");var n=i("2ef0");t["default"]={computed:{},props:{displayer:Object,item:Object,displayerHasChanged:Boolean},data:function(){return{modal:null,options:{},errors:{}}},created:function(){var e;this.displayerHasChanged?this.options=Object(n["merge"])({},this.displayer.options.defaultValues):this.options=Object(n["merge"])({},this.item.options),this.errors=null!==(e=this.item.errors.displayer)&&void 0!==e?e:{}},beforeUnmount:function(){this.modal.destroy()},mounted:function(){var e=this;this.modal=new Garnish.Modal(this.$refs.modal,{hideOnEsc:!1,hideOnShadeClick:!1,onHide:function(){e.$emit("onHide")}})},methods:{formFieldComponent:function(e){return"formfield-"+e},closeModal:function(){this.options={},this.errors={},this.modal.hide()},updateOption:function(e,t){this.options[e]=t},save:function(){var e=this,t={fieldId:this.item.id,displayer:this.displayer.handle,options:this.options};axios({method:"post",url:Craft.getCpUrl("themes/ajax/validate-field-options"),data:t,headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then((function(t){Object.keys(t.data.errors).length>0?e.errors=t.data.errors:(e.$emit("onSave",e.options),e.closeModal())})).catch((function(t){e.handleError(t)}))}},emits:["onSave","onHide"]}},fbb9:function(e,t,i){"use strict";i.r(t);var n=i("ded5");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},fbe8:function(e,t,i){"use strict";i.r(t);var n=i("9181");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a)},fddc:function(e,t,i){"use strict";i.r(t),i.d(t,"render",(function(){return c}));i("a4d3"),i("e01a");var n=i("f2bf"),a={class:"header"},o=["innerHTML"],l={class:"body"},d={class:"content"},r={class:"footer"},s={class:"buttons right"};function c(e,t,i,c,u,f){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])("modal elementselectormodal themes-modal-options displayer-"+i.displayer.handle),style:{display:"none"},ref:"modal"},[Object(n["createElementVNode"])("div",a,[Object(n["createElementVNode"])("h3",null,Object(n["toDisplayString"])(e.t("Edit displayer options")),1),i.displayer.description?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",{key:0,class:"description",innerHTML:i.displayer.description},null,8,o)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("form",{class:"main",onSubmit:t[0]||(t[0]=Object(n["withModifiers"])((function(){return f.save&&f.save.apply(f,arguments)}),["prevent"]))},[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i.displayer.options.definitions,(function(e,t){var i,a;return Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])(f.formFieldComponent(e.field)),{name:t,definition:e,value:null!==(i=u.options[t])&&void 0!==i?i:null,errors:null!==(a=u.errors[t])&&void 0!==a?a:[],onChange:function(e){return f.updateOption(t,e)},key:t},null,8,["name","definition","value","errors","onChange"])})),128))],32)])]),Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",s,[i.displayerHasChanged?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,type:"button",class:"btn",onClick:t[1]||(t[1]=function(){return f.closeModal&&f.closeModal.apply(f,arguments)})},Object(n["toDisplayString"])(e.t("Close",{},"app")),1)),Object(n["createElementVNode"])("button",{type:"button",class:"btn submit",onClick:t[2]||(t[2]=function(){return f.save&&f.save.apply(f,arguments)})},Object(n["toDisplayString"])(e.t("Save",{},"app")),1)])])],2)}}});