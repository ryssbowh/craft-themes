{"version":3,"sources":["rules.js"],"names":["enabled","show","_this","$","slideDown","slideUp","Craft","Themes","RulesTable","EditableTable","extend","init","id","baseName","columns","settings","this","onAddRow","tr","prototype","call","checkAllRows","disableRow","addClass","find","hasClass","change","showHideConsoleThemeField"],"mappings":"aAiCQA,SAAAA,0BAA2BC,GACvBC,EADJC,EAAA,mBAAAC,YA7BRD,EAAA,mBAAAE,UAJoB,MAAhBC,MAAMC,SACND,MAAMC,OAAS,IAClBD,MAAAC,OAAAC,WAAAF,MAAAG,cAAAC,OAAA,CACDC,KAAA,SAAAC,EAAAC,EAAAC,EAAAC,GAGQ,IAAIb,EAAQc,KACZD,EAASE,SAAW,SAAUC,GAHtChB,EAAaM,SAAaF,IAEdJ,MAAKO,cAATU,UAAAR,KAAAS,KAAAJ,KAAAJ,EAAAC,EAAAC,EAAAC,GAKAC,KAAKK,gBAFJA,aAFD,WAQA,IAAInB,EAAQc,KALZV,EAAMG,KAAAA,KAAAA,OAAcU,KAAAA,MAAeC,WAC9BC,EAAAA,SAALlB,EAAAa,UAUJM,WAAY,SAAUJ,EAAIlB,GALfA,EACGiB,EAAAA,YAAU,YAbyBC,EAAAK,SAAA,aAoB5CN,SAAM,SAAAC,GACD,IAACK,EAASL,EAAAM,KAAZ,2BACHR,KAAAM,WAAAJ,EAAAlB,EAAAyB,SAAA,OAtB4C,IAAAvB,EAAAc,KAyBjDC,EAAUS,OAAA,WACF1B,EAAUkB,WAAQA,EAAAlB,EAAAyB,SAAA,YAWtBtB,EAAAA,WADJwB,0BAEOxB,EAAA,wBAAAsB,SAAA,OACHtB,EAAE,wBAAmBE,GAArB,SAAA,WACHsB,0BAAAxB,EAAA,wBAAAsB,SAAA","file":"rules.js","sourcesContent":["if (Craft.Themes == null) {\n    Craft.Themes = {};\n}\n/** global: Craft */\nCraft.Themes.RulesTable = Craft.EditableTable.extend({\n    init: function(id, baseName, columns, settings) {\n        let _this = this;\n        settings.onAddRow = function (tr) {\n            _this.onAddRow(tr);\n        }\n        Craft.EditableTable.prototype.init.call(this, id, baseName, columns, settings);\n        this.checkAllRows();\n    },\n\n    checkAllRows: function() {\n        let _this = this;\n        $.each(this.$tbody.find('tr'), function() {\n            _this.onAddRow($(this));\n        });\n    },\n\n    disableRow: function (tr, enabled) {\n        if (enabled) {\n            tr.removeClass('disabled')\n        } else {\n            tr.addClass('disabled');\n        }\n    },\n\n    onAddRow: function (tr) {\n        let enabled = tr.find('td.enabled .lightswitch');\n        this.disableRow(tr, enabled.hasClass('on'));\n        let _this = this;\n        enabled.change(function () {\n            _this.disableRow(tr, enabled.hasClass('on'));\n        });\n    }\n});\n\nfunction showHideConsoleThemeField(show) {\n    if (show) {\n        $('.console-themes').slideDown();\n    } else {\n        $('.console-themes').slideUp();\n    }\n}\n\n$(function() { \n    showHideConsoleThemeField($('.console-lightswitch').hasClass('on'));\n    $('.console-lightswitch').on('change', function(){\n        showHideConsoleThemeField($('.console-lightswitch').hasClass('on'));\n    });\n});"]}