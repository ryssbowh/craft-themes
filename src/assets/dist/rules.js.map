{"version":3,"sources":["rules.js"],"names":["enabled","show","selectClass","_this","$","slideDown","slideUp","Craft","Themes","RulesTable","EditableTable","extend","init","id","baseName","columns","settings","this","onAddRow","tr","prototype","call","checkAllRows","disableRow","addClass","find","hasClass","change","toggleSelectThemeField","on"],"mappings":"aAiCQA,SAAAA,uBAA2BC,EAAAC,GACvBC,EADJC,EAAAF,GAAAG,YA7BRD,EAAAF,GAAAI,UAJoB,MAAhBC,MAAMC,SACND,MAAMC,OAAS,IAClBD,MAAAC,OAAAC,WAAAF,MAAAG,cAAAC,OAAA,CACDC,KAAA,SAAAC,EAAAC,EAAAC,EAAAC,GAGQ,IAAIb,EAAQc,KACZD,EAASE,SAAW,SAAUC,GAHtChB,EAAaM,SAAaF,IAEdJ,MAAKO,cAATU,UAAAR,KAAAS,KAAAJ,KAAAJ,EAAAC,EAAAC,EAAAC,GAKAC,KAAKK,gBAFJA,aAFD,WAQA,IAAInB,EAAQc,KALZV,EAAMG,KAAAA,KAAAA,OAAcU,KAAAA,MAAeC,WAC9BC,EAAAA,SAALlB,EAAAa,UAUJM,WAAY,SAAUJ,EAAInB,GALfA,EACGkB,EAAAA,YAAU,YAbyBC,EAAAK,SAAA,aAoB5CN,SAAM,SAAAC,GACD,IAACK,EAASL,EAAAM,KAAZ,2BACHR,KAAAM,WAAAJ,EAAAnB,EAAA0B,SAAA,OAtB4C,IAAAvB,EAAAc,KAyBjDC,EAAUS,OAAA,WACF3B,EAAUmB,WAAQA,EAAAnB,EAAA0B,SAAA,YAWtBtB,EAAAA,WADJwB,uBAEOxB,EAAA,wBAAAsB,SAAA,MAAA,kBACHtB,uBAAAA,EAAA,mBAAAsB,SAAA,MAAA,aACHtB,EAAA,wBAAAyB,GAAA,SAAA,WACJD,uBAAAxB,EAAA,wBAAAsB,SAAA,MAAA,oBAECtB,EAAA,mBAAWyB,GAAA,SAAA,WACTD,uBAAyBxB,EAAA,mBAAwBsB,SAAS,MAAO","file":"rules.js","sourcesContent":["if (Craft.Themes == null) {\n    Craft.Themes = {};\n}\n/** global: Craft */\nCraft.Themes.RulesTable = Craft.EditableTable.extend({\n    init: function(id, baseName, columns, settings) {\n        let _this = this;\n        settings.onAddRow = function (tr) {\n            _this.onAddRow(tr);\n        }\n        Craft.EditableTable.prototype.init.call(this, id, baseName, columns, settings);\n        this.checkAllRows();\n    },\n\n    checkAllRows: function() {\n        let _this = this;\n        $.each(this.$tbody.find('tr'), function() {\n            _this.onAddRow($(this));\n        });\n    },\n\n    disableRow: function (tr, enabled) {\n        if (enabled) {\n            tr.removeClass('disabled')\n        } else {\n            tr.addClass('disabled');\n        }\n    },\n\n    onAddRow: function (tr) {\n        let enabled = tr.find('td.enabled .lightswitch');\n        this.disableRow(tr, enabled.hasClass('on'));\n        let _this = this;\n        enabled.change(function () {\n            _this.disableRow(tr, enabled.hasClass('on'));\n        });\n    }\n});\n\nfunction toggleSelectThemeField(show, selectClass) {\n    if (show) {\n        $(selectClass).slideDown();\n    } else {\n        $(selectClass).slideUp(); \n    }\n}\n\n$(function() { \n    toggleSelectThemeField($('.console-lightswitch').hasClass('on'), '.console-theme');\n    toggleSelectThemeField($('.cp-lightswitch').hasClass('on'), '.cp-theme');\n    $('.console-lightswitch').on('change', function(){\n        toggleSelectThemeField($('.console-lightswitch').hasClass('on'), '.console-theme');\n    });\n    $('.cp-lightswitch').on('change', function(){\n        toggleSelectThemeField($('.cp-lightswitch').hasClass('on'), '.cp-theme');\n    });\n});"]}