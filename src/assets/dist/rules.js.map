{"version":3,"sources":["rules.js"],"names":["Craft","Themes","RulesTable","EditableTable","extend","init","id","baseName","columns","settings","_this","this","onAddRow","tr","prototype","call","checkAllRows","$","disableRow","enabled","addClass","find","hasClass","change"],"mappings":"aAAoB,MAAhBA,MAAMC,SACND,MAAMC,OAAS,IAClBD,MAAAC,OAAAC,WAAAF,MAAAG,cAAAC,OAAA,CACDC,KAAA,SAAAC,EAAAC,EAAAC,EAAAC,GAGQ,IAAIC,EAAQC,KACZF,EAASG,SAAW,SAAUC,GAHtCH,EAAaR,SAAaF,IAEdU,MAAKP,cAATW,UAAAT,KAAAU,KAAAJ,KAAAL,EAAAC,EAAAC,EAAAC,GAKAE,KAAKK,gBAFJA,aAFD,WAQA,IAAIN,EAAQC,KALZX,EAAMG,KAAAA,KAAAA,OAAcW,KAAAA,MAAeC,WAC9BC,EAAAA,SAALC,EAAAN,UAUJO,WAAY,SAAUL,EAAIM,GALfA,EACGP,EAAAA,YAAU,YAbyBC,EAAAO,SAAA,aAoB5CR,SAAM,SAAAC,GACD,IAACO,EAASP,EAAAQ,KAAZ,2BACHV,KAAAO,WAAAL,EAAAM,EAAAG,SAAA,OAtB4C,IAAAZ,EAAAC,KAyBjDC,EAAUW,OAAA,WACFJ,EAAUN,WAAQA,EAAAM,EAAAG,SAAA","file":"rules.js","sourcesContent":["if (Craft.Themes == null) {\n    Craft.Themes = {};\n}\n/** global: Craft */\nCraft.Themes.RulesTable = Craft.EditableTable.extend({\n    init: function(id, baseName, columns, settings) {\n        let _this = this;\n        settings.onAddRow = function (tr) {\n            _this.onAddRow(tr);\n        }\n        Craft.EditableTable.prototype.init.call(this, id, baseName, columns, settings);\n        this.checkAllRows();\n    },\n\n    checkAllRows: function() {\n        let _this = this;\n        $.each(this.$tbody.find('tr'), function() {\n            _this.onAddRow($(this));\n        });\n    },\n\n    disableRow: function (tr, enabled) {\n        if (enabled) {\n            tr.removeClass('disabled')\n        } else {\n            tr.addClass('disabled');\n        }\n    },\n\n    onAddRow: function (tr) {\n        let enabled = tr.find('td.enabled .lightswitch');\n        this.disableRow(tr, enabled.hasClass('on'));\n        let _this = this;\n        enabled.change(function () {\n            _this.disableRow(tr, enabled.hasClass('on'));\n        });\n    }\n});"]}