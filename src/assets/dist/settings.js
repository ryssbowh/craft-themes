"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],a=!0,n=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){n=!0,o=t}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"===_typeof(Craft.Themes)&&(Craft.Themes={}),Craft.Themes.SettingsTable=Craft.EditableTable.extend({init:function(t,e,r,a){var n=this;a.onAddRow=function(t){n.onAddRow(t)},Craft.EditableTable.prototype.init.call(this,t,e,r,a),this.checkAllRows(),this.displayErrors()},displayErrors:function(){var a=this;this.settings.errors.forEach(function(t,e){var r=_slicedToArray(t.split(":").map(function(t){return parseInt(t)}),2),t=r[0],r=r[1];a.$tbody.find("tr:nth-child("+(t+1)+") td:nth-child("+(r+1)+")").addClass("error")})},checkAllRows:function(){var t=this;$.each(this.$tbody.find("tr"),function(){t.onAddRow($(this))})},disableRow:function(t,e){e?t.removeClass("disabled"):t.addClass("disabled")},checkRow:function(t){var e=t.find("td.type select").val(),r=t.find("td.url textarea"),a=t.find("td.site select"),t=t.find("td.language select");r.closest("td").removeClass("error"),"site"==e?(a.attr("disabled",!1).removeClass("disabled"),[t,r].map(function(t){return t.attr("disabled","disabled").addClass("disabled")})):"url"==e?(r.attr("disabled",!1).removeClass("disabled"),[t,a].map(function(t){return t.attr("disabled","disabled").addClass("disabled")})):(t.attr("disabled",!1).removeClass("disabled"),[a,r].map(function(t){return t.attr("disabled","disabled").addClass("disabled")}))},onAddRow:function(t){var e=t.find("td.enabled .lightswitch"),r=t.find("td.url textarea");this.checkRow(t),this.disableRow(t,e.hasClass("on"));var a=this;t.find("td.type select").change(function(){a.checkRow($(this).closest("tr"))}),e.change(function(){a.disableRow(t,e.hasClass("on"))}),r.keyup(function(){""==$(this).val().trim()?$(this).closest("td").addClass("error"):$(this).closest("td").removeClass("error")})}});