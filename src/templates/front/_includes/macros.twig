{% macro truncateChars(text, length, suffix) %}
    {% spaceless %}
    {% autoescape false %}
    {% if text and length %}
        {% set text = text|striptags %}
        {% set suffix = suffix|default('') %}
        {% set stringy = create(
            "Stringy\\Stringy",
            [text]
        ) %}
        {{ stringy.safeTruncate(length, suffix) }}
    {% endif %}
    {% endautoescape %}
    {% endspaceless %}
{% endmacro %}

{% macro renderAsset(asset, field, options) %}
    {% if asset %}
        {{ craft.themes.view.renderFile(asset, field, options.getDisplayerForKind(asset.kind)) }}
    {% endif %}
{% endmacro %}

{% macro renderLayout(layout, viewMode, element) %}
    {% if layout and viewMode and element %}
        {{ layout.render(element, viewMode) }}
    {% endif %}
{% endmacro %}